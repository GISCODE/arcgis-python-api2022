

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>arcgis.learn module &mdash; arcgis 1.8.4 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="EntityRecognizer" href="arcgis.learn.text.html" />
    <link rel="prev" title="arcgis.apps.tracker module" href="arcgis.apps.tracker.html" />
<!-- This code block is inserted close near the <head> tag. See http://bit.ly/2BHUQzB -->
<!-- The point of this code block is to send us google analytics on website views -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NJGGV5');</script>
 

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> arcgis
          

          
            
            <img src="_static/python_api_logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.8.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">arcgis</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="arcgis.gis.toc.html">arcgis.gis module</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.env.html">arcgis.env module</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.features.toc.html">arcgis.features module</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.raster.toc.html">arcgis.raster module</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.network.toc.html">arcgis.network module</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.geoanalytics.toc.html">arcgis.geoanalytics module</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.geocoding.html">arcgis.geocoding module</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.geoenrichment.html">arcgis.geoenrichment module</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.geometry.html">arcgis.geometry module</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.geoprocessing.html">arcgis.geoprocessing module</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.mapping.toc.html">arcgis.mapping module</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.realtime.html">arcgis.realtime module</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.schematics.html">arcgis.schematics module</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.widgets.html">arcgis.widgets module</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.apps.html">arcgis.apps module</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">arcgis.learn module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#data-preparation-methods">Data Preparation Methods</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#export-training-data">export_training_data</a></li>
<li class="toctree-l3"><a class="reference internal" href="#export-point-dataset">export_point_dataset</a></li>
<li class="toctree-l3"><a class="reference internal" href="#prepare-data">prepare_data</a></li>
<li class="toctree-l3"><a class="reference internal" href="#prepare-tabulardata">prepare_tabulardata</a></li>
<li class="toctree-l3"><a class="reference internal" href="#prepare-textdata">prepare_textdata</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#object-classification-models">Object Classification Models</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#featureclassifier">FeatureClassifier</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#object-detection-models">Object Detection Models</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fasterrcnn">FasterRCNN</a></li>
<li class="toctree-l3"><a class="reference internal" href="#retinanet">RetinaNet</a></li>
<li class="toctree-l3"><a class="reference internal" href="#yolov3">YOLOv3</a></li>
<li class="toctree-l3"><a class="reference internal" href="#singleshotdetector">SingleShotDetector</a></li>
<li class="toctree-l3"><a class="reference internal" href="#maskrcnn">MaskRCNN</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#pixel-classification-models">Pixel Classification Models</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#unetclassifier">UnetClassifier</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pspnetclassifier">PSPNetClassifier</a></li>
<li class="toctree-l3"><a class="reference internal" href="#deeplab">DeepLab</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bdcnedgedetector">BDCNEdgeDetector</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hededgedetector">HEDEdgeDetector</a></li>
<li class="toctree-l3"><a class="reference internal" href="#multitaskroadextractor">MultiTaskRoadExtractor</a></li>
<li class="toctree-l3"><a class="reference internal" href="#changedetector">ChangeDetector</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#image-translation-models">Image Translation Models</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#cyclegan">CycleGAN</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pix2pix">Pix2Pix</a></li>
<li class="toctree-l3"><a class="reference internal" href="#superresolution">SuperResolution</a></li>
<li class="toctree-l3"><a class="reference internal" href="#imagecaptioner">ImageCaptioner</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#d-models">3D Models</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#pointcnn">PointCNN</a></li>
<li class="toctree-l3"><a class="reference internal" href="#transform3d">Transform3d</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#scanned-maps">Scanned Maps</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#scannedmapdigitizer">ScannedMapDigitizer</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#tabular-and-feature-data-models">Tabular and Feature Data Models</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fullyconnectednetwork">FullyConnectedNetwork</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mlmodel">MLModel</a></li>
<li class="toctree-l3"><a class="reference internal" href="#timeseriesmodel">TimeSeriesModel</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#unstructured-text-models">Unstructured Text Models</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#arcgis-learn-text-module">arcgis.learn.text module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="arcgis.learn.text.html">EntityRecognizer</a></li>
<li class="toctree-l4"><a class="reference internal" href="arcgis.learn.text.html#textclassifier">TextClassifier</a></li>
<li class="toctree-l4"><a class="reference internal" href="arcgis.learn.text.html#sequencetosequence">SequenceToSequence</a></li>
<li class="toctree-l4"><a class="reference internal" href="arcgis.learn.text.html#inference-only-models">Inference Only Models</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#inferencing-methods-image-server">Inferencing Methods (Image Server)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#detect-objects">detect_objects</a></li>
<li class="toctree-l3"><a class="reference internal" href="#classify-objects">classify_objects</a></li>
<li class="toctree-l3"><a class="reference internal" href="#classify-pixels">classify_pixels</a></li>
<li class="toctree-l3"><a class="reference internal" href="#compute-accuracy-for-object-detection">compute_accuracy_for_object_detection</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#model-management">Model Management</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#model">Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="#modelextension">ModelExtension</a></li>
<li class="toctree-l3"><a class="reference internal" href="#list-models">list_models</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">arcgis</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>arcgis.learn module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
<!-- This code block is inserted close near the <body> tag. See http://bit.ly/2BHUQzB -->
<!-- The point of this code block is to send us google analytics on website views -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NJGGV5"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

  <div class="section" id="module-arcgis.learn">
<span id="arcgis-learn-module"></span><h1>arcgis.learn module<a class="headerlink" href="#module-arcgis.learn" title="Permalink to this headline">¶</a></h1>
<p>Functions for calling the Deep Learning Tools.</p>
<div class="section" id="data-preparation-methods">
<h2>Data Preparation Methods<a class="headerlink" href="#data-preparation-methods" title="Permalink to this headline">¶</a></h2>
<div class="section" id="export-training-data">
<h3>export_training_data<a class="headerlink" href="#export-training-data" title="Permalink to this headline">¶</a></h3>
<dl class="py function">
<dt id="arcgis.learn.export_training_data">
<code class="sig-prename descclassname">arcgis.learn.</code><code class="sig-name descname">export_training_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_raster</span></em>, <em class="sig-param"><span class="n">input_class_data</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">chip_format</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tile_size</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">stride_size</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">metadata_format</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">classvalue_field</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">buffer_radius</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">output_location</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">context</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">input_mask_polygons</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">rotation_angle</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">reference_system</span><span class="o">=</span><span class="default_value">'MAP_SPACE'</span></em>, <em class="sig-param"><span class="n">process_all_raster_items</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">blacken_around_feature</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">fix_chip_size</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">future</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.export_training_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Function is designed to generate training sample image chips from the input imagery data with
labeled vector data or classified images. The output of this service tool is the data store string
where the output image chips, labels and metadata files are going to be stored.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>input_raster</p></td>
<td><p>Required. Raster layer that needs to be exported for training.</p></td>
</tr>
<tr class="row-odd"><td><p>input_class_data</p></td>
<td><p>Labeled data, either a feature layer or image layer.
Vector inputs should follow a training sample format as
generated by the ArcGIS Pro Training Sample Manager.
Raster inputs should follow a classified raster format as generated by the Classify Raster tool.</p></td>
</tr>
<tr class="row-even"><td><p>chip_format</p></td>
<td><p>Optional string. The raster format for the image chip outputs.</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">TIFF</span></code>: TIFF format</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PNG</span></code>: PNG format</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">JPEG</span></code>: JPEG format</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MRF</span></code>: MRF (Meta Raster Format)</p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-odd"><td><p>tile_size</p></td>
<td><p>Optional dictionary. The size of the image chips.</p>
<p>Example: {“x”: 256, “y”: 256}</p>
</td>
</tr>
<tr class="row-even"><td><p>stride_size</p></td>
<td><p>Optional dictionary. The distance to move in the X and Y when creating
the next image chip.
When stride is equal to the tile size, there will be no overlap.
When stride is equal to half of the tile size, there will be 50% overlap.</p>
<p>Example: {“x”: 128, “y”: 128}</p>
</td>
</tr>
<tr class="row-odd"><td><p>metadata_format</p></td>
<td><p>Optional string. The format of the output metadata labels. There are 4 options for output metadata labels for the training data,
KITTI Rectangles, PASCAL VOCrectangles, Classified Tiles (a class map) and RCNN_Masks. If your input training sample data
is a feature class layer such as building layer or standard classification training sample file,
use the KITTI or PASCAL VOC rectangle option.
The output metadata is a .txt file or .xml file containing the training sample data contained
in the minimum bounding rectangle. The name of the metadata file matches the input source image
name. If your input training sample data is a class map, use the Classified Tiles as your output metadata format option.</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">KITTI_rectangles</span></code>: The metadata follows the same format as the Karlsruhe Institute of Technology and Toyota
Technological Institute (KITTI) Object Detection Evaluation dataset. The KITTI dataset is a vision benchmark suite.
This is the default.The label files are plain text files. All values, both numerical or strings, are separated by
spaces, and each row corresponds to one object.
This format can be used with FasterRCNN, RetinaNet, SingleShotDetector and YOLOv3 models.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PASCAL_VOC_rectangles</span></code>: The metadata follows the same format as the Pattern Analysis, Statistical Modeling and
Computational Learning, Visual Object Classes (PASCAL_VOC) dataset. The PASCAL VOC dataset is a standardized
image data set for object class recognition.The label files are XML files and contain information about image name,
class value, and bounding box(es).
This format can be used with FasterRCNN, RetinaNet, SingleShotDetector and YOLOv3 models.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Classified_Tiles</span></code>: This option will output one classified image chip per input image chip.
No other meta data for each image chip. Only the statistics output has more information on the
classes such as class names, class values, and output statistics.
This format can be used with BDCNEdgeDetector, DeepLab, HEDEdgeDetector, MultiTaskRoadExtractor, PSPNetClassifier and UnetClassifier models.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">RCNN_Masks</span></code>: This option will output image chips that have a mask on the areas where the sample exists.
The model generates bounding boxes and segmentation masks for each instance of an object in the image.
This format can be used with MaskRCNN model.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Labeled_Tiles</span></code>: This option will label each output tile with a specific class.
This format is used for image classification.
This format can be used with FeatureClassifier model.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Multi-labeled</span> <span class="pre">Tiles</span></code>: Each output tile will be labeled with one or more classes.
For example, a tile may be labeled agriculture and also cloudy. This format is used for object classification.
This format can be used with FeatureClassifier model.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Export</span> <span class="pre">Tiles</span></code>: The output will be image chips with no label.
This format is used for image enhancement techniques such as Super Resolution and Change Detection.
This format can be used with ChangeDetector, CycleGAN, Pix2Pix and SuperResolution models.</p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td><p>classvalue_field</p></td>
<td><p>Optional string. Specifies the field which contains the class values. If no field is specified,
the system will look for a ‘value’ or ‘classvalue’ field. If this feature does
not contain a class field, the system will presume all records belong the 1 class.</p></td>
</tr>
<tr class="row-odd"><td><p>buffer_radius</p></td>
<td><p>Optional integer. Specifies a radius for point feature classes to specify training sample area.</p></td>
</tr>
<tr class="row-even"><td><p>output_location</p></td>
<td><p>This is the output location for training sample data.
It can be the server data store path or a shared file system path.</p>
<p>Example:</p>
<blockquote>
<div><p>Server datastore path -
<code class="docutils literal notranslate"><span class="pre">/fileShares/deeplearning/rooftoptrainingsamples</span></code>
<code class="docutils literal notranslate"><span class="pre">/rasterStores/rasterstorename/rooftoptrainingsamples</span></code>
<code class="docutils literal notranslate"><span class="pre">/cloudStores/cloudstorename/rooftoptrainingsamples</span></code></p>
<p>File share path -
<code class="docutils literal notranslate"><span class="pre">\\servername\deeplearning\rooftoptrainingsamples</span></code></p>
</div></blockquote>
</td>
</tr>
<tr class="row-odd"><td><p>context</p></td>
<td><p>Optional dictionary. Context contains additional settings that affect task execution.
Dictionary can contain value for following keys:</p>
<blockquote>
<div><ul>
<li><p>exportAllTiles - Choose if the image chips with overlapped labeled data will be exported.</p>
<blockquote>
<div><ul class="simple">
<li><p>True - Export all the image chips, including those that do not overlap labeled data.</p></li>
<li><p>False - Export only the image chips that overlap the labelled data. This is the default.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>startIndex - Allows you to set the start index for the sequence of image chips.
This lets you append more image chips to an existing sequence. The default value is 0.</p></li>
<li><p>cellSize - cell size can be set using this key in context parameter</p></li>
<li><p>extent - Sets the processing extent used by the function</p></li>
</ul>
</div></blockquote>
<p>Setting context parameter will override the values set using arcgis.env
variable for this particular function.(cellSize, extent)</p>
<p>eg: {“exportAllTiles” : False, “startIndex”: 0 }</p>
</td>
</tr>
<tr class="row-even"><td><p>input_mask_polygons</p></td>
<td><p>Optional feature layer. The feature layer that delineates the area where
image chips will be created.
Only image chips that fall completely within the polygons will be created.</p></td>
</tr>
<tr class="row-odd"><td><p>rotation_angle</p></td>
<td><p>Optional float. The rotation angle that will be used to generate additional
image chips.</p>
<p>An image chip will be generated with a rotation angle of 0, which
means no rotation. It will then be rotated at the specified angle to
create an additional image chip. The same training samples will be
captured at multiple angles in multiple image chips for data augmentation.
The default rotation angle is 0.</p>
</td>
</tr>
<tr class="row-even"><td><p>reference_system</p></td>
<td><p>Optional string. Specifies the type of reference system to be used to interpret
the input image. The reference system specified should match the reference system
used to train the deep learning model.</p>
<blockquote>
<div><ul class="simple">
<li><p>MAP_SPACE : The input image is in a map-based coordinate system. This is the default.</p></li>
<li><p>IMAGE_SPACE : The input image is in image space, viewed from the direction of the sensor
that captured the image, and rotated such that the tops of buildings and trees point upward in the image.</p></li>
<li><p>PIXEL_SPACE : The input image is in image space, with no rotation and no distortion.</p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-odd"><td><p>process_all_raster_items</p></td>
<td><p>Optional bool. Specifies how all raster items in an image service will be processed.</p>
<blockquote>
<div><ul class="simple">
<li><p>False : all raster items in the image service will be mosaicked together and processed. This is the default.</p></li>
<li><p>True : all raster items in the image service will be processed as separate images.</p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td><p>blacken_around_feature</p></td>
<td><p>Optional bool. Specifies whether to blacken the pixels around each object or feature in each image tile.
This parameter only applies when the metadata format is set to Labeled_Tiles and an input feature class or classified raster has been specified.</p>
<ul class="simple">
<li><p>False : Pixels surrounding objects or features will not be blackened. This is the default.</p></li>
<li><p>True : Pixels surrounding objects or features will be blackened.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>fix_chip_size</p></td>
<td><p>Optional bool. Specifies whether to crop the exported tiles such that they are all the same size.
This parameter only applies when the metadata format is set to Labeled_Tiles and an input feature class or classified raster has been specified.</p>
<blockquote>
<div><ul class="simple">
<li><p>True : Exported tiles will be the same size and will center on the feature. This is the default.</p></li>
<li><p>False : Exported tiles will be cropped such that the bounding geometry surrounds only the feature in the tile.</p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td><p>gis</p></td>
<td><p>Optional GIS. The GIS on which this tool runs. If not specified, the active GIS is used.</p></td>
</tr>
<tr class="row-odd"><td><p>future</p></td>
<td><p>Keyword only parameter. Optional boolean. If True, the result will be a GPJob object and results will be returned asynchronously.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Output string containing the location of the exported training data</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="export-point-dataset">
<h3>export_point_dataset<a class="headerlink" href="#export-point-dataset" title="Permalink to this headline">¶</a></h3>
<dl class="py function">
<dt id="arcgis.learn.export_point_dataset">
<code class="sig-prename descclassname">arcgis.learn.</code><code class="sig-name descname">export_point_dataset</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data_path</span></em>, <em class="sig-param"><span class="n">output_path</span></em>, <em class="sig-param"><span class="n">block_size</span><span class="o">=</span><span class="default_value">50.0</span></em>, <em class="sig-param"><span class="n">max_points</span><span class="o">=</span><span class="default_value">8192</span></em>, <em class="sig-param"><span class="n">extra_features</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.export_point_dataset" title="Permalink to this definition">¶</a></dt>
<dd><p>Exports the las files into h5 blocks.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 75%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>data_path</p></td>
<td><p>Required string. Folder containing two folders with
las files.</p>
<blockquote>
<div><dl class="simple">
<dt>Folder structure:</dt><dd><dl class="simple">
<dt>train/</dt><dd><p><a href="#id1"><span class="problematic" id="id2">*</span></a>.las</p>
</dd>
<dt>val/</dt><dd><p><a href="#id3"><span class="problematic" id="id4">*</span></a>.las</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
<tr class="row-odd"><td><p>output_path</p></td>
<td><p>Required string. Path where exported files will be
dumped. This directory either should be empty or
be a totally new directory.</p></td>
</tr>
<tr class="row-even"><td><p>block_size</p></td>
<td><p>Optional float. Size of the h5 block file.
The unit of this parameter is the same as that of the
dataset’s coordinate system. Default: 50.0 Units.
The default value is based on the assumption that
dataset’s coordinate system is in metric units.</p></td>
</tr>
<tr class="row-odd"><td><p>max_points</p></td>
<td><p>Optional integer. Maximum number of points to be
included in each h5 block file.
Default: 8192 points.</p></td>
</tr>
<tr class="row-even"><td><p>extra_features</p></td>
<td><p>Optional list of tuple. Extra features to read
from las files. The length of tuple is 3, which
contain feature name, max, and min values
respectively. For example:
If you want extra features like <cite>intensity</cite> or
<cite>number of returns</cite> to be considered while
training, set this parameter like:
<cite>extra_features=[(‘intensity’, 5000, 0),
(‘num_returns’, 5, 0)]</cite>.
The default behavior has changed from v1.8.0.
Default: [].</p></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="prepare-data">
<h3>prepare_data<a class="headerlink" href="#prepare-data" title="Permalink to this headline">¶</a></h3>
<dl class="py function">
<dt id="arcgis.learn.prepare_data">
<code class="sig-prename descclassname">arcgis.learn.</code><code class="sig-name descname">prepare_data</code><span class="sig-paren">(</span><em class="sig-param">path</em>, <em class="sig-param">class_mapping=None</em>, <em class="sig-param">chip_size=224</em>, <em class="sig-param">val_split_pct=0.1</em>, <em class="sig-param">batch_size=64</em>, <em class="sig-param">transforms=None</em>, <em class="sig-param">collate_fn=&lt;function _bb_pad_collate&gt;</em>, <em class="sig-param">seed=42</em>, <em class="sig-param">dataset_type=None</em>, <em class="sig-param">resize_to=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.prepare_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepares a data object from training sample exported by the 
Export Training Data tool in ArcGIS Pro or Image Server, or training 
samples in the supported dataset formats. This data object consists of 
training and validation data sets with the specified transformations, 
chip size, batch size, split percentage, etc. 
-For object detection, use Pascal_VOC_rectangles or KITTI_rectangles format.
-For feature categorization use Labelled Tiles or ImageNet format.
-For pixel classification, use Classified Tiles format.
-For entity extraction from text, use IOB, BILUO or ner_json formats.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 21%" />
<col style="width: 79%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>path</p></td>
<td><p>Required string. Path to data directory.</p></td>
</tr>
<tr class="row-odd"><td><p>class_mapping</p></td>
<td><p>Optional dictionary. Mapping from id to
its string label.
For dataset_type=IOB, BILUO or ner_json:</p>
<blockquote>
<div><p>Provide address field as class mapping
in below format:
class_mapping={‘address_tag’:’address_field’}.
Field defined as ‘address_tag’ will be treated
as a location. In cases where trained model extracts
multiple locations from a single document, that
document will be replicated for each location.</p>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td><p>chip_size</p></td>
<td><p>Optional integer, default 224. Size of the image to train the
model. Images are cropped to the specified chip_size. If image size is less
than chip_size, the image size is used as chip_size. Not supported for superres.</p></td>
</tr>
<tr class="row-odd"><td><p>val_split_pct</p></td>
<td><p>Optional float. Percentage of training data to keep
as validation.</p></td>
</tr>
<tr class="row-even"><td><p>batch_size</p></td>
<td><p>Optional integer. Batch size for mini batch gradient
descent (Reduce it if getting CUDA Out of Memory
Errors). Batch size is required to be greater than 1.</p></td>
</tr>
<tr class="row-odd"><td><p>transforms</p></td>
<td><p>Optional tuple. Fast.ai transforms for data
augmentation of training and validation datasets
respectively (We have set good defaults which work
for satellite imagery well). If transforms is set
to <cite>False</cite> no transformation will take place and
<cite>chip_size</cite> parameter will also not take effect.
If the dataset_type is ‘PointCloud’, use
<cite>Transform3d</cite> class from <cite>arcgis.learn</cite>.</p></td>
</tr>
<tr class="row-even"><td><p>collate_fn</p></td>
<td><p>Optional function. Passed to PyTorch to collate data
into batches(usually default works).</p></td>
</tr>
<tr class="row-odd"><td><p>seed</p></td>
<td><p>Optional integer. Random seed for reproducible
train-validation split.</p></td>
</tr>
<tr class="row-even"><td><p>dataset_type</p></td>
<td><p>Optional string. <cite>prepare_data</cite> function will infer
the <cite>dataset_type</cite> on its own if it contains a
map.txt file. If the path does not contain the
map.txt file pass either of ‘PASCAL_VOC_rectangles’,
‘KITTI_rectangles’, ‘RCNN_Masks’, ‘Classified_Tiles’,
‘Labeled_Tiles’, ‘MultiLabeled_Tiles’, ‘Imagenet’,
‘PointCloud’, ‘ImageCaptioning’, ‘ChangeDetection’,
‘superres’, ‘CycleGAN’ and ‘Pix2Pix’.
This parameter is mandatory for data which are not
exported by ArcGIS Pro / Enterprise which includes
‘PointCloud’, ‘ImageCaptioning’, ‘ChangeDetection’,
‘CycleGAN’ and ‘Pix2Pix’.
This parameter is also mandatory while preparing data
for ‘EntityRecognizer’ model. Accepted data format
for this model are - [‘ner_json’,’BIO’, ‘LBIOU’].</p></td>
</tr>
<tr class="row-odd"><td><p>resize_to</p></td>
<td><p>Optional integer. Resize the images to a given size.
Works only for “PASCAL_VOC_rectangles”,  “Labelled_Tiles”
and  “superres”. First resizes the image to the given
size and then crops images of size equal to chip_size.
Note: If resize_to is less than chip_size, the
resize_to is used as chip_size.</p></td>
</tr>
</tbody>
</table>
<p><strong>Keyword Arguments</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 76%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>imagery_type</p></td>
<td><p>Optional string. Type of imagery used to export
the training data, valid values are:</p>
<blockquote>
<div><ul class="simple">
<li><p>‘naip’</p></li>
<li><p>‘sentinel2’</p></li>
<li><p>‘landsat8’</p></li>
<li><p>‘ms’ - any other type of imagery</p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-odd"><td><p>bands</p></td>
<td><p>Optional list. Bands of the imagery used to export
training data.
For example [‘r’, ‘g’, ‘b’, ‘nir’, ‘u’]
where ‘nir’ is near infrared band and ‘u’ is a miscellaneous band.</p></td>
</tr>
<tr class="row-even"><td><p>rgb_bands</p></td>
<td><p>Optional list. Indices of red, green and blue bands
in the imagery used to export the training data.
for example: [2, 1, 0]</p></td>
</tr>
<tr class="row-odd"><td><p>extract_bands</p></td>
<td><p>Optional list. Indices of bands to be used for
training the model, same as in the imagery used to
export the training data.
for example: [3, 1, 0] where we will not be using
the band at index 2 to train our model.</p></td>
</tr>
<tr class="row-even"><td><p>norm_pct</p></td>
<td><p>Optional float. Percentage of training data to be
used for calculating imagery statistics for
normalizing the data.
Default is 0.3 (30%) of data.</p></td>
</tr>
<tr class="row-odd"><td><p>downsample_factor</p></td>
<td><p>Optional integer. Factor to downsample the images
for image SuperResolution.
for example: if value is 2 and image size 256x256,
it will create label images of size 128x128.
Default is 4</p></td>
</tr>
<tr class="row-even"><td><p>encoding</p></td>
<td><p>Optional string.
Applicable only when dataset_type=IOB, BILUO or ner_json:
The encoding to read the csv/json file.
Default is ‘UTF-8’</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>data object</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="prepare-tabulardata">
<h3>prepare_tabulardata<a class="headerlink" href="#prepare-tabulardata" title="Permalink to this headline">¶</a></h3>
<dl class="py function">
<dt id="arcgis.learn.prepare_tabulardata">
<code class="sig-prename descclassname">arcgis.learn.</code><code class="sig-name descname">prepare_tabulardata</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_features</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">variable_predict</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">explanatory_variables</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">explanatory_rasters</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">date_field</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">distance_features</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">preprocessors</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">val_split_pct</span><span class="o">=</span><span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">seed</span><span class="o">=</span><span class="default_value">42</span></em>, <em class="sig-param"><span class="n">batch_size</span><span class="o">=</span><span class="default_value">64</span></em>, <em class="sig-param"><span class="n">index_field</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.prepare_tabulardata" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepares a tabular data object from input_features and optionally rasters.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 76%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>input_features</p></td>
<td><p>Optional Feature Layer Object or spatially enabled dataframe.
This contains features denoting the value of the dependent variable.
Leave empty for using rasters with MLModel.</p></td>
</tr>
<tr class="row-odd"><td><p>variable_predict</p></td>
<td><p>Optional String, denoting the field_name of
the variable to predict.
Keep none for unsupervised training using MLModel.</p></td>
</tr>
<tr class="row-even"><td><p>explanatory_variables</p></td>
<td><p>Optional list containing field names from input_features
By default the field type is continuous.
To override field type to categorical, pass
a 2-sized tuple in the list containing:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>field to be taken as input from the input_features.</p></li>
<li><p>True/False denoting Categorical/Continuous variable.</p></li>
</ol>
</div></blockquote>
<dl class="simple">
<dt>For example:</dt><dd><p>[“Field_1”, (“Field_2”, True)]</p>
</dd>
</dl>
<p>Here Field_1 is treated as continuous and
Field_2 as categorical.</p>
</td>
</tr>
<tr class="row-odd"><td><p>explanatory_rasters</p></td>
<td><p>Optional list containing Raster objects.
By default the rasters are continuous.
To mark a raster categorical, pass a 2-sized tuple containing:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Raster object.</p></li>
<li><p>True/False denoting Categorical/Continuous variable.</p></li>
</ol>
</div></blockquote>
<dl class="simple">
<dt>For example:</dt><dd><p>[raster_1, (raster_2, True)]</p>
</dd>
</dl>
<p>Here raster_1 is treated as continuous and
raster_2 as categorical.</p>
</td>
</tr>
<tr class="row-even"><td><p>date_field</p></td>
<td><p>Optional field_name.
This field contains the date in the input_features.
The field type can be a string or date time field.
If specified, the field will be split into
Year, month, week, day, dayofweek, dayofyear,
is_month_end, is_month_start, is_quarter_end,
is_quarter_start, is_year_end, is_year_start,
hour, minute, second, elapsed and these will be added
to the prepared data as columns.
All fields other than elapsed and dayofyear are treated
as categorical.</p></td>
</tr>
<tr class="row-odd"><td><p>distance_features</p></td>
<td><p>Optional list of Feature Layer objects.
Distance is calculated from features in these layers
to features in input_features.
Nearest distance to each feature is added in the prepared
data.
Field names in the prepared data added are
“NEAR_DIST_1”, “NEAR_DIST_2” etc.</p></td>
</tr>
<tr class="row-even"><td><p>preprocessors</p></td>
<td><p>For Fastai: Optional transforms list.
For Scikit-learn:
1. Supply a column transformer object.
2. Supply a list of tuple,
For example:
[(‘Col_1’, ‘Col_2’, Transform1()), (‘Col_3’, Transform2())]
Categorical data is by default encoded.
If nothing is specified, default transforms are applied
to fill missing values and normalize categorical data.
For Raster use raster.name for the the first band,
raster.name_1 for 2nd band, raster.name_2 for 3rd
and so on.</p></td>
</tr>
<tr class="row-odd"><td><p>val_split_pct</p></td>
<td><p>Optional float. Percentage of training data to keep
as validation.
By default 10% data is kept for validation.</p></td>
</tr>
<tr class="row-even"><td><p>seed</p></td>
<td><p>Optional integer. Random seed for reproducible
train-validation split.
Default value is 42.</p></td>
</tr>
<tr class="row-odd"><td><p>batch_size</p></td>
<td><p>Optional integer. Batch size for mini batch gradient
descent (Reduce it if getting CUDA Out of Memory
Errors).
Default value is 64.</p></td>
</tr>
<tr class="row-even"><td><p>index_field</p></td>
<td><p>Optional string. Field Name in the input features
which will be used as index field for the data.
Used for Time Series, to visualize values on the
x-axis.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>TabularData</cite> object</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="prepare-textdata">
<h3>prepare_textdata<a class="headerlink" href="#prepare-textdata" title="Permalink to this headline">¶</a></h3>
<dl class="py function">
<dt id="arcgis.learn.prepare_textdata">
<code class="sig-prename descclassname">arcgis.learn.</code><code class="sig-name descname">prepare_textdata</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">task</span></em>, <em class="sig-param"><span class="n">text_columns</span></em>, <em class="sig-param"><span class="n">label_columns</span></em>, <em class="sig-param"><span class="n">train_file</span><span class="o">=</span><span class="default_value">'train.csv'</span></em>, <em class="sig-param"><span class="n">valid_file</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">val_split_pct</span><span class="o">=</span><span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">seed</span><span class="o">=</span><span class="default_value">42</span></em>, <em class="sig-param"><span class="n">batch_size</span><span class="o">=</span><span class="default_value">8</span></em>, <em class="sig-param"><span class="n">process_labels</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">remove_html_tags</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">remove_urls</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.prepare_textdata" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepares a text data object from the files present at data folder</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 76%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>path</p></td>
<td><p>Required directory path. The directory path where
the training and validation files are present.</p></td>
</tr>
<tr class="row-odd"><td><p>task</p></td>
<td><p>Required string. The task for which the dataset is
prepared. Available choice at this point is “classification”
and “sequence_translation”.</p></td>
</tr>
<tr class="row-even"><td><p>text_columns</p></td>
<td><p>Required string. The column that will be used as
feature.</p></td>
</tr>
<tr class="row-odd"><td><p>label_columns</p></td>
<td><p>Required list. The list of columns denoting the
class label/translated text to predict. Provide a list of columns
in case of multi-label classification problem</p></td>
</tr>
<tr class="row-even"><td><p>train_file</p></td>
<td><p>Optional string. The file name containing the
training data. Supported file formats/extensions are
.csv and .tsv
Default value is <cite>train.csv</cite></p></td>
</tr>
<tr class="row-odd"><td><p>valid_file</p></td>
<td><p>Optional string. The file name containing the
validation data. Supported file formats/extensions
are .csv and .tsv.
Default value is <cite>None</cite>. If None then some portion
of the training data will be kept for validation
(based on the value of <cite>val_split_pct</cite> parameter)</p></td>
</tr>
<tr class="row-even"><td><p>val_split_pct</p></td>
<td><p>Optional float. Percentage of training data to keep
as validation.
By default 10% data is kept for validation.</p></td>
</tr>
<tr class="row-odd"><td><p>seed</p></td>
<td><p>Optional integer. Random seed for reproducible
train-validation split.
Default value is 42.</p></td>
</tr>
<tr class="row-even"><td><p>batch_size</p></td>
<td><p>Optional integer. Batch size for mini batch gradient
descent (Reduce it if getting CUDA Out of Memory
Errors).
Default value is 16.</p></td>
</tr>
<tr class="row-odd"><td><p>process_labels</p></td>
<td><p>Optional boolean. If true, default processing functions
will be called on label columns as well.
Default value is False.</p></td>
</tr>
<tr class="row-even"><td><p>remove_html_tags</p></td>
<td><p>Optional boolean. If true, remove html tags from text.
Default value is False.</p></td>
</tr>
<tr class="row-odd"><td><p>remove_urls</p></td>
<td><p>Optional boolean. If true, remove urls from text.
Default value is False.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>TextData</cite> object</p>
</dd>
</dl>
</dd></dl>

</div>
</div>
<div class="section" id="object-classification-models">
<h2>Object Classification Models<a class="headerlink" href="#object-classification-models" title="Permalink to this headline">¶</a></h2>
<div class="section" id="featureclassifier">
<h3>FeatureClassifier<a class="headerlink" href="#featureclassifier" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="arcgis.learn.FeatureClassifier">
<em class="property">class </em><code class="sig-prename descclassname">arcgis.learn.</code><code class="sig-name descname">FeatureClassifier</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">backbone</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pretrained_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">mixup</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">oversample</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">backend</span><span class="o">=</span><span class="default_value">'pytorch'</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.FeatureClassifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an image classifier to classify the area occupied by a
geographical feature based on the imagery it overlaps with.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>data</p></td>
<td><p>Required fastai Databunch. Returned data object from
<cite>prepare_data</cite> function.</p></td>
</tr>
<tr class="row-odd"><td><p>backbone</p></td>
<td><p>Optional torchvision model. Backbone CNN model to be used for
creating the base of the <code class="docutils literal notranslate"><span class="pre">FeatureClassifier</span></code>, which
is <code class="docutils literal notranslate"><span class="pre">resnet34</span></code> by default.</p></td>
</tr>
<tr class="row-even"><td><p>pretrained_path</p></td>
<td><p>Optional string. Path where pre-trained model is
saved.</p></td>
</tr>
<tr class="row-odd"><td><p>mixup</p></td>
<td><p>Optional boolean. If set to True, it creates
new training images by randomly mixing training set images.</p>
<p>The default is set to False.</p>
</td>
</tr>
<tr class="row-even"><td><p>oversample</p></td>
<td><p>Optional boolean. If set to True, it oversamples unbalanced
classes of the dataset during training. Not supported with
MultiLabel dataset.</p></td>
</tr>
<tr class="row-odd"><td><p>backend</p></td>
<td><p>Optional string. Controls the backend framework to be used
for this model, which is ‘pytorch’ by default.</p>
<p>valid options are ‘pytorch’, ‘tensorflow’</p>
</td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>FeatureClassifier</cite> Object</p>
</dd>
</dl>
<dl class="py method">
<dt id="arcgis.learn.FeatureClassifier.categorize_features">
<code class="sig-name descname">categorize_features</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">feature_layer</span></em>, <em class="sig-param"><span class="n">raster</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">class_value_field</span><span class="o">=</span><span class="default_value">'class_val'</span></em>, <em class="sig-param"><span class="n">class_name_field</span><span class="o">=</span><span class="default_value">'prediction'</span></em>, <em class="sig-param"><span class="n">confidence_field</span><span class="o">=</span><span class="default_value">'confidence'</span></em>, <em class="sig-param"><span class="n">cell_size</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">coordinate_system</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">predict_function</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">batch_size</span><span class="o">=</span><span class="default_value">64</span></em>, <em class="sig-param"><span class="n">overwrite</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.FeatureClassifier.categorize_features" title="Permalink to this definition">¶</a></dt>
<dd><div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 1.7.1: </span>Please use arcgis.learn.classify_objects() instead</p>
</div>
<p>Categorizes each feature by classifying its attachments or an image of its geographical area (using the provided Imagery Layer)
and updates the feature layer with the prediction results in the <code class="docutils literal notranslate"><span class="pre">output_label_field</span></code>.
Deprecated, please use arcgis.learn.classify_objects() instead.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 76%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>feature_layer</p></td>
<td><p>Required. Public Feature Layer or path of local feature class for classification with read, write, edit permissions.</p></td>
</tr>
<tr class="row-odd"><td><p>raster</p></td>
<td><p>Optional. Imagery layer or path of local raster to be used for exporting image chips. (Requires arcpy)</p></td>
</tr>
<tr class="row-even"><td><p>class_value_field</p></td>
<td><p>Required string. Output field to be added in the layer, containing class value of predictions.</p></td>
</tr>
<tr class="row-odd"><td><p>class_name_field</p></td>
<td><p>Required string. Output field to be added in the layer, containing class name of predictions.</p></td>
</tr>
<tr class="row-even"><td><p>confidence_field</p></td>
<td><p>Optional string. Output column name to be added in the layer which contains the confidence score.</p></td>
</tr>
<tr class="row-odd"><td><p>cell_size</p></td>
<td><p>Optional float. Cell size to be used for exporting the image chips.</p></td>
</tr>
<tr class="row-even"><td><p>coordinate_system</p></td>
<td><p>Optional. Cartographic Coordinate System to be used for exporting the image chips.</p></td>
</tr>
<tr class="row-odd"><td><p>predict_function</p></td>
<td><p>Optional list of tuples. Used for calculation of final prediction result when each feature
has more than one attachment. The <code class="docutils literal notranslate"><span class="pre">predict_function</span></code> takes as input a list of tuples.
Each tuple has first element as the class predicted and second element is the confidence score.
The function should return the final tuple classifying the feature and its confidence.</p></td>
</tr>
<tr class="row-even"><td><p>batch_size</p></td>
<td><p>Optional integer. The no of images or tiles to process in a single go.</p>
<p>The default value is 64.</p>
</td>
</tr>
<tr class="row-odd"><td><p>overwrite</p></td>
<td><p>Optional boolean. If set to True the output fields will be overwritten by new values.</p>
<p>The default value is False.</p>
</td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Boolean : True if operation is successful, False otherwise</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.FeatureClassifier.classify_features">
<code class="sig-name descname">classify_features</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">feature_layer</span></em>, <em class="sig-param"><span class="n">labeled_tiles_directory</span></em>, <em class="sig-param"><span class="n">input_label_field</span></em>, <em class="sig-param"><span class="n">output_label_field</span></em>, <em class="sig-param"><span class="n">confidence_field</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">predict_function</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.FeatureClassifier.classify_features" title="Permalink to this definition">¶</a></dt>
<dd><p>Classifies the exported images and updates the feature layer with the prediction results in the <code class="docutils literal notranslate"><span class="pre">output_label_field</span></code>.
Works with RGB images only.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 27%" />
<col style="width: 73%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>feature_layer</p></td>
<td><p>Required. Feature Layer for classification.</p></td>
</tr>
<tr class="row-odd"><td><p>labeled_tiles_directory</p></td>
<td><p>Required. Folder structure containing images and labels folder. The
chips should have been generated using the export training data tool in
the Labeled Tiles format, and the labels should contain the OBJECTIDs
of the features to be classified.</p></td>
</tr>
<tr class="row-even"><td><p>input_label_field</p></td>
<td><p>Required. Value field name which created the labeled tiles. This field
should contain the OBJECTIDs of the features to be classified. In case of
attachments this field is not used.</p></td>
</tr>
<tr class="row-odd"><td><p>output_label_field</p></td>
<td><p>Required. Output column name to be added in the layer which contains predictions.</p></td>
</tr>
<tr class="row-even"><td><p>confidence_field</p></td>
<td><p>Optional. Output column name to be added in the layer which contains the confidence score.</p></td>
</tr>
<tr class="row-odd"><td><p>predict_function</p></td>
<td><p>Optional. Used for calculation of final prediction result when each feature
has more than one attachment. The <code class="docutils literal notranslate"><span class="pre">predict_function</span></code> takes as input a list of tuples.
Each tuple has first element as the class predicted and second element is the confidence score.
The function should return the final tuple classifying the feature and its confidence</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Boolean : True/False if operation is successful</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.FeatureClassifier.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">epochs</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">lr</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">one_cycle</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">early_stopping</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">checkpoint</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">tensorboard</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.FeatureClassifier.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Train the model for the specified number of epochs and using the
specified learning rates</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 72%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>epochs</p></td>
<td><p>Required integer. Number of cycles of training
on the data. Increase it if underfitting.</p></td>
</tr>
<tr class="row-odd"><td><p>lr</p></td>
<td><p>Optional float or slice of floats. Learning rate
to be used for training the model. If <code class="docutils literal notranslate"><span class="pre">lr=None</span></code>,
an optimal learning rate is automatically deduced
for training the model.</p></td>
</tr>
<tr class="row-even"><td><p>one_cycle</p></td>
<td><p>Optional boolean. Parameter to select 1cycle
learning rate schedule. If set to <cite>False</cite> no
learning rate schedule is used.</p></td>
</tr>
<tr class="row-odd"><td><p>early_stopping</p></td>
<td><p>Optional boolean. Parameter to add early stopping.
If set to ‘True’ training will stop if validation
loss stops improving for 5 epochs.</p></td>
</tr>
<tr class="row-even"><td><p>checkpoint</p></td>
<td><p>Optional boolean. Parameter to save the best model
during training. If set to <cite>True</cite> the best model
based on validation loss will be saved during
training.</p></td>
</tr>
<tr class="row-odd"><td><p>tensorboard</p></td>
<td><p>Optional boolean. Parameter to write the training log.
If set to ‘True’ the log will be saved at
&lt;dataset-path&gt;/training_log which can be visualized in
tensorboard. Required tensorboardx version=2.1</p>
<p>The default value is ‘False’.
<a href="#id5"><span class="problematic" id="id6">**</span></a>Note - Not applicable for Text Models</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.FeatureClassifier.from_model">
<em class="property">classmethod </em><code class="sig-name descname">from_model</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">emd_path</span></em>, <em class="sig-param"><span class="n">data</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.FeatureClassifier.from_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a Feature classifier from an Esri Model Definition (EMD) file.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>emd_path</p></td>
<td><p>Required string. Path to Deep Learning Package
(DLPK) or Esri Model Definition(EMD) file.</p></td>
</tr>
<tr class="row-odd"><td><p>data</p></td>
<td><p>Required fastai Databunch or None. Returned data
object from <cite>prepare_data</cite> function or None for
inferencing.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>FeatureClassifier</cite> Object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.FeatureClassifier.gradCAM">
<code class="sig-name descname">gradCAM</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">im</span></em>, <em class="sig-param"><span class="n">cl</span></em>, <em class="sig-param"><span class="n">heatmap_thresh</span><span class="p">:</span> <span class="n">int</span> <span class="o">=</span> <span class="default_value">16</span></em>, <em class="sig-param"><span class="n">image</span><span class="p">:</span> <span class="n">bool</span> <span class="o">=</span> <span class="default_value">True</span></em>, <em class="sig-param"><span class="n">grad_vis</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.FeatureClassifier.gradCAM" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="arcgis.learn.FeatureClassifier.load">
<code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name_or_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.FeatureClassifier.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a compatible saved model for inferencing or fine tuning from the disk.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>name_or_path</p></td>
<td><p>Required string. Name or Path to
Deep Learning Package (DLPK) or
Esri Model Definition(EMD) file.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.FeatureClassifier.lr_find">
<code class="sig-name descname">lr_find</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">allow_plot</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.FeatureClassifier.lr_find" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the Learning Rate Finder, and displays the graph of its output.
Helps in choosing the optimum learning rate for training the model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.FeatureClassifier.plot_confusion_matrix">
<code class="sig-name descname">plot_confusion_matrix</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.FeatureClassifier.plot_confusion_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots a confusion matrix of the model predictions to evaluate accuracy
kwargs: ‘thresh’ - confidence score threshold for multilabel predictions, defaults to 0.5</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.FeatureClassifier.plot_hard_examples">
<code class="sig-name descname">plot_hard_examples</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">num_examples</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.FeatureClassifier.plot_hard_examples" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the hard examples with their heatmaps.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>num_examples</p></td>
<td><p>Number of hard examples to plot
<code class="docutils literal notranslate"><span class="pre">prepare_data</span></code> function.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.FeatureClassifier.plot_losses">
<code class="sig-name descname">plot_losses</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.FeatureClassifier.plot_losses" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot validation and training losses after fitting the model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.FeatureClassifier.predict">
<code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">img_path</span></em>, <em class="sig-param"><span class="n">visualize</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">gradcam</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.FeatureClassifier.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs prediction on an Image. Works with RGB images only.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 32%" />
<col style="width: 68%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>image_path</p></td>
<td><p>Required. Path to the image file to make the
predictions on.</p></td>
</tr>
<tr class="row-odd"><td><p>visualize</p></td>
<td><p>Optional: Set this parameter to True to
visualize the image being predicted.</p></td>
</tr>
<tr class="row-even"><td><p>gradcam</p></td>
<td><p>Optional: Set this parameter to True to
get gradcam visualization to help with
explanability of the prediction. If set
to True, visualize parameter must also
be set to True.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>prediction label and confidence</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.FeatureClassifier.predict_folder_and_create_layer">
<code class="sig-name descname">predict_folder_and_create_layer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">folder</span></em>, <em class="sig-param"><span class="n">feature_layer_name</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">prediction_field</span><span class="o">=</span><span class="default_value">'predict'</span></em>, <em class="sig-param"><span class="n">confidence_field</span><span class="o">=</span><span class="default_value">'confidence'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.FeatureClassifier.predict_folder_and_create_layer" title="Permalink to this definition">¶</a></dt>
<dd><p>Predicts on images present in the given folder and creates a feature layer.
The images stored in the folder contain GPS information as part of EXIF metadata.
Works with RGB images only.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 77%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>folder</p></td>
<td><p>Required String. Folder containing images to inference on.</p></td>
</tr>
<tr class="row-odd"><td><p>feature_layer_name</p></td>
<td><p>Required String. The name of the feature layer used to publish.</p></td>
</tr>
<tr class="row-even"><td><p>gis</p></td>
<td><p>Optional GIS Object, the GIS on which this tool runs. If not specified,
the active GIS is used.</p></td>
</tr>
<tr class="row-odd"><td><p>prediction_field</p></td>
<td><p>Optional String. The field name to use to add predictions.</p></td>
</tr>
<tr class="row-even"><td><p>confidence_field</p></td>
<td><p>Optional String. The field name to use to add confidence.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>FeatureCollection</cite> Object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.FeatureClassifier.save">
<code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name_or_path</span></em>, <em class="sig-param"><span class="n">framework</span><span class="o">=</span><span class="default_value">'PyTorch'</span></em>, <em class="sig-param"><span class="n">publish</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">compute_metrics</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">save_optimizer</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">save_inference_file</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.FeatureClassifier.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the model weights, creates an Esri Model Definition and Deep
Learning Package zip for deployment to Image Server or ArcGIS Pro.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>name_or_path</p></td>
<td><p>Required string. Name of the model to save. It
stores it at the pre-defined location. If path
is passed then it stores at the specified path
with model name as directory name and creates
all the intermediate directories.</p></td>
</tr>
<tr class="row-odd"><td><p>framework</p></td>
<td><p>Optional string. Defines the framework of the
model. (Only supported by <code class="docutils literal notranslate"><span class="pre">SingleShotDetector</span></code>, currently.)
If framework used is <code class="docutils literal notranslate"><span class="pre">TF-ONNX</span></code>, <code class="docutils literal notranslate"><span class="pre">batch_size</span></code> can be
passed as an optional keyword argument.</p>
<p>Framework choice: ‘PyTorch’ and ‘TF-ONNX’</p>
</td>
</tr>
<tr class="row-even"><td><p>publish</p></td>
<td><p>Optional boolean. Publishes the DLPK as an item.</p></td>
</tr>
<tr class="row-odd"><td><p>gis</p></td>
<td><p>Optional GIS Object. Used for publishing the item.
If not specified then active gis user is taken.</p></td>
</tr>
<tr class="row-even"><td><p>compute_metrics</p></td>
<td><p>Optional boolean. Used for computing model
metrics.</p></td>
</tr>
<tr class="row-odd"><td><p>save_optimizer</p></td>
<td><p>Optional boolean. Used for saving the model-optimizer
state along with the model. Default is set to False</p></td>
</tr>
<tr class="row-even"><td><p>save_inference_file</p></td>
<td><p>Optional boolean. Used for saving the inference file
along with the model.
If False, the model will not work with ArcGIS Pro 2.6
or earlier. Default is set to True.</p></td>
</tr>
<tr class="row-odd"><td><p>kwargs</p></td>
<td><p>Optional Parameters:
Boolean <cite>overwrite</cite> if True, it will overwrite
the item on ArcGIS Online/Enterprise, default False.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.FeatureClassifier.show_results">
<code class="sig-name descname">show_results</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rows</span><span class="o">=</span><span class="default_value">5</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.FeatureClassifier.show_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays the results of a trained model on a part of the validation set.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.FeatureClassifier.supported_backbones">
<em class="property">property </em><code class="sig-name descname">supported_backbones</code><a class="headerlink" href="#arcgis.learn.FeatureClassifier.supported_backbones" title="Permalink to this definition">¶</a></dt>
<dd><p>Supported torchvision backbones for this model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.FeatureClassifier.supported_datasets">
<em class="property">property </em><code class="sig-name descname">supported_datasets</code><a class="headerlink" href="#arcgis.learn.FeatureClassifier.supported_datasets" title="Permalink to this definition">¶</a></dt>
<dd><p>Supported dataset types for this model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.FeatureClassifier.unfreeze">
<code class="sig-name descname">unfreeze</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.FeatureClassifier.unfreeze" title="Permalink to this definition">¶</a></dt>
<dd><p>Unfreezes the earlier layers of the model for fine-tuning.</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="object-detection-models">
<h2>Object Detection Models<a class="headerlink" href="#object-detection-models" title="Permalink to this headline">¶</a></h2>
<div class="section" id="fasterrcnn">
<h3>FasterRCNN<a class="headerlink" href="#fasterrcnn" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="arcgis.learn.FasterRCNN">
<em class="property">class </em><code class="sig-prename descclassname">arcgis.learn.</code><code class="sig-name descname">FasterRCNN</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">backbone</span><span class="o">=</span><span class="default_value">'resnet50'</span></em>, <em class="sig-param"><span class="n">pretrained_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.FasterRCNN" title="Permalink to this definition">¶</a></dt>
<dd><p>Model architecture from <a class="reference external" href="https://arxiv.org/abs/1506.01497">https://arxiv.org/abs/1506.01497</a>.
Creates a <code class="docutils literal notranslate"><span class="pre">FasterRCNN</span></code> object detection model,
based on <a class="reference external" href="https://github.com/pytorch/vision/blob/master/torchvision/models/detection/faster_rcnn.py">https://github.com/pytorch/vision/blob/master/torchvision/models/detection/faster_rcnn.py</a>.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 36%" />
<col style="width: 64%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>data</p></td>
<td><p>Required fastai Databunch. Returned data object from
<code class="docutils literal notranslate"><span class="pre">prepare_data</span></code> function.</p></td>
</tr>
<tr class="row-odd"><td><p>backbone</p></td>
<td><p>Optional function. Backbone CNN model to be used for
creating the base of the <cite>FasterRCNN</cite>, which
is <cite>resnet50</cite> by default.
Compatible backbones: ‘resnet18’, ‘resnet34’,
‘resnet50’, ‘resnet101’, ‘resnet152’</p></td>
</tr>
<tr class="row-even"><td><p>pretrained_path</p></td>
<td><p>Optional string. Path where pre-trained model is
saved.</p></td>
</tr>
</tbody>
</table>
<p><strong>kwargs</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 34%" />
<col style="width: 66%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>rpn_pre_nms_top_n_train</p></td>
<td><p>Optional int. Number of proposals to keep before
applying NMS during training.
Default: 2000</p></td>
</tr>
<tr class="row-odd"><td><p>rpn_pre_nms_top_n_test</p></td>
<td><p>Optional int. Number of proposals to keep before
applying NMS during testing.
Default: 1000</p></td>
</tr>
<tr class="row-even"><td><p>rpn_post_nms_top_n_train</p></td>
<td><p>Optional int. Number of proposals to keep after
applying NMS during training.
Default: 2000</p></td>
</tr>
<tr class="row-odd"><td><p>rpn_post_nms_top_n_test</p></td>
<td><p>Optional int. Number of proposals to keep after
applying NMS during testing.
Default: 1000</p></td>
</tr>
<tr class="row-even"><td><p>rpn_nms_thresh</p></td>
<td><p>Optional float. NMS threshold used for postprocessing
the RPN proposals.
Default: 0.7</p></td>
</tr>
<tr class="row-odd"><td><p>rpn_fg_iou_thresh</p></td>
<td><p>Optional float. Minimum IoU between the anchor
and the GT box so that they can be considered
as positive during training of the RPN.
Default: 0.7</p></td>
</tr>
<tr class="row-even"><td><p>rpn_bg_iou_thresh</p></td>
<td><p>Optional float. Maximum IoU between the anchor and
the GT box so that they can be considered as negative
during training of the RPN.
Default: 0.3</p></td>
</tr>
<tr class="row-odd"><td><p>rpn_batch_size_per_image</p></td>
<td><p>Optional int. Number of anchors that are sampled
during training of the RPN for computing the loss.
Default: 256</p></td>
</tr>
<tr class="row-even"><td><p>rpn_positive_fraction</p></td>
<td><p>Optional float. Proportion of positive anchors in a
mini-batch during training of the RPN.
Default: 0.5</p></td>
</tr>
<tr class="row-odd"><td><p>box_score_thresh</p></td>
<td><p>Optional float. During inference, only return proposals
with a classification score greater than box_score_thresh
Default: 0.05</p></td>
</tr>
<tr class="row-even"><td><p>box_nms_thresh</p></td>
<td><p>Optional float. NMS threshold for the prediction head.
Used during inference.
Default: 0.5</p></td>
</tr>
<tr class="row-odd"><td><p>box_detections_per_img</p></td>
<td><p>Optional int. Maximum number of detections per
image, for all classes.
Default: 100</p></td>
</tr>
<tr class="row-even"><td><p>box_fg_iou_thresh</p></td>
<td><p>Optional float. Minimum IoU between the proposals and
the GT box so that they can be considered as positive
during training of the classification head.
Default: 0.5</p></td>
</tr>
<tr class="row-odd"><td><p>box_bg_iou_thresh</p></td>
<td><p>Optional float. Maximum IoU between the proposals and
the GT box so that they can be considered as negative
during training of the classification head.
Default: 0.5</p></td>
</tr>
<tr class="row-even"><td><p>box_batch_size_per_image</p></td>
<td><p>Optional int. Number of proposals that are sampled during
training of the classification head.
Default: 512</p></td>
</tr>
<tr class="row-odd"><td><p>box_positive_fraction</p></td>
<td><p>Optional float. Proportion of positive proposals in a
mini-batch during training of the classification head.
Default: 0.25</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">FasterRCNN</span></code> Object</p>
</dd>
</dl>
<dl class="py method">
<dt id="arcgis.learn.FasterRCNN.average_precision_score">
<code class="sig-name descname">average_precision_score</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">detect_thresh</span><span class="o">=</span><span class="default_value">0.2</span></em>, <em class="sig-param"><span class="n">iou_thresh</span><span class="o">=</span><span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">mean</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">show_progress</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.FasterRCNN.average_precision_score" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes average precision on the validation set for each class.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 32%" />
<col style="width: 68%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>detect_thresh</p></td>
<td><p>Optional float. The probability above which
a detection will be considered for computing
average precision.</p></td>
</tr>
<tr class="row-odd"><td><p>iou_thresh</p></td>
<td><p>Optional float. The intersection over union
threshold with the ground truth labels, above
which a predicted bounding box will be
considered a true positive.</p></td>
</tr>
<tr class="row-even"><td><p>mean</p></td>
<td><p>Optional bool. If False returns class-wise
average precision otherwise returns mean
average precision.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>dict</cite> if mean is False otherwise <cite>float</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.FasterRCNN.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">epochs</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">lr</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">one_cycle</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">early_stopping</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">checkpoint</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">tensorboard</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.FasterRCNN.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Train the model for the specified number of epochs and using the
specified learning rates</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 72%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>epochs</p></td>
<td><p>Required integer. Number of cycles of training
on the data. Increase it if underfitting.</p></td>
</tr>
<tr class="row-odd"><td><p>lr</p></td>
<td><p>Optional float or slice of floats. Learning rate
to be used for training the model. If <code class="docutils literal notranslate"><span class="pre">lr=None</span></code>,
an optimal learning rate is automatically deduced
for training the model.</p></td>
</tr>
<tr class="row-even"><td><p>one_cycle</p></td>
<td><p>Optional boolean. Parameter to select 1cycle
learning rate schedule. If set to <cite>False</cite> no
learning rate schedule is used.</p></td>
</tr>
<tr class="row-odd"><td><p>early_stopping</p></td>
<td><p>Optional boolean. Parameter to add early stopping.
If set to ‘True’ training will stop if validation
loss stops improving for 5 epochs.</p></td>
</tr>
<tr class="row-even"><td><p>checkpoint</p></td>
<td><p>Optional boolean. Parameter to save the best model
during training. If set to <cite>True</cite> the best model
based on validation loss will be saved during
training.</p></td>
</tr>
<tr class="row-odd"><td><p>tensorboard</p></td>
<td><p>Optional boolean. Parameter to write the training log.
If set to ‘True’ the log will be saved at
&lt;dataset-path&gt;/training_log which can be visualized in
tensorboard. Required tensorboardx version=2.1</p>
<p>The default value is ‘False’.
<a href="#id7"><span class="problematic" id="id8">**</span></a>Note - Not applicable for Text Models</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.FasterRCNN.from_model">
<em class="property">classmethod </em><code class="sig-name descname">from_model</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">emd_path</span></em>, <em class="sig-param"><span class="n">data</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.FasterRCNN.from_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a <code class="docutils literal notranslate"><span class="pre">FasterRCNN</span></code> object from an Esri Model Definition (EMD) file.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>emd_path</p></td>
<td><p>Required string. Path to Deep Learning Package
(DLPK) or Esri Model Definition(EMD) file.</p></td>
</tr>
<tr class="row-odd"><td><p>data</p></td>
<td><p>Required fastai Databunch or None. Returned data
object from <code class="docutils literal notranslate"><span class="pre">prepare_data</span></code> function or None for
inferencing.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>FasterRCNN</cite> Object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.FasterRCNN.load">
<code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name_or_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.FasterRCNN.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a compatible saved model for inferencing or fine tuning from the disk.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>name_or_path</p></td>
<td><p>Required string. Name or Path to
Deep Learning Package (DLPK) or
Esri Model Definition(EMD) file.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.FasterRCNN.lr_find">
<code class="sig-name descname">lr_find</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">allow_plot</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.FasterRCNN.lr_find" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the Learning Rate Finder, and displays the graph of its output.
Helps in choosing the optimum learning rate for training the model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.FasterRCNN.plot_losses">
<code class="sig-name descname">plot_losses</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.FasterRCNN.plot_losses" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot validation and training losses after fitting the model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.FasterRCNN.predict">
<code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">image_path</span></em>, <em class="sig-param"><span class="n">threshold</span><span class="o">=</span><span class="default_value">0.5</span></em>, <em class="sig-param"><span class="n">nms_overlap</span><span class="o">=</span><span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">return_scores</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">visualize</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">resize</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.FasterRCNN.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs prediction on an Image.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 77%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>image_path</p></td>
<td><p>Required. Path to the image file to make the
predictions on.</p></td>
</tr>
<tr class="row-odd"><td><p>threshold</p></td>
<td><p>Optional float. The probability above which
a detection will be considered valid.</p></td>
</tr>
<tr class="row-even"><td><p>nms_overlap</p></td>
<td><p>Optional float. The intersection over union
threshold with other predicted bounding
boxes, above which the box with the highest
score will be considered a true positive.</p></td>
</tr>
<tr class="row-odd"><td><p>return_scores</p></td>
<td><p>Optional boolean. Will return the probability
scores of the bounding box predictions if True.</p></td>
</tr>
<tr class="row-even"><td><p>visualize</p></td>
<td><p>Optional boolean. Displays the image with
predicted bounding boxes if True.</p></td>
</tr>
<tr class="row-odd"><td><p>resize</p></td>
<td><p>Optional boolean. Resizes the image to the same size
(chip_size parameter in prepare_data) that the model was trained on,
before detecting objects.
Note that if resize_to parameter was used in prepare_data,
the image is resized to that size instead.</p>
<p>By default, this parameter is false and the detections are run
in a sliding window fashion by applying the model on cropped sections
of the image (of the same size as the model was trained on).</p>
</td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Returns a tuple with predictions, labels and optionally confidence scores
if return_scores=True. The predicted bounding boxes are returned as a list
of lists containing the  xmin, ymin, width and height of each predicted object
in each image. The labels are returned as a list of class values and the
confidence scores are returned as a list of floats indicating the confidence
of each prediction.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.FasterRCNN.predict_video">
<code class="sig-name descname">predict_video</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_video_path</span></em>, <em class="sig-param"><span class="n">metadata_file</span></em>, <em class="sig-param"><span class="n">threshold</span><span class="o">=</span><span class="default_value">0.5</span></em>, <em class="sig-param"><span class="n">nms_overlap</span><span class="o">=</span><span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">track</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">visualize</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">output_file_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">multiplex</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">multiplex_file_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tracker_options</span><span class="o">=</span><span class="default_value">{'assignment_iou_thrd': 0.3, 'detect_frames': 10, 'vanish_frames': 40}</span></em>, <em class="sig-param"><span class="n">visual_options</span><span class="o">=</span><span class="default_value">{'color': (255, 255, 255), 'fontface': 0, 'show_labels': True, 'show_scores': True, 'thickness': 2}</span></em>, <em class="sig-param"><span class="n">resize</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.FasterRCNN.predict_video" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs prediction on a video and appends the output VMTI predictions in the metadata file.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 77%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>input_video_path</p></td>
<td><p>Required. Path to the video file to make the
predictions on.</p></td>
</tr>
<tr class="row-odd"><td><p>metadata_file</p></td>
<td><p>Required. Path to the metadata csv file where
the predictions will be saved in VMTI format.</p></td>
</tr>
<tr class="row-even"><td><p>threshold</p></td>
<td><p>Optional float. The probability above which
a detection will be considered.</p></td>
</tr>
<tr class="row-odd"><td><p>nms_overlap</p></td>
<td><p>Optional float. The intersection over union
threshold with other predicted bounding
boxes, above which the box with the highest
score will be considered a true positive.</p></td>
</tr>
<tr class="row-even"><td><p>track</p></td>
<td><p>Optional bool. Set this parameter as True to
enable object tracking.</p></td>
</tr>
<tr class="row-odd"><td><p>visualize</p></td>
<td><p>Optional boolean. If True a video is saved
with prediction results.</p></td>
</tr>
<tr class="row-even"><td><p>output_file_path</p></td>
<td><p>Optional path. Path of the final video to be saved.
If not supplied, video will be saved at path input_video_path
appended with _prediction.</p></td>
</tr>
<tr class="row-odd"><td><p>multiplex</p></td>
<td><p>Optional boolean. Runs Multiplex using the VMTI detections.</p></td>
</tr>
<tr class="row-even"><td><p>multiplex_file_path</p></td>
<td><p>Optional path. Path of the multiplexed video to be saved.
By default a new file with _multiplex.MOV extension is saved
in the same folder.</p></td>
</tr>
<tr class="row-odd"><td><p>tracking_options</p></td>
<td><p>Optional dictionary. Set different parameters for
object tracking. assignment_iou_thrd parameter is used
to assign threshold for assignment of trackers,
vanish_frames is the number of frames the object should
be absent to consider it as vanished, detect_frames
is the number of frames an object should be detected
to track it.</p></td>
</tr>
<tr class="row-even"><td><p>visual_options</p></td>
<td><p>Optional dictionary. Set different parameters for
visualization.
show_scores boolean, to view scores on predictions,
show_labels boolean, to view labels on predictions,
thickness integer, to set the thickness level of box,
fontface integer, fontface value from opencv values,
color tuple (B, G, R), tuple containing values between
0-255.</p></td>
</tr>
<tr class="row-odd"><td><p>resize</p></td>
<td><p>Optional boolean. Resizes the video frames to the same size
(chip_size parameter in prepare_data) that the model was trained on,
before detecting objects.
Note that if resize_to parameter was used in prepare_data,
the video frames are resized to that size instead.</p>
<p>By default, this parameter is false and the detections are run
in a sliding window fashion by applying the model on cropped sections
of the frame (of the same size as the model was trained on).</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.FasterRCNN.save">
<code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name_or_path</span></em>, <em class="sig-param"><span class="n">framework</span><span class="o">=</span><span class="default_value">'PyTorch'</span></em>, <em class="sig-param"><span class="n">publish</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">compute_metrics</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">save_optimizer</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">save_inference_file</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.FasterRCNN.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the model weights, creates an Esri Model Definition and Deep
Learning Package zip for deployment to Image Server or ArcGIS Pro.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>name_or_path</p></td>
<td><p>Required string. Name of the model to save. It
stores it at the pre-defined location. If path
is passed then it stores at the specified path
with model name as directory name and creates
all the intermediate directories.</p></td>
</tr>
<tr class="row-odd"><td><p>framework</p></td>
<td><p>Optional string. Defines the framework of the
model. (Only supported by <code class="docutils literal notranslate"><span class="pre">SingleShotDetector</span></code>, currently.)
If framework used is <code class="docutils literal notranslate"><span class="pre">TF-ONNX</span></code>, <code class="docutils literal notranslate"><span class="pre">batch_size</span></code> can be
passed as an optional keyword argument.</p>
<p>Framework choice: ‘PyTorch’ and ‘TF-ONNX’</p>
</td>
</tr>
<tr class="row-even"><td><p>publish</p></td>
<td><p>Optional boolean. Publishes the DLPK as an item.</p></td>
</tr>
<tr class="row-odd"><td><p>gis</p></td>
<td><p>Optional GIS Object. Used for publishing the item.
If not specified then active gis user is taken.</p></td>
</tr>
<tr class="row-even"><td><p>compute_metrics</p></td>
<td><p>Optional boolean. Used for computing model
metrics.</p></td>
</tr>
<tr class="row-odd"><td><p>save_optimizer</p></td>
<td><p>Optional boolean. Used for saving the model-optimizer
state along with the model. Default is set to False</p></td>
</tr>
<tr class="row-even"><td><p>save_inference_file</p></td>
<td><p>Optional boolean. Used for saving the inference file
along with the model.
If False, the model will not work with ArcGIS Pro 2.6
or earlier. Default is set to True.</p></td>
</tr>
<tr class="row-odd"><td><p>kwargs</p></td>
<td><p>Optional Parameters:
Boolean <cite>overwrite</cite> if True, it will overwrite
the item on ArcGIS Online/Enterprise, default False.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.FasterRCNN.show_results">
<code class="sig-name descname">show_results</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rows</span><span class="o">=</span><span class="default_value">5</span></em>, <em class="sig-param"><span class="n">thresh</span><span class="o">=</span><span class="default_value">0.5</span></em>, <em class="sig-param"><span class="n">nms_overlap</span><span class="o">=</span><span class="default_value">0.1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.FasterRCNN.show_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays the results of a trained model on a part of the validation set.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.FasterRCNN.supported_backbones">
<em class="property">property </em><code class="sig-name descname">supported_backbones</code><a class="headerlink" href="#arcgis.learn.FasterRCNN.supported_backbones" title="Permalink to this definition">¶</a></dt>
<dd><p>Supported torchvision backbones for this model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.FasterRCNN.supported_datasets">
<em class="property">property </em><code class="sig-name descname">supported_datasets</code><a class="headerlink" href="#arcgis.learn.FasterRCNN.supported_datasets" title="Permalink to this definition">¶</a></dt>
<dd><p>Supported dataset types for this model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.FasterRCNN.unfreeze">
<code class="sig-name descname">unfreeze</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.FasterRCNN.unfreeze" title="Permalink to this definition">¶</a></dt>
<dd><p>Unfreezes the earlier layers of the model for fine-tuning.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="retinanet">
<h3>RetinaNet<a class="headerlink" href="#retinanet" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="arcgis.learn.RetinaNet">
<em class="property">class </em><code class="sig-prename descclassname">arcgis.learn.</code><code class="sig-name descname">RetinaNet</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">scales</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ratios</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">backbone</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pretrained_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.RetinaNet" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a RetinaNet Object Detector with the specified zoom scales
and aspect ratios. 
Based on the Fast.ai notebook at <a class="reference external" href="https://github.com/fastai/fastai_dev/blob/master/dev_nb/102a_coco.ipynb">https://github.com/fastai/fastai_dev/blob/master/dev_nb/102a_coco.ipynb</a></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>data</p></td>
<td><p>Required fastai Databunch. Returned data object from
<cite>prepare_data</cite> function.</p></td>
</tr>
<tr class="row-odd"><td><p>scales</p></td>
<td><p>Optional list of float values. Zoom scales of anchor boxes.</p></td>
</tr>
<tr class="row-even"><td><p>ratios</p></td>
<td><p>Optional list of float values. Aspect ratios of anchor
boxes.</p></td>
</tr>
<tr class="row-odd"><td><p>backbone</p></td>
<td><p>Optional function. Backbone CNN model to be used for
creating the base of the <cite>RetinaNet</cite>, which
is <cite>resnet50</cite> by default.
Compatible backbones: ‘resnet18’, ‘resnet34’, ‘resnet50’, ‘resnet101’, ‘resnet152’</p></td>
</tr>
<tr class="row-even"><td><p>pretrained_path</p></td>
<td><p>Optional string. Path where pre-trained model is
saved.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>RetinaNet</cite> Object</p>
</dd>
</dl>
<dl class="py method">
<dt id="arcgis.learn.RetinaNet.average_precision_score">
<code class="sig-name descname">average_precision_score</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">detect_thresh</span><span class="o">=</span><span class="default_value">0.5</span></em>, <em class="sig-param"><span class="n">iou_thresh</span><span class="o">=</span><span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">mean</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">show_progress</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.RetinaNet.average_precision_score" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes average precision on the validation set for each class.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 32%" />
<col style="width: 68%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>detect_thresh</p></td>
<td><p>Optional float. The probability above which
a detection will be considered for computing
average precision.</p></td>
</tr>
<tr class="row-odd"><td><p>iou_thresh</p></td>
<td><p>Optional float. The intersection over union
threshold with the ground truth labels, above
which a predicted bounding box will be
considered a true positive.</p></td>
</tr>
<tr class="row-even"><td><p>mean</p></td>
<td><p>Optional bool. If False returns class-wise
average precision otherwise returns mean
average precision.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>dict</cite> if mean is False otherwise <cite>float</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.RetinaNet.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">epochs</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">lr</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">one_cycle</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">early_stopping</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">checkpoint</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">tensorboard</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.RetinaNet.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Train the model for the specified number of epochs and using the
specified learning rates</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 72%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>epochs</p></td>
<td><p>Required integer. Number of cycles of training
on the data. Increase it if underfitting.</p></td>
</tr>
<tr class="row-odd"><td><p>lr</p></td>
<td><p>Optional float or slice of floats. Learning rate
to be used for training the model. If <code class="docutils literal notranslate"><span class="pre">lr=None</span></code>,
an optimal learning rate is automatically deduced
for training the model.</p></td>
</tr>
<tr class="row-even"><td><p>one_cycle</p></td>
<td><p>Optional boolean. Parameter to select 1cycle
learning rate schedule. If set to <cite>False</cite> no
learning rate schedule is used.</p></td>
</tr>
<tr class="row-odd"><td><p>early_stopping</p></td>
<td><p>Optional boolean. Parameter to add early stopping.
If set to ‘True’ training will stop if validation
loss stops improving for 5 epochs.</p></td>
</tr>
<tr class="row-even"><td><p>checkpoint</p></td>
<td><p>Optional boolean. Parameter to save the best model
during training. If set to <cite>True</cite> the best model
based on validation loss will be saved during
training.</p></td>
</tr>
<tr class="row-odd"><td><p>tensorboard</p></td>
<td><p>Optional boolean. Parameter to write the training log.
If set to ‘True’ the log will be saved at
&lt;dataset-path&gt;/training_log which can be visualized in
tensorboard. Required tensorboardx version=2.1</p>
<p>The default value is ‘False’.
<a href="#id9"><span class="problematic" id="id10">**</span></a>Note - Not applicable for Text Models</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.RetinaNet.from_model">
<em class="property">classmethod </em><code class="sig-name descname">from_model</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">emd_path</span></em>, <em class="sig-param"><span class="n">data</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.RetinaNet.from_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a RetinaNet Object Detector from an Esri Model Definition (EMD) file.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>emd_path</p></td>
<td><p>Required string. Path to Deep Learning Package
(DLPK) or Esri Model Definition(EMD) file.</p></td>
</tr>
<tr class="row-odd"><td><p>data</p></td>
<td><p>Required fastai Databunch or None. Returned data
object from <cite>prepare_data</cite> function or None for
inferencing.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>RetinaNet</cite> Object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.RetinaNet.load">
<code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name_or_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.RetinaNet.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a compatible saved model for inferencing or fine tuning from the disk.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>name_or_path</p></td>
<td><p>Required string. Name or Path to
Deep Learning Package (DLPK) or
Esri Model Definition(EMD) file.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.RetinaNet.lr_find">
<code class="sig-name descname">lr_find</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">allow_plot</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.RetinaNet.lr_find" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the Learning Rate Finder, and displays the graph of its output.
Helps in choosing the optimum learning rate for training the model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.RetinaNet.plot_losses">
<code class="sig-name descname">plot_losses</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.RetinaNet.plot_losses" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot validation and training losses after fitting the model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.RetinaNet.predict">
<code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">image_path</span></em>, <em class="sig-param"><span class="n">threshold</span><span class="o">=</span><span class="default_value">0.5</span></em>, <em class="sig-param"><span class="n">nms_overlap</span><span class="o">=</span><span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">return_scores</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">visualize</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">resize</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.RetinaNet.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Predicts and displays the results of a trained model on a single image.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 77%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>image_path</p></td>
<td><p>Required. Path to the image file to make the
predictions on.</p></td>
</tr>
<tr class="row-odd"><td><p>thresh</p></td>
<td><p>Optional float. The probability above which
a detection will be considered valid.</p></td>
</tr>
<tr class="row-even"><td><p>nms_overlap</p></td>
<td><p>Optional float. The intersection over union
threshold with other predicted bounding
boxes, above which the box with the highest
score will be considered a true positive.</p></td>
</tr>
<tr class="row-odd"><td><p>return_scores</p></td>
<td><p>Optional boolean.
Will return the probability scores of the
bounding box predictions if True.</p></td>
</tr>
<tr class="row-even"><td><p>visualize</p></td>
<td><p>Optional boolean. Displays the image with
predicted bounding boxes if True.</p></td>
</tr>
<tr class="row-odd"><td><p>resize</p></td>
<td><p>Optional boolean. Resizes the image to the same size
(chip_size parameter in prepare_data) that the model was trained on,
before detecting objects.
Note that if resize_to parameter was used in prepare_data,
the image is resized to that size instead.</p>
<p>By default, this parameter is false and the detections are run
in a sliding window fashion by applying the model on cropped sections
of the image (of the same size as the model was trained on).</p>
</td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>‘List’ of xmin, ymin, width, height of predicted bounding boxes on the given image</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.RetinaNet.predict_video">
<code class="sig-name descname">predict_video</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_video_path</span></em>, <em class="sig-param"><span class="n">metadata_file</span></em>, <em class="sig-param"><span class="n">threshold</span><span class="o">=</span><span class="default_value">0.5</span></em>, <em class="sig-param"><span class="n">nms_overlap</span><span class="o">=</span><span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">track</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">visualize</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">output_file_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">multiplex</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">multiplex_file_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tracker_options</span><span class="o">=</span><span class="default_value">{'assignment_iou_thrd': 0.3, 'detect_frames': 10, 'vanish_frames': 40}</span></em>, <em class="sig-param"><span class="n">visual_options</span><span class="o">=</span><span class="default_value">{'color': (255, 255, 255), 'fontface': 0, 'show_labels': True, 'show_scores': True, 'thickness': 2}</span></em>, <em class="sig-param"><span class="n">resize</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.RetinaNet.predict_video" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs prediction on a video and appends the output VMTI predictions in the metadata file.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 77%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>input_video_path</p></td>
<td><p>Required. Path to the video file to make the
predictions on.</p></td>
</tr>
<tr class="row-odd"><td><p>metadata_file</p></td>
<td><p>Required. Path to the metadata csv file where
the predictions will be saved in VMTI format.</p></td>
</tr>
<tr class="row-even"><td><p>threshold</p></td>
<td><p>Optional float. The probability above which
a detection will be considered.</p></td>
</tr>
<tr class="row-odd"><td><p>nms_overlap</p></td>
<td><p>Optional float. The intersection over union
threshold with other predicted bounding
boxes, above which the box with the highest
score will be considered a true positive.</p></td>
</tr>
<tr class="row-even"><td><p>track</p></td>
<td><p>Optional bool. Set this parameter as True to
enable object tracking.</p></td>
</tr>
<tr class="row-odd"><td><p>visualize</p></td>
<td><p>Optional boolean. If True a video is saved
with prediction results.</p></td>
</tr>
<tr class="row-even"><td><p>output_file_path</p></td>
<td><p>Optional path. Path of the final video to be saved.
If not supplied, video will be saved at path input_video_path
appended with _prediction.</p></td>
</tr>
<tr class="row-odd"><td><p>multiplex</p></td>
<td><p>Optional boolean. Runs Multiplex using the VMTI detections.</p></td>
</tr>
<tr class="row-even"><td><p>multiplex_file_path</p></td>
<td><p>Optional path. Path of the multiplexed video to be saved.
By default a new file with _multiplex.MOV extension is saved
in the same folder.</p></td>
</tr>
<tr class="row-odd"><td><p>tracking_options</p></td>
<td><p>Optional dictionary. Set different parameters for
object tracking. assignment_iou_thrd parameter is used
to assign threshold for assignment of trackers,
vanish_frames is the number of frames the object should
be absent to consider it as vanished, detect_frames
is the number of frames an object should be detected
to track it.</p></td>
</tr>
<tr class="row-even"><td><p>visual_options</p></td>
<td><p>Optional dictionary. Set different parameters for
visualization.
show_scores boolean, to view scores on predictions,
show_labels boolean, to view labels on predictions,
thickness integer, to set the thickness level of box,
fontface integer, fontface value from opencv values,
color tuple (B, G, R), tuple containing values between
0-255.</p></td>
</tr>
<tr class="row-odd"><td><p>resize</p></td>
<td><p>Optional boolean. Resizes the video frames to the same size
(chip_size parameter in prepare_data) that the model was trained on,
before detecting objects.
Note that if resize_to parameter was used in prepare_data,
the video frames are resized to that size instead.</p>
<p>By default, this parameter is false and the detections are run
in a sliding window fashion by applying the model on cropped sections
of the frame (of the same size as the model was trained on).</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.RetinaNet.save">
<code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name_or_path</span></em>, <em class="sig-param"><span class="n">framework</span><span class="o">=</span><span class="default_value">'PyTorch'</span></em>, <em class="sig-param"><span class="n">publish</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">compute_metrics</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">save_optimizer</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">save_inference_file</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.RetinaNet.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the model weights, creates an Esri Model Definition and Deep
Learning Package zip for deployment to Image Server or ArcGIS Pro.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>name_or_path</p></td>
<td><p>Required string. Name of the model to save. It
stores it at the pre-defined location. If path
is passed then it stores at the specified path
with model name as directory name and creates
all the intermediate directories.</p></td>
</tr>
<tr class="row-odd"><td><p>framework</p></td>
<td><p>Optional string. Defines the framework of the
model. (Only supported by <code class="docutils literal notranslate"><span class="pre">SingleShotDetector</span></code>, currently.)
If framework used is <code class="docutils literal notranslate"><span class="pre">TF-ONNX</span></code>, <code class="docutils literal notranslate"><span class="pre">batch_size</span></code> can be
passed as an optional keyword argument.</p>
<p>Framework choice: ‘PyTorch’ and ‘TF-ONNX’</p>
</td>
</tr>
<tr class="row-even"><td><p>publish</p></td>
<td><p>Optional boolean. Publishes the DLPK as an item.</p></td>
</tr>
<tr class="row-odd"><td><p>gis</p></td>
<td><p>Optional GIS Object. Used for publishing the item.
If not specified then active gis user is taken.</p></td>
</tr>
<tr class="row-even"><td><p>compute_metrics</p></td>
<td><p>Optional boolean. Used for computing model
metrics.</p></td>
</tr>
<tr class="row-odd"><td><p>save_optimizer</p></td>
<td><p>Optional boolean. Used for saving the model-optimizer
state along with the model. Default is set to False</p></td>
</tr>
<tr class="row-even"><td><p>save_inference_file</p></td>
<td><p>Optional boolean. Used for saving the inference file
along with the model.
If False, the model will not work with ArcGIS Pro 2.6
or earlier. Default is set to True.</p></td>
</tr>
<tr class="row-odd"><td><p>kwargs</p></td>
<td><p>Optional Parameters:
Boolean <cite>overwrite</cite> if True, it will overwrite
the item on ArcGIS Online/Enterprise, default False.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.RetinaNet.show_results">
<code class="sig-name descname">show_results</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rows</span><span class="o">=</span><span class="default_value">5</span></em>, <em class="sig-param"><span class="n">thresh</span><span class="o">=</span><span class="default_value">0.5</span></em>, <em class="sig-param"><span class="n">nms_overlap</span><span class="o">=</span><span class="default_value">0.1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.RetinaNet.show_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays the results of a trained model on a part of the validation set.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>rows</p></td>
<td><p>Optional int. Number of rows of results
to be displayed.</p></td>
</tr>
<tr class="row-odd"><td><p>thresh</p></td>
<td><p>Optional float. The probability above which
a detection will be considered valid.</p></td>
</tr>
<tr class="row-even"><td><p>nms_overlap</p></td>
<td><p>Optional float. The intersection over union
threshold with other predicted bounding
boxes, above which the box with the highest
score will be considered a true positive.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.RetinaNet.supported_backbones">
<em class="property">property </em><code class="sig-name descname">supported_backbones</code><a class="headerlink" href="#arcgis.learn.RetinaNet.supported_backbones" title="Permalink to this definition">¶</a></dt>
<dd><p>Supported torchvision backbones for this model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.RetinaNet.supported_datasets">
<em class="property">property </em><code class="sig-name descname">supported_datasets</code><a class="headerlink" href="#arcgis.learn.RetinaNet.supported_datasets" title="Permalink to this definition">¶</a></dt>
<dd><p>Supported dataset types for this model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.RetinaNet.unfreeze">
<code class="sig-name descname">unfreeze</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.RetinaNet.unfreeze" title="Permalink to this definition">¶</a></dt>
<dd><p>Unfreezes the earlier layers of the model for fine-tuning.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="yolov3">
<h3>YOLOv3<a class="headerlink" href="#yolov3" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="arcgis.learn.YOLOv3">
<em class="property">class </em><code class="sig-prename descclassname">arcgis.learn.</code><code class="sig-name descname">YOLOv3</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pretrained_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.YOLOv3" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a YOLOv3 object detector.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 29%" />
<col style="width: 71%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>data</p></td>
<td><p>Required fastai Databunch. Returned data object from
<cite>prepare_data</cite> function.</p></td>
</tr>
<tr class="row-odd"><td><p>pretrained_path</p></td>
<td><p>Optional string. Path where pre-trained model is
saved.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>YOLOv3</cite> Object</p>
</dd>
</dl>
<dl class="py method">
<dt id="arcgis.learn.YOLOv3.average_precision_score">
<code class="sig-name descname">average_precision_score</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">detect_thresh</span><span class="o">=</span><span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">iou_thresh</span><span class="o">=</span><span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">mean</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">show_progress</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.YOLOv3.average_precision_score" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes average precision on the validation set for each class.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 31%" />
<col style="width: 69%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>detect_thresh</p></td>
<td><p>Optional float. The probability above which
a detection will be considered for computing
average precision. Defaults to 0.1. To be
modified according to the dataset and training.</p></td>
</tr>
<tr class="row-odd"><td><p>iou_thresh</p></td>
<td><p>Optional float. The intersection over union
threshold with the ground truth labels, above
which a predicted bounding box will be
considered a true positive.</p></td>
</tr>
<tr class="row-even"><td><p>mean</p></td>
<td><p>Optional bool. If False returns class-wise
average precision otherwise returns mean
average precision.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>dict</cite> if mean is False otherwise <cite>float</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.YOLOv3.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">epochs</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">lr</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">one_cycle</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">early_stopping</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">checkpoint</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">tensorboard</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.YOLOv3.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Train the model for the specified number of epochs and using the
specified learning rates</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 72%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>epochs</p></td>
<td><p>Required integer. Number of cycles of training
on the data. Increase it if underfitting.</p></td>
</tr>
<tr class="row-odd"><td><p>lr</p></td>
<td><p>Optional float or slice of floats. Learning rate
to be used for training the model. If <code class="docutils literal notranslate"><span class="pre">lr=None</span></code>,
an optimal learning rate is automatically deduced
for training the model.</p></td>
</tr>
<tr class="row-even"><td><p>one_cycle</p></td>
<td><p>Optional boolean. Parameter to select 1cycle
learning rate schedule. If set to <cite>False</cite> no
learning rate schedule is used.</p></td>
</tr>
<tr class="row-odd"><td><p>early_stopping</p></td>
<td><p>Optional boolean. Parameter to add early stopping.
If set to ‘True’ training will stop if validation
loss stops improving for 5 epochs.</p></td>
</tr>
<tr class="row-even"><td><p>checkpoint</p></td>
<td><p>Optional boolean. Parameter to save the best model
during training. If set to <cite>True</cite> the best model
based on validation loss will be saved during
training.</p></td>
</tr>
<tr class="row-odd"><td><p>tensorboard</p></td>
<td><p>Optional boolean. Parameter to write the training log.
If set to ‘True’ the log will be saved at
&lt;dataset-path&gt;/training_log which can be visualized in
tensorboard. Required tensorboardx version=2.1</p>
<p>The default value is ‘False’.
<a href="#id11"><span class="problematic" id="id12">**</span></a>Note - Not applicable for Text Models</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.YOLOv3.from_model">
<em class="property">classmethod </em><code class="sig-name descname">from_model</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">emd_path</span></em>, <em class="sig-param"><span class="n">data</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.YOLOv3.from_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a YOLOv3 Object Detector from an Esri Model Definition (EMD) file.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>emd_path</p></td>
<td><p>Required string. Path to Deep Learning Package
(DLPK) or Esri Model Definition(EMD) file.</p></td>
</tr>
<tr class="row-odd"><td><p>data</p></td>
<td><p>Required fastai Databunch or None. Returned data
object from <cite>prepare_data</cite> function or None for
inferencing.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>YOLOv3</cite> Object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.YOLOv3.load">
<code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name_or_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.YOLOv3.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a compatible saved model for inferencing or fine tuning from the disk.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>name_or_path</p></td>
<td><p>Required string. Name or Path to
Deep Learning Package (DLPK) or
Esri Model Definition(EMD) file.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.YOLOv3.lr_find">
<code class="sig-name descname">lr_find</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">allow_plot</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.YOLOv3.lr_find" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the Learning Rate Finder, and displays the graph of its output.
Helps in choosing the optimum learning rate for training the model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.YOLOv3.plot_losses">
<code class="sig-name descname">plot_losses</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.YOLOv3.plot_losses" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot validation and training losses after fitting the model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.YOLOv3.predict">
<code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">image_path</span></em>, <em class="sig-param"><span class="n">threshold</span><span class="o">=</span><span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">nms_overlap</span><span class="o">=</span><span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">return_scores</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">visualize</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">resize</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.YOLOv3.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Predicts and displays the results of a trained model on a single image.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 77%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>image_path</p></td>
<td><p>Required. Path to the image file to make the
predictions on.</p></td>
</tr>
<tr class="row-odd"><td><p>thresh</p></td>
<td><p>Optional float. The probability above which
a detection will be considered valid.
Defaults to 0.1. To be modified according
to the dataset and training.</p></td>
</tr>
<tr class="row-even"><td><p>nms_overlap</p></td>
<td><p>Optional float. The intersection over union
threshold with other predicted bounding
boxes, above which the box with the highest
score will be considered a true positive.</p></td>
</tr>
<tr class="row-odd"><td><p>return_scores</p></td>
<td><p>Optional boolean.
Will return the probability scores of the
bounding box predictions if True.</p></td>
</tr>
<tr class="row-even"><td><p>visualize</p></td>
<td><p>Optional boolean. Displays the image with
predicted bounding boxes if True.</p></td>
</tr>
<tr class="row-odd"><td><p>resize</p></td>
<td><p>Optional boolean. Resizes the image to the same size
(chip_size parameter in prepare_data) that the model was trained on,
before detecting objects.
Note that if resize_to parameter was used in prepare_data,
the image is resized to that size instead.</p>
<p>By default, this parameter is false and the detections are run
in a sliding window fashion by applying the model on cropped sections
of the image (of the same size as the model was trained on).</p>
</td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>‘List’ of xmin, ymin, width, height of predicted bounding boxes on the given image</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.YOLOv3.predict_video">
<code class="sig-name descname">predict_video</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_video_path</span></em>, <em class="sig-param"><span class="n">metadata_file</span></em>, <em class="sig-param"><span class="n">threshold</span><span class="o">=</span><span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">nms_overlap</span><span class="o">=</span><span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">track</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">visualize</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">output_file_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">multiplex</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">multiplex_file_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tracker_options</span><span class="o">=</span><span class="default_value">{'assignment_iou_thrd': 0.3, 'detect_frames': 10, 'vanish_frames': 40}</span></em>, <em class="sig-param"><span class="n">visual_options</span><span class="o">=</span><span class="default_value">{'color': (255, 255, 255), 'fontface': 0, 'show_labels': True, 'show_scores': True, 'thickness': 2}</span></em>, <em class="sig-param"><span class="n">resize</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.YOLOv3.predict_video" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs prediction on a video and appends the output VMTI predictions in the metadata file.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 77%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>input_video_path</p></td>
<td><p>Required. Path to the video file to make the
predictions on.</p></td>
</tr>
<tr class="row-odd"><td><p>metadata_file</p></td>
<td><p>Required. Path to the metadata csv file where
the predictions will be saved in VMTI format.</p></td>
</tr>
<tr class="row-even"><td><p>threshold</p></td>
<td><p>Optional float. The probability above which
a detection will be considered. Defaults to
0.1. To be modified according to the dataset
and training.</p></td>
</tr>
<tr class="row-odd"><td><p>nms_overlap</p></td>
<td><p>Optional float. The intersection over union
threshold with other predicted bounding
boxes, above which the box with the highest
score will be considered a true positive.</p></td>
</tr>
<tr class="row-even"><td><p>track</p></td>
<td><p>Optional bool. Set this parameter as True to
enable object tracking.</p></td>
</tr>
<tr class="row-odd"><td><p>visualize</p></td>
<td><p>Optional boolean. If True a video is saved
with prediction results.</p></td>
</tr>
<tr class="row-even"><td><p>output_file_path</p></td>
<td><p>Optional path. Path of the final video to be saved.
If not supplied, video will be saved at path input_video_path
appended with _prediction.</p></td>
</tr>
<tr class="row-odd"><td><p>multiplex</p></td>
<td><p>Optional boolean. Runs Multiplex using the VMTI detections.</p></td>
</tr>
<tr class="row-even"><td><p>multiplex_file_path</p></td>
<td><p>Optional path. Path of the multiplexed video to be saved.
By default a new file with _multiplex.MOV extension is saved
in the same folder.</p></td>
</tr>
<tr class="row-odd"><td><p>tracking_options</p></td>
<td><p>Optional dictionary. Set different parameters for
object tracking. assignment_iou_thrd parameter is used
to assign threshold for assignment of trackers,
vanish_frames is the number of frames the object should
be absent to consider it as vanished, detect_frames
is the number of frames an object should be detected
to track it.</p></td>
</tr>
<tr class="row-even"><td><p>visual_options</p></td>
<td><p>Optional dictionary. Set different parameters for
visualization.
show_scores boolean, to view scores on predictions,
show_labels boolean, to view labels on predictions,
thickness integer, to set the thickness level of box,
fontface integer, fontface value from opencv values,
color tuple (B, G, R), tuple containing values between
0-255.</p></td>
</tr>
<tr class="row-odd"><td><p>resize</p></td>
<td><p>Optional boolean. Resizes the video frames to the same size
(chip_size parameter in prepare_data) that the model was trained on,
before detecting objects.
Note that if resize_to parameter was used in prepare_data,
the video frames are resized to that size instead.</p>
<p>By default, this parameter is false and the detections are run
in a sliding window fashion by applying the model on cropped sections
of the frame (of the same size as the model was trained on).</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.YOLOv3.save">
<code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name_or_path</span></em>, <em class="sig-param"><span class="n">framework</span><span class="o">=</span><span class="default_value">'PyTorch'</span></em>, <em class="sig-param"><span class="n">publish</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">compute_metrics</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">save_optimizer</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">save_inference_file</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.YOLOv3.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the model weights, creates an Esri Model Definition and Deep
Learning Package zip for deployment to Image Server or ArcGIS Pro.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>name_or_path</p></td>
<td><p>Required string. Name of the model to save. It
stores it at the pre-defined location. If path
is passed then it stores at the specified path
with model name as directory name and creates
all the intermediate directories.</p></td>
</tr>
<tr class="row-odd"><td><p>framework</p></td>
<td><p>Optional string. Defines the framework of the
model. (Only supported by <code class="docutils literal notranslate"><span class="pre">SingleShotDetector</span></code>, currently.)
If framework used is <code class="docutils literal notranslate"><span class="pre">TF-ONNX</span></code>, <code class="docutils literal notranslate"><span class="pre">batch_size</span></code> can be
passed as an optional keyword argument.</p>
<p>Framework choice: ‘PyTorch’ and ‘TF-ONNX’</p>
</td>
</tr>
<tr class="row-even"><td><p>publish</p></td>
<td><p>Optional boolean. Publishes the DLPK as an item.</p></td>
</tr>
<tr class="row-odd"><td><p>gis</p></td>
<td><p>Optional GIS Object. Used for publishing the item.
If not specified then active gis user is taken.</p></td>
</tr>
<tr class="row-even"><td><p>compute_metrics</p></td>
<td><p>Optional boolean. Used for computing model
metrics.</p></td>
</tr>
<tr class="row-odd"><td><p>save_optimizer</p></td>
<td><p>Optional boolean. Used for saving the model-optimizer
state along with the model. Default is set to False</p></td>
</tr>
<tr class="row-even"><td><p>save_inference_file</p></td>
<td><p>Optional boolean. Used for saving the inference file
along with the model.
If False, the model will not work with ArcGIS Pro 2.6
or earlier. Default is set to True.</p></td>
</tr>
<tr class="row-odd"><td><p>kwargs</p></td>
<td><p>Optional Parameters:
Boolean <cite>overwrite</cite> if True, it will overwrite
the item on ArcGIS Online/Enterprise, default False.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.YOLOv3.show_results">
<code class="sig-name descname">show_results</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rows</span><span class="o">=</span><span class="default_value">5</span></em>, <em class="sig-param"><span class="n">thresh</span><span class="o">=</span><span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">nms_overlap</span><span class="o">=</span><span class="default_value">0.1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.YOLOv3.show_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays the results of a trained model on a part of the validation set.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>rows</p></td>
<td><p>Optional int. Number of rows of results
to be displayed.</p></td>
</tr>
<tr class="row-odd"><td><p>thresh</p></td>
<td><p>Optional float. The probability above which
a detection will be considered valid.
Defaults to 0.1. To be modified according
to the dataset and training.</p></td>
</tr>
<tr class="row-even"><td><p>nms_overlap</p></td>
<td><p>Optional float. The intersection over union
threshold with other predicted bounding
boxes, above which the box with the highest
score will be considered a true positive.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.YOLOv3.supported_backbones">
<em class="property">property </em><code class="sig-name descname">supported_backbones</code><a class="headerlink" href="#arcgis.learn.YOLOv3.supported_backbones" title="Permalink to this definition">¶</a></dt>
<dd><p>Supported backbones for this model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.YOLOv3.supported_datasets">
<em class="property">property </em><code class="sig-name descname">supported_datasets</code><a class="headerlink" href="#arcgis.learn.YOLOv3.supported_datasets" title="Permalink to this definition">¶</a></dt>
<dd><p>Supported dataset types for this model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.YOLOv3.unfreeze">
<code class="sig-name descname">unfreeze</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.YOLOv3.unfreeze" title="Permalink to this definition">¶</a></dt>
<dd><p>Unfreezes the earlier layers of the model for fine-tuning.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="singleshotdetector">
<h3>SingleShotDetector<a class="headerlink" href="#singleshotdetector" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="arcgis.learn.SingleShotDetector">
<em class="property">class </em><code class="sig-prename descclassname">arcgis.learn.</code><code class="sig-name descname">SingleShotDetector</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">grids</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">zooms</span><span class="o">=</span><span class="default_value">[1.0]</span></em>, <em class="sig-param"><span class="n">ratios</span><span class="o">=</span><span class="default_value">[[1.0, 1.0]]</span></em>, <em class="sig-param"><span class="n">backbone</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">drop</span><span class="o">=</span><span class="default_value">0.3</span></em>, <em class="sig-param"><span class="n">bias</span><span class="o">=</span><span class="default_value">- 4.0</span></em>, <em class="sig-param"><span class="n">focal_loss</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">pretrained_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">location_loss_factor</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ssd_version</span><span class="o">=</span><span class="default_value">2</span></em>, <em class="sig-param"><span class="n">backend</span><span class="o">=</span><span class="default_value">'pytorch'</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.SingleShotDetector" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a Single Shot Detector with the specified grid sizes, zoom scales
and aspect ratios. Based on Fast.ai MOOC Version2 Lesson 9.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 77%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>data</p></td>
<td><p>Required fastai Databunch. Returned data object from
<cite>prepare_data</cite> function.</p></td>
</tr>
<tr class="row-odd"><td><p>grids</p></td>
<td><p>Required list. Grid sizes used for creating anchor
boxes.</p></td>
</tr>
<tr class="row-even"><td><p>zooms</p></td>
<td><p>Optional list. Zooms of anchor boxes.</p></td>
</tr>
<tr class="row-odd"><td><p>ratios</p></td>
<td><p>Optional list of tuples. Aspect ratios of anchor
boxes.</p></td>
</tr>
<tr class="row-even"><td><p>backbone</p></td>
<td><p>Optional function. Backbone CNN model to be used for
creating the base of the <cite>SingleShotDetector</cite>, which
is <cite>resnet34</cite> by default.</p></td>
</tr>
<tr class="row-odd"><td><p>dropout</p></td>
<td><p>Optional float. Dropout probability. Increase it to
reduce overfitting.</p></td>
</tr>
<tr class="row-even"><td><p>bias</p></td>
<td><p>Optional float. Bias for SSD head.</p></td>
</tr>
<tr class="row-odd"><td><p>focal_loss</p></td>
<td><p>Optional boolean. Uses Focal Loss if True.</p></td>
</tr>
<tr class="row-even"><td><p>pretrained_path</p></td>
<td><p>Optional string. Path where pre-trained model is
saved.</p></td>
</tr>
<tr class="row-odd"><td><p>location_loss_factor</p></td>
<td><p>Optional float. Sets the weight of the bounding box
loss. This should be strictly between 0 and 1. This
is default <cite>None</cite> which gives equal weight to both
location and classification loss. This factor
adjusts the focus of model on the location of
bounding box.</p></td>
</tr>
<tr class="row-even"><td><p>ssd_version</p></td>
<td><p>Optional int within [1,2]. Use version=1 for arcgis v1.6.2 or earlier</p></td>
</tr>
<tr class="row-odd"><td><p>backend</p></td>
<td><p>Optional string. Controls the backend framework to be used
for this model, which is ‘pytorch’ by default.</p>
<p>valid options are ‘pytorch’, ‘tensorflow’</p>
</td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>SingleShotDetector</cite> Object</p>
</dd>
</dl>
<dl class="py method">
<dt id="arcgis.learn.SingleShotDetector.average_precision_score">
<code class="sig-name descname">average_precision_score</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">detect_thresh</span><span class="o">=</span><span class="default_value">0.2</span></em>, <em class="sig-param"><span class="n">iou_thresh</span><span class="o">=</span><span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">mean</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">show_progress</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.SingleShotDetector.average_precision_score" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes average precision on the validation set for each class.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 32%" />
<col style="width: 68%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>detect_thresh</p></td>
<td><p>Optional float. The probability above which
a detection will be considered for computing
average precision.</p></td>
</tr>
<tr class="row-odd"><td><p>iou_thresh</p></td>
<td><p>Optional float. The intersection over union
threshold with the ground truth labels, above
which a predicted bounding box will be
considered a true positive.</p></td>
</tr>
<tr class="row-even"><td><p>mean</p></td>
<td><p>Optional bool. If False returns class-wise
average precision otherwise returns mean
average precision.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>dict</cite> if mean is False otherwise <cite>float</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.SingleShotDetector.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">epochs</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">lr</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">one_cycle</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">early_stopping</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">checkpoint</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">tensorboard</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.SingleShotDetector.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Train the model for the specified number of epochs and using the
specified learning rates</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 72%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>epochs</p></td>
<td><p>Required integer. Number of cycles of training
on the data. Increase it if underfitting.</p></td>
</tr>
<tr class="row-odd"><td><p>lr</p></td>
<td><p>Optional float or slice of floats. Learning rate
to be used for training the model. If <code class="docutils literal notranslate"><span class="pre">lr=None</span></code>,
an optimal learning rate is automatically deduced
for training the model.</p></td>
</tr>
<tr class="row-even"><td><p>one_cycle</p></td>
<td><p>Optional boolean. Parameter to select 1cycle
learning rate schedule. If set to <cite>False</cite> no
learning rate schedule is used.</p></td>
</tr>
<tr class="row-odd"><td><p>early_stopping</p></td>
<td><p>Optional boolean. Parameter to add early stopping.
If set to ‘True’ training will stop if validation
loss stops improving for 5 epochs.</p></td>
</tr>
<tr class="row-even"><td><p>checkpoint</p></td>
<td><p>Optional boolean. Parameter to save the best model
during training. If set to <cite>True</cite> the best model
based on validation loss will be saved during
training.</p></td>
</tr>
<tr class="row-odd"><td><p>tensorboard</p></td>
<td><p>Optional boolean. Parameter to write the training log.
If set to ‘True’ the log will be saved at
&lt;dataset-path&gt;/training_log which can be visualized in
tensorboard. Required tensorboardx version=2.1</p>
<p>The default value is ‘False’.
<a href="#id13"><span class="problematic" id="id14">**</span></a>Note - Not applicable for Text Models</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.SingleShotDetector.from_emd">
<em class="property">classmethod </em><code class="sig-name descname">from_emd</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">emd_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.SingleShotDetector.from_emd" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a Single Shot Detector from an Esri Model Definition (EMD) file.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>data</p></td>
<td><p>Required fastai Databunch or None. Returned data
object from <cite>prepare_data</cite> function or None for
inferencing.</p></td>
</tr>
<tr class="row-odd"><td><p>emd_path</p></td>
<td><p>Required string. Path to Esri Model Definition
file.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>SingleShotDetector</cite> Object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.SingleShotDetector.from_model">
<em class="property">classmethod </em><code class="sig-name descname">from_model</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">emd_path</span></em>, <em class="sig-param"><span class="n">data</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.SingleShotDetector.from_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a Single Shot Detector from an Esri Model Definition (EMD) file.</p>
<p>Note: Only supported for Pytorch models.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>emd_path</p></td>
<td><p>Required string. Path to Deep Learning Package
(DLPK) or Esri Model Definition(EMD) file.</p></td>
</tr>
<tr class="row-odd"><td><p>data</p></td>
<td><p>Required fastai Databunch or None. Returned data
object from <cite>prepare_data</cite> function or None for
inferencing.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>SingleShotDetector</cite> Object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.SingleShotDetector.load">
<code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name_or_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.SingleShotDetector.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a compatible saved model for inferencing or fine tuning from the disk.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>name_or_path</p></td>
<td><p>Required string. Name or Path to
Deep Learning Package (DLPK) or
Esri Model Definition(EMD) file.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.SingleShotDetector.lr_find">
<code class="sig-name descname">lr_find</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">allow_plot</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.SingleShotDetector.lr_find" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the Learning Rate Finder, and displays the graph of its output.
Helps in choosing the optimum learning rate for training the model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.SingleShotDetector.plot_losses">
<code class="sig-name descname">plot_losses</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.SingleShotDetector.plot_losses" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot validation and training losses after fitting the model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.SingleShotDetector.predict">
<code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">image_path</span></em>, <em class="sig-param"><span class="n">threshold</span><span class="o">=</span><span class="default_value">0.5</span></em>, <em class="sig-param"><span class="n">nms_overlap</span><span class="o">=</span><span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">return_scores</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">visualize</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">resize</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.SingleShotDetector.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs prediction on an Image.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 77%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>image_path</p></td>
<td><p>Required. Path to the image file to make the
predictions on.</p></td>
</tr>
<tr class="row-odd"><td><p>threshold</p></td>
<td><p>Optional float. The probability above which
a detection will be considered valid.</p></td>
</tr>
<tr class="row-even"><td><p>nms_overlap</p></td>
<td><p>Optional float. The intersection over union
threshold with other predicted bounding
boxes, above which the box with the highest
score will be considered a true positive.</p></td>
</tr>
<tr class="row-odd"><td><p>return_scores</p></td>
<td><p>Optional boolean. Will return the probability
scores of the bounding box predictions if True.</p></td>
</tr>
<tr class="row-even"><td><p>visualize</p></td>
<td><p>Optional boolean. Displays the image with
predicted bounding boxes if True.</p></td>
</tr>
<tr class="row-odd"><td><p>resize</p></td>
<td><p>Optional boolean. Resizes the image to the same size
(chip_size parameter in prepare_data) that the model was trained on,
before detecting objects.
Note that if resize_to parameter was used in prepare_data,
the image is resized to that size instead.</p>
<p>By default, this parameter is false and the detections are run
in a sliding window fashion by applying the model on cropped sections
of the image (of the same size as the model was trained on).</p>
</td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>‘List’ of xmin, ymin, width, height of predicted bounding boxes on the given image</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.SingleShotDetector.predict_video">
<code class="sig-name descname">predict_video</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_video_path</span></em>, <em class="sig-param"><span class="n">metadata_file</span></em>, <em class="sig-param"><span class="n">threshold</span><span class="o">=</span><span class="default_value">0.5</span></em>, <em class="sig-param"><span class="n">nms_overlap</span><span class="o">=</span><span class="default_value">0.1</span></em>, <em class="sig-param"><span class="n">track</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">visualize</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">output_file_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">multiplex</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">multiplex_file_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">tracker_options</span><span class="o">=</span><span class="default_value">{'assignment_iou_thrd': 0.3, 'detect_frames': 10, 'vanish_frames': 40}</span></em>, <em class="sig-param"><span class="n">visual_options</span><span class="o">=</span><span class="default_value">{'color': (255, 255, 255), 'fontface': 0, 'show_labels': True, 'show_scores': True, 'thickness': 2}</span></em>, <em class="sig-param"><span class="n">resize</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.SingleShotDetector.predict_video" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs prediction on a video and appends the output VMTI predictions in the metadata file.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 77%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>input_video_path</p></td>
<td><p>Required. Path to the video file to make the
predictions on.</p></td>
</tr>
<tr class="row-odd"><td><p>metadata_file</p></td>
<td><p>Required. Path to the metadata csv file where
the predictions will be saved in VMTI format.</p></td>
</tr>
<tr class="row-even"><td><p>threshold</p></td>
<td><p>Optional float. The probability above which
a detection will be considered.</p></td>
</tr>
<tr class="row-odd"><td><p>nms_overlap</p></td>
<td><p>Optional float. The intersection over union
threshold with other predicted bounding
boxes, above which the box with the highest
score will be considered a true positive.</p></td>
</tr>
<tr class="row-even"><td><p>track</p></td>
<td><p>Optional bool. Set this parameter as True to
enable object tracking.</p></td>
</tr>
<tr class="row-odd"><td><p>visualize</p></td>
<td><p>Optional boolean. If True a video is saved
with prediction results.</p></td>
</tr>
<tr class="row-even"><td><p>output_file_path</p></td>
<td><p>Optional path. Path of the final video to be saved.
If not supplied, video will be saved at path input_video_path
appended with _prediction.</p></td>
</tr>
<tr class="row-odd"><td><p>multiplex</p></td>
<td><p>Optional boolean. Runs Multiplex using the VMTI detections.</p></td>
</tr>
<tr class="row-even"><td><p>multiplex_file_path</p></td>
<td><p>Optional path. Path of the multiplexed video to be saved.
By default a new file with _multiplex.MOV extension is saved
in the same folder.</p></td>
</tr>
<tr class="row-odd"><td><p>tracking_options</p></td>
<td><p>Optional dictionary. Set different parameters for
object tracking. assignment_iou_thrd parameter is used
to assign threshold for assignment of trackers,
vanish_frames is the number of frames the object should
be absent to consider it as vanished, detect_frames
is the number of frames an object should be detected
to track it.</p></td>
</tr>
<tr class="row-even"><td><p>visual_options</p></td>
<td><p>Optional dictionary. Set different parameters for
visualization.
show_scores boolean, to view scores on predictions,
show_labels boolean, to view labels on predictions,
thickness integer, to set the thickness level of box,
fontface integer, fontface value from opencv values,
color tuple (B, G, R), tuple containing values between
0-255.</p></td>
</tr>
<tr class="row-odd"><td><p>resize</p></td>
<td><p>Optional boolean. Resizes the video frames to the same size
(chip_size parameter in prepare_data) that the model was trained on,
before detecting objects.
Note that if resize_to parameter was used in prepare_data,
the video frames are resized to that size instead.</p>
<p>By default, this parameter is false and the detections are run
in a sliding window fashion by applying the model on cropped sections
of the frame (of the same size as the model was trained on).</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.SingleShotDetector.save">
<code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name_or_path</span></em>, <em class="sig-param"><span class="n">framework</span><span class="o">=</span><span class="default_value">'PyTorch'</span></em>, <em class="sig-param"><span class="n">publish</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">compute_metrics</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">save_optimizer</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">save_inference_file</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.SingleShotDetector.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the model weights, creates an Esri Model Definition and Deep
Learning Package zip for deployment to Image Server or ArcGIS Pro.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>name_or_path</p></td>
<td><p>Required string. Name of the model to save. It
stores it at the pre-defined location. If path
is passed then it stores at the specified path
with model name as directory name and creates
all the intermediate directories.</p></td>
</tr>
<tr class="row-odd"><td><p>framework</p></td>
<td><p>Optional string. Defines the framework of the
model. (Only supported by <code class="docutils literal notranslate"><span class="pre">SingleShotDetector</span></code>, currently.)
If framework used is <code class="docutils literal notranslate"><span class="pre">TF-ONNX</span></code>, <code class="docutils literal notranslate"><span class="pre">batch_size</span></code> can be
passed as an optional keyword argument.</p>
<p>Framework choice: ‘PyTorch’ and ‘TF-ONNX’</p>
</td>
</tr>
<tr class="row-even"><td><p>publish</p></td>
<td><p>Optional boolean. Publishes the DLPK as an item.</p></td>
</tr>
<tr class="row-odd"><td><p>gis</p></td>
<td><p>Optional GIS Object. Used for publishing the item.
If not specified then active gis user is taken.</p></td>
</tr>
<tr class="row-even"><td><p>compute_metrics</p></td>
<td><p>Optional boolean. Used for computing model
metrics.</p></td>
</tr>
<tr class="row-odd"><td><p>save_optimizer</p></td>
<td><p>Optional boolean. Used for saving the model-optimizer
state along with the model. Default is set to False</p></td>
</tr>
<tr class="row-even"><td><p>save_inference_file</p></td>
<td><p>Optional boolean. Used for saving the inference file
along with the model.
If False, the model will not work with ArcGIS Pro 2.6
or earlier. Default is set to True.</p></td>
</tr>
<tr class="row-odd"><td><p>kwargs</p></td>
<td><p>Optional Parameters:
Boolean <cite>overwrite</cite> if True, it will overwrite
the item on ArcGIS Online/Enterprise, default False.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.SingleShotDetector.show_results">
<code class="sig-name descname">show_results</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rows</span><span class="o">=</span><span class="default_value">5</span></em>, <em class="sig-param"><span class="n">thresh</span><span class="o">=</span><span class="default_value">0.5</span></em>, <em class="sig-param"><span class="n">nms_overlap</span><span class="o">=</span><span class="default_value">0.1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.SingleShotDetector.show_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays the results of a trained model on a part of the validation set.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.SingleShotDetector.supported_backbones">
<em class="property">property </em><code class="sig-name descname">supported_backbones</code><a class="headerlink" href="#arcgis.learn.SingleShotDetector.supported_backbones" title="Permalink to this definition">¶</a></dt>
<dd><p>Supported torchvision backbones for this model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.SingleShotDetector.supported_datasets">
<em class="property">property </em><code class="sig-name descname">supported_datasets</code><a class="headerlink" href="#arcgis.learn.SingleShotDetector.supported_datasets" title="Permalink to this definition">¶</a></dt>
<dd><p>Supported dataset types for this model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.SingleShotDetector.unfreeze">
<code class="sig-name descname">unfreeze</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.SingleShotDetector.unfreeze" title="Permalink to this definition">¶</a></dt>
<dd><p>Unfreezes the earlier layers of the model for fine-tuning.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="maskrcnn">
<h3>MaskRCNN<a class="headerlink" href="#maskrcnn" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="arcgis.learn.MaskRCNN">
<em class="property">class </em><code class="sig-prename descclassname">arcgis.learn.</code><code class="sig-name descname">MaskRCNN</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">backbone</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pretrained_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pointrend</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.MaskRCNN" title="Permalink to this definition">¶</a></dt>
<dd><p>Model architecture from <a class="reference external" href="https://arxiv.org/abs/1703.06870">https://arxiv.org/abs/1703.06870</a>.
Creates a <code class="docutils literal notranslate"><span class="pre">MaskRCNN</span></code> Instance segmentation model,
based on <a class="reference external" href="https://github.com/pytorch/vision/blob/master/torchvision/models/detection/mask_rcnn.py">https://github.com/pytorch/vision/blob/master/torchvision/models/detection/mask_rcnn.py</a>.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>data</p></td>
<td><p>Required fastai Databunch. Returned data object from
<code class="docutils literal notranslate"><span class="pre">prepare_data</span></code> function.</p></td>
</tr>
<tr class="row-odd"><td><p>backbone</p></td>
<td><p>Optional function. Backbone CNN model to be used for
creating the base of the <cite>MaskRCNN</cite>, which
is <cite>resnet50</cite> by default.
Compatible backbones: ‘resnet18’, ‘resnet34’, ‘resnet50’, ‘resnet101’, ‘resnet152’</p></td>
</tr>
<tr class="row-even"><td><p>pretrained_path</p></td>
<td><p>Optional string. Path where pre-trained model is
saved.</p></td>
</tr>
<tr class="row-odd"><td><p>pointrend</p></td>
<td><p>Optional boolean. If True, it will use PointRend
architecture on top of the segmentation head.
Default: False. PointRend architecture from
<a class="reference external" href="https://arxiv.org/pdf/1912.08193.pdf">https://arxiv.org/pdf/1912.08193.pdf</a>.</p></td>
</tr>
</tbody>
</table>
<p><strong>kwargs</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 34%" />
<col style="width: 66%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>rpn_pre_nms_top_n_train</p></td>
<td><p>Optional int. Number of proposals to keep before
applying NMS during training.
Default: 2000</p></td>
</tr>
<tr class="row-odd"><td><p>rpn_pre_nms_top_n_test</p></td>
<td><p>Optional int. Number of proposals to keep before
applying NMS during testing.
Default: 1000</p></td>
</tr>
<tr class="row-even"><td><p>rpn_post_nms_top_n_train</p></td>
<td><p>Optional int. Number of proposals to keep after
applying NMS during training.
Default: 2000</p></td>
</tr>
<tr class="row-odd"><td><p>rpn_post_nms_top_n_test</p></td>
<td><p>Optional int. Number of proposals to keep after
applying NMS during testing.
Default: 1000</p></td>
</tr>
<tr class="row-even"><td><p>rpn_nms_thresh</p></td>
<td><p>Optional float. NMS threshold used for postprocessing
the RPN proposals.
Default: 0.7</p></td>
</tr>
<tr class="row-odd"><td><p>rpn_fg_iou_thresh</p></td>
<td><p>Optional float. Minimum IoU between the anchor
and the GT box so that they can be considered
as positive during training of the RPN.
Default: 0.7</p></td>
</tr>
<tr class="row-even"><td><p>rpn_bg_iou_thresh</p></td>
<td><p>Optional float. Maximum IoU between the anchor and
the GT box so that they can be considered as negative
during training of the RPN.
Default: 0.3</p></td>
</tr>
<tr class="row-odd"><td><p>rpn_batch_size_per_image</p></td>
<td><p>Optional int. Number of anchors that are sampled
during training of the RPN for computing the loss.
Default: 256</p></td>
</tr>
<tr class="row-even"><td><p>rpn_positive_fraction</p></td>
<td><p>Optional float. Proportion of positive anchors in a
mini-batch during training of the RPN.
Default: 0.5</p></td>
</tr>
<tr class="row-odd"><td><p>box_score_thresh</p></td>
<td><p>Optional float. During inference, only return proposals
with a classification score greater than box_score_thresh
Default: 0.05</p></td>
</tr>
<tr class="row-even"><td><p>box_nms_thresh</p></td>
<td><p>Optional float. NMS threshold for the prediction head.
Used during inference.
Default: 0.5</p></td>
</tr>
<tr class="row-odd"><td><p>box_detections_per_img</p></td>
<td><p>Optional int. Maximum number of detections per
image, for all classes.
Default: 100</p></td>
</tr>
<tr class="row-even"><td><p>box_fg_iou_thresh</p></td>
<td><p>Optional float. Minimum IoU between the proposals and
the GT box so that they can be considered as positive
during training of the classification head.
Default: 0.5</p></td>
</tr>
<tr class="row-odd"><td><p>box_bg_iou_thresh</p></td>
<td><p>Optional float. Maximum IoU between the proposals and
the GT box so that they can be considered as negative
during training of the classification head.
Default: 0.5</p></td>
</tr>
<tr class="row-even"><td><p>box_batch_size_per_image</p></td>
<td><p>Optional int. Number of proposals that are sampled during
training of the classification head.
Default: 512</p></td>
</tr>
<tr class="row-odd"><td><p>box_positive_fraction</p></td>
<td><p>Optional float. Proportion of positive proposals in a
mini-batch during training of the classification head.
Default: 0.25</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">MaskRCNN</span></code> Object</p>
</dd>
</dl>
<dl class="py method">
<dt id="arcgis.learn.MaskRCNN.average_precision_score">
<code class="sig-name descname">average_precision_score</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">detect_thresh</span><span class="o">=</span><span class="default_value">0.5</span></em>, <em class="sig-param"><span class="n">iou_thresh</span><span class="o">=</span><span class="default_value">0.5</span></em>, <em class="sig-param"><span class="n">mean</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">show_progress</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.MaskRCNN.average_precision_score" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes average precision on the validation set for each class.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>dict</cite> if mean is False otherwise <cite>float</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.MaskRCNN.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">epochs</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">lr</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">one_cycle</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">early_stopping</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">checkpoint</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">tensorboard</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.MaskRCNN.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Train the model for the specified number of epochs and using the
specified learning rates</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 72%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>epochs</p></td>
<td><p>Required integer. Number of cycles of training
on the data. Increase it if underfitting.</p></td>
</tr>
<tr class="row-odd"><td><p>lr</p></td>
<td><p>Optional float or slice of floats. Learning rate
to be used for training the model. If <code class="docutils literal notranslate"><span class="pre">lr=None</span></code>,
an optimal learning rate is automatically deduced
for training the model.</p></td>
</tr>
<tr class="row-even"><td><p>one_cycle</p></td>
<td><p>Optional boolean. Parameter to select 1cycle
learning rate schedule. If set to <cite>False</cite> no
learning rate schedule is used.</p></td>
</tr>
<tr class="row-odd"><td><p>early_stopping</p></td>
<td><p>Optional boolean. Parameter to add early stopping.
If set to ‘True’ training will stop if validation
loss stops improving for 5 epochs.</p></td>
</tr>
<tr class="row-even"><td><p>checkpoint</p></td>
<td><p>Optional boolean. Parameter to save the best model
during training. If set to <cite>True</cite> the best model
based on validation loss will be saved during
training.</p></td>
</tr>
<tr class="row-odd"><td><p>tensorboard</p></td>
<td><p>Optional boolean. Parameter to write the training log.
If set to ‘True’ the log will be saved at
&lt;dataset-path&gt;/training_log which can be visualized in
tensorboard. Required tensorboardx version=2.1</p>
<p>The default value is ‘False’.
<a href="#id15"><span class="problematic" id="id16">**</span></a>Note - Not applicable for Text Models</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.MaskRCNN.from_model">
<em class="property">classmethod </em><code class="sig-name descname">from_model</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">emd_path</span></em>, <em class="sig-param"><span class="n">data</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.MaskRCNN.from_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a <code class="docutils literal notranslate"><span class="pre">MaskRCNN</span></code> Instance segmentation object from an Esri Model Definition (EMD) file.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>emd_path</p></td>
<td><p>Required string. Path to Deep Learning Package
(DLPK) or Esri Model Definition(EMD) file.</p></td>
</tr>
<tr class="row-odd"><td><p>data</p></td>
<td><p>Required fastai Databunch or None. Returned data
object from <code class="docutils literal notranslate"><span class="pre">prepare_data</span></code> function or None for
inferencing.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>MaskRCNN</cite> Object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.MaskRCNN.load">
<code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name_or_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.MaskRCNN.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a compatible saved model for inferencing or fine tuning from the disk.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>name_or_path</p></td>
<td><p>Required string. Name or Path to
Deep Learning Package (DLPK) or
Esri Model Definition(EMD) file.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.MaskRCNN.lr_find">
<code class="sig-name descname">lr_find</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">allow_plot</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.MaskRCNN.lr_find" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the Learning Rate Finder, and displays the graph of its output.
Helps in choosing the optimum learning rate for training the model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.MaskRCNN.plot_losses">
<code class="sig-name descname">plot_losses</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.MaskRCNN.plot_losses" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot validation and training losses after fitting the model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.MaskRCNN.save">
<code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name_or_path</span></em>, <em class="sig-param"><span class="n">framework</span><span class="o">=</span><span class="default_value">'PyTorch'</span></em>, <em class="sig-param"><span class="n">publish</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">compute_metrics</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">save_optimizer</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">save_inference_file</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.MaskRCNN.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the model weights, creates an Esri Model Definition and Deep
Learning Package zip for deployment to Image Server or ArcGIS Pro.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>name_or_path</p></td>
<td><p>Required string. Name of the model to save. It
stores it at the pre-defined location. If path
is passed then it stores at the specified path
with model name as directory name and creates
all the intermediate directories.</p></td>
</tr>
<tr class="row-odd"><td><p>framework</p></td>
<td><p>Optional string. Defines the framework of the
model. (Only supported by <code class="docutils literal notranslate"><span class="pre">SingleShotDetector</span></code>, currently.)
If framework used is <code class="docutils literal notranslate"><span class="pre">TF-ONNX</span></code>, <code class="docutils literal notranslate"><span class="pre">batch_size</span></code> can be
passed as an optional keyword argument.</p>
<p>Framework choice: ‘PyTorch’ and ‘TF-ONNX’</p>
</td>
</tr>
<tr class="row-even"><td><p>publish</p></td>
<td><p>Optional boolean. Publishes the DLPK as an item.</p></td>
</tr>
<tr class="row-odd"><td><p>gis</p></td>
<td><p>Optional GIS Object. Used for publishing the item.
If not specified then active gis user is taken.</p></td>
</tr>
<tr class="row-even"><td><p>compute_metrics</p></td>
<td><p>Optional boolean. Used for computing model
metrics.</p></td>
</tr>
<tr class="row-odd"><td><p>save_optimizer</p></td>
<td><p>Optional boolean. Used for saving the model-optimizer
state along with the model. Default is set to False</p></td>
</tr>
<tr class="row-even"><td><p>save_inference_file</p></td>
<td><p>Optional boolean. Used for saving the inference file
along with the model.
If False, the model will not work with ArcGIS Pro 2.6
or earlier. Default is set to True.</p></td>
</tr>
<tr class="row-odd"><td><p>kwargs</p></td>
<td><p>Optional Parameters:
Boolean <cite>overwrite</cite> if True, it will overwrite
the item on ArcGIS Online/Enterprise, default False.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.MaskRCNN.show_results">
<code class="sig-name descname">show_results</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rows</span><span class="o">=</span><span class="default_value">4</span></em>, <em class="sig-param"><span class="n">mode</span><span class="o">=</span><span class="default_value">'mask'</span></em>, <em class="sig-param"><span class="n">mask_threshold</span><span class="o">=</span><span class="default_value">0.5</span></em>, <em class="sig-param"><span class="n">box_threshold</span><span class="o">=</span><span class="default_value">0.7</span></em>, <em class="sig-param"><span class="n">imsize</span><span class="o">=</span><span class="default_value">5</span></em>, <em class="sig-param"><span class="n">index</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">alpha</span><span class="o">=</span><span class="default_value">0.5</span></em>, <em class="sig-param"><span class="n">cmap</span><span class="o">=</span><span class="default_value">'tab20'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.MaskRCNN.show_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays the results of a trained model on a part of the validation set.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 76%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>mode</p></td>
<td><dl class="simple">
<dt>Required arguments within [‘bbox’, ‘mask’, ‘bbox_mask’].</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">bbox</span></code> - For visualizing only bounding boxes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mask</span></code> - For visualizing only mask</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bbox_mask</span></code> - For visualizing both mask and bounding boxes.</p></li>
</ul>
</dd>
</dl>
</td>
</tr>
<tr class="row-odd"><td><p>mask_threshold</p></td>
<td><p>Optional float. The probability above which
a pixel will be considered mask.</p></td>
</tr>
<tr class="row-even"><td><p>box_threshold</p></td>
<td><p>Optional float. The probability above which
a detection will be considered valid.</p></td>
</tr>
<tr class="row-odd"><td><p>nrows</p></td>
<td><p>Optional int. Number of rows of results
to be displayed.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.MaskRCNN.supported_backbones">
<em class="property">property </em><code class="sig-name descname">supported_backbones</code><a class="headerlink" href="#arcgis.learn.MaskRCNN.supported_backbones" title="Permalink to this definition">¶</a></dt>
<dd><p>Supported torchvision backbones for this model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.MaskRCNN.supported_datasets">
<em class="property">property </em><code class="sig-name descname">supported_datasets</code><a class="headerlink" href="#arcgis.learn.MaskRCNN.supported_datasets" title="Permalink to this definition">¶</a></dt>
<dd><p>Supported dataset types for this model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.MaskRCNN.unfreeze">
<code class="sig-name descname">unfreeze</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.MaskRCNN.unfreeze" title="Permalink to this definition">¶</a></dt>
<dd><p>Unfreezes the earlier layers of the model for fine-tuning.</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="pixel-classification-models">
<h2>Pixel Classification Models<a class="headerlink" href="#pixel-classification-models" title="Permalink to this headline">¶</a></h2>
<div class="section" id="unetclassifier">
<h3>UnetClassifier<a class="headerlink" href="#unetclassifier" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="arcgis.learn.UnetClassifier">
<em class="property">class </em><code class="sig-prename descclassname">arcgis.learn.</code><code class="sig-name descname">UnetClassifier</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">backbone</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pretrained_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">backend</span><span class="o">=</span><span class="default_value">'pytorch'</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.UnetClassifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a Unet like classifier based on given pretrained encoder.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 27%" />
<col style="width: 73%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>data</p></td>
<td><p>Required fastai Databunch. Returned data object from
<cite>prepare_data</cite> function.</p></td>
</tr>
<tr class="row-odd"><td><p>backbone</p></td>
<td><p>Optional function. Backbone CNN model to be used for
creating the base of the <cite>UnetClassifier</cite>, which
is <cite>resnet34</cite> by default.</p></td>
</tr>
<tr class="row-even"><td><p>pretrained_path</p></td>
<td><p>Optional string. Path where pre-trained model is
saved.</p></td>
</tr>
<tr class="row-odd"><td><p>backend</p></td>
<td><p>Optional string. Controls the backend framework to be used
for this model, which is ‘pytorch’ by default.</p>
<p>valid options are ‘pytorch’, ‘tensorflow’</p>
</td>
</tr>
</tbody>
</table>
<p><strong>kwargs</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 72%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>class_balancing</p></td>
<td><p>Optional boolean. If True, it will balance the
cross-entropy loss inverse to the frequency
of pixels per class. Default: False.</p></td>
</tr>
<tr class="row-odd"><td><p>mixup</p></td>
<td><p>Optional boolean. If True, it will use mixup
augmentation and mixup loss. Default: False</p></td>
</tr>
<tr class="row-even"><td><p>focal_loss</p></td>
<td><p>Optional boolean. If True, it will use focal loss
Default: False</p></td>
</tr>
<tr class="row-odd"><td><p>dice_loss_fraction</p></td>
<td><p>Optional float.
Min_val=0, Max_val=1
If &gt; 0 , model will use a combination of default or
focal(if focal=True) loss with the specified fraction
of dice loss.
E.g.
for dice = 0.3, loss = (1-0.3)*default loss + 0.3*dice
Default: 0</p></td>
</tr>
<tr class="row-even"><td><p>ignore_classes</p></td>
<td><p>Optional list. It will contain the list of class
values on which model will not incur loss.
Default: []</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>UnetClassifier</cite> Object</p>
</dd>
</dl>
<dl class="py method">
<dt id="arcgis.learn.UnetClassifier.accuracy">
<code class="sig-name descname">accuracy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.UnetClassifier.accuracy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="arcgis.learn.UnetClassifier.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">epochs</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">lr</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">one_cycle</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">early_stopping</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">checkpoint</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">tensorboard</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.UnetClassifier.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Train the model for the specified number of epochs and using the
specified learning rates</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 72%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>epochs</p></td>
<td><p>Required integer. Number of cycles of training
on the data. Increase it if underfitting.</p></td>
</tr>
<tr class="row-odd"><td><p>lr</p></td>
<td><p>Optional float or slice of floats. Learning rate
to be used for training the model. If <code class="docutils literal notranslate"><span class="pre">lr=None</span></code>,
an optimal learning rate is automatically deduced
for training the model.</p></td>
</tr>
<tr class="row-even"><td><p>one_cycle</p></td>
<td><p>Optional boolean. Parameter to select 1cycle
learning rate schedule. If set to <cite>False</cite> no
learning rate schedule is used.</p></td>
</tr>
<tr class="row-odd"><td><p>early_stopping</p></td>
<td><p>Optional boolean. Parameter to add early stopping.
If set to ‘True’ training will stop if validation
loss stops improving for 5 epochs.</p></td>
</tr>
<tr class="row-even"><td><p>checkpoint</p></td>
<td><p>Optional boolean. Parameter to save the best model
during training. If set to <cite>True</cite> the best model
based on validation loss will be saved during
training.</p></td>
</tr>
<tr class="row-odd"><td><p>tensorboard</p></td>
<td><p>Optional boolean. Parameter to write the training log.
If set to ‘True’ the log will be saved at
&lt;dataset-path&gt;/training_log which can be visualized in
tensorboard. Required tensorboardx version=2.1</p>
<p>The default value is ‘False’.
<a href="#id17"><span class="problematic" id="id18">**</span></a>Note - Not applicable for Text Models</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.UnetClassifier.from_emd">
<em class="property">classmethod </em><code class="sig-name descname">from_emd</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">emd_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.UnetClassifier.from_emd" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a Unet like classifier from an Esri Model Definition (EMD) file.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>data</p></td>
<td><p>Required fastai Databunch or None. Returned data
object from <cite>prepare_data</cite> function or None for
inferencing.</p></td>
</tr>
<tr class="row-odd"><td><p>emd_path</p></td>
<td><p>Required string. Path to Esri Model Definition
file.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>UnetClassifier</cite> Object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.UnetClassifier.from_model">
<em class="property">classmethod </em><code class="sig-name descname">from_model</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">emd_path</span></em>, <em class="sig-param"><span class="n">data</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.UnetClassifier.from_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a Unet like classifier from an Esri Model Definition (EMD) file.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>emd_path</p></td>
<td><p>Required string. Path to Deep Learning Package
(DLPK) or Esri Model Definition(EMD) file.</p></td>
</tr>
<tr class="row-odd"><td><p>data</p></td>
<td><p>Required fastai Databunch or None. Returned data
object from <cite>prepare_data</cite> function or None for
inferencing.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>UnetClassifier</cite> Object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.UnetClassifier.load">
<code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name_or_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.UnetClassifier.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a compatible saved model for inferencing or fine tuning from the disk.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>name_or_path</p></td>
<td><p>Required string. Name or Path to
Deep Learning Package (DLPK) or
Esri Model Definition(EMD) file.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.UnetClassifier.lr_find">
<code class="sig-name descname">lr_find</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">allow_plot</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.UnetClassifier.lr_find" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the Learning Rate Finder, and displays the graph of its output.
Helps in choosing the optimum learning rate for training the model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.UnetClassifier.mIOU">
<code class="sig-name descname">mIOU</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mean</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">show_progress</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.UnetClassifier.mIOU" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes mean IOU on the validation set for each class.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>mean</p></td>
<td><p>Optional bool. If False returns class-wise
mean IOU, otherwise returns mean iou of all
classes combined.</p></td>
</tr>
<tr class="row-odd"><td><p>show_progress</p></td>
<td><p>Optional bool. Displays the progress bar if
True.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>dict</cite> if mean is False otherwise <cite>float</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.UnetClassifier.per_class_metrics">
<code class="sig-name descname">per_class_metrics</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ignore_classes</span><span class="o">=</span><span class="default_value">[]</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.UnetClassifier.per_class_metrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Computer per class precision, recall and f1-score on validation set.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 22%" />
<col style="width: 78%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>self</p></td>
<td><p>segmentation model object -&gt; [PSPNetClassifier | UnetClassifier | DeepLab]</p></td>
</tr>
<tr class="row-odd"><td><p>ignore_classes</p></td>
<td><p>Optional list. It will contain the list of class
values on which model will not incur loss.
Default: []</p></td>
</tr>
</tbody>
</table>
<p>Returns per class precision, recall and f1 scores</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.UnetClassifier.plot_losses">
<code class="sig-name descname">plot_losses</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.UnetClassifier.plot_losses" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot validation and training losses after fitting the model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.UnetClassifier.save">
<code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name_or_path</span></em>, <em class="sig-param"><span class="n">framework</span><span class="o">=</span><span class="default_value">'PyTorch'</span></em>, <em class="sig-param"><span class="n">publish</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">compute_metrics</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">save_optimizer</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">save_inference_file</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.UnetClassifier.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the model weights, creates an Esri Model Definition and Deep
Learning Package zip for deployment to Image Server or ArcGIS Pro.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>name_or_path</p></td>
<td><p>Required string. Name of the model to save. It
stores it at the pre-defined location. If path
is passed then it stores at the specified path
with model name as directory name and creates
all the intermediate directories.</p></td>
</tr>
<tr class="row-odd"><td><p>framework</p></td>
<td><p>Optional string. Defines the framework of the
model. (Only supported by <code class="docutils literal notranslate"><span class="pre">SingleShotDetector</span></code>, currently.)
If framework used is <code class="docutils literal notranslate"><span class="pre">TF-ONNX</span></code>, <code class="docutils literal notranslate"><span class="pre">batch_size</span></code> can be
passed as an optional keyword argument.</p>
<p>Framework choice: ‘PyTorch’ and ‘TF-ONNX’</p>
</td>
</tr>
<tr class="row-even"><td><p>publish</p></td>
<td><p>Optional boolean. Publishes the DLPK as an item.</p></td>
</tr>
<tr class="row-odd"><td><p>gis</p></td>
<td><p>Optional GIS Object. Used for publishing the item.
If not specified then active gis user is taken.</p></td>
</tr>
<tr class="row-even"><td><p>compute_metrics</p></td>
<td><p>Optional boolean. Used for computing model
metrics.</p></td>
</tr>
<tr class="row-odd"><td><p>save_optimizer</p></td>
<td><p>Optional boolean. Used for saving the model-optimizer
state along with the model. Default is set to False</p></td>
</tr>
<tr class="row-even"><td><p>save_inference_file</p></td>
<td><p>Optional boolean. Used for saving the inference file
along with the model.
If False, the model will not work with ArcGIS Pro 2.6
or earlier. Default is set to True.</p></td>
</tr>
<tr class="row-odd"><td><p>kwargs</p></td>
<td><p>Optional Parameters:
Boolean <cite>overwrite</cite> if True, it will overwrite
the item on ArcGIS Online/Enterprise, default False.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.UnetClassifier.show_results">
<code class="sig-name descname">show_results</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rows</span><span class="o">=</span><span class="default_value">5</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.UnetClassifier.show_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays the results of a trained model on a part of the validation set.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.UnetClassifier.supported_backbones">
<em class="property">property </em><code class="sig-name descname">supported_backbones</code><a class="headerlink" href="#arcgis.learn.UnetClassifier.supported_backbones" title="Permalink to this definition">¶</a></dt>
<dd><p>Supported torchvision backbones for this model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.UnetClassifier.supported_datasets">
<em class="property">property </em><code class="sig-name descname">supported_datasets</code><a class="headerlink" href="#arcgis.learn.UnetClassifier.supported_datasets" title="Permalink to this definition">¶</a></dt>
<dd><p>Supported dataset types for this model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.UnetClassifier.unfreeze">
<code class="sig-name descname">unfreeze</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.UnetClassifier.unfreeze" title="Permalink to this definition">¶</a></dt>
<dd><p>Unfreezes the earlier layers of the model for fine-tuning.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="pspnetclassifier">
<h3>PSPNetClassifier<a class="headerlink" href="#pspnetclassifier" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="arcgis.learn.PSPNetClassifier">
<em class="property">class </em><code class="sig-prename descclassname">arcgis.learn.</code><code class="sig-name descname">PSPNetClassifier</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">backbone</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">use_unet</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">pyramid_sizes</span><span class="o">=</span><span class="default_value">[1, 2, 3, 6]</span></em>, <em class="sig-param"><span class="n">pretrained_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">unet_aux_loss</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">pointrend</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.PSPNetClassifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Model architecture from <a class="reference external" href="https://arxiv.org/abs/1612.01105">https://arxiv.org/abs/1612.01105</a>.
Creates a PSPNet Image Segmentation/ Pixel Classification model.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 75%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>data</p></td>
<td><p>Required fastai Databunch. Returned data object from
<cite>prepare_data</cite> function.</p></td>
</tr>
<tr class="row-odd"><td><p>backbone</p></td>
<td><p>Optional function. Backbone CNN model to be used for
creating the base of the <cite>PSPNetClassifier</cite>, which
is <cite>resnet50</cite> by default. It supports the ResNet,
DenseNet, and VGG families.</p></td>
</tr>
<tr class="row-even"><td><p>use_unet</p></td>
<td><p>Optional Bool. Specify whether to use Unet-Decoder or not,
Default True.</p></td>
</tr>
<tr class="row-odd"><td><p>pyramid_sizes</p></td>
<td><p>Optional List. The sizes at which the feature map is pooled at.
Currently set to the best set reported in the paper,
i.e, (1, 2, 3, 6)</p></td>
</tr>
<tr class="row-even"><td><p>pretrained</p></td>
<td><p>Optional Bool. If True, use the pretrained backbone</p></td>
</tr>
<tr class="row-odd"><td><p>pretrained_path</p></td>
<td><p>Optional string. Path where pre-trained PSPNet model is
saved.</p></td>
</tr>
<tr class="row-even"><td><p>unet_aux_loss</p></td>
<td><p>Optional. Bool If True will use auxiliary loss for PSUnet.
Default set to False. This flag is applicable only when
use_unet is True.</p></td>
</tr>
<tr class="row-odd"><td><p>pointrend</p></td>
<td><p>Optional boolean. If True, it will use PointRend
architecture on top of the segmentation head.
Default: False. PointRend architecture from
<a class="reference external" href="https://arxiv.org/pdf/1912.08193.pdf">https://arxiv.org/pdf/1912.08193.pdf</a>.</p></td>
</tr>
</tbody>
</table>
<p><strong>kwargs</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 72%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>class_balancing</p></td>
<td><p>Optional boolean. If True, it will balance the
cross-entropy loss inverse to the frequency
of pixels per class. Default: False.</p></td>
</tr>
<tr class="row-odd"><td><p>mixup</p></td>
<td><p>Optional boolean. If True, it will use mixup
augmentation and mixup loss. Default: False</p></td>
</tr>
<tr class="row-even"><td><p>focal_loss</p></td>
<td><p>Optional boolean. If True, it will use focal loss.
Default: False</p></td>
</tr>
<tr class="row-odd"><td><p>dice_loss_fraction</p></td>
<td><p>Optional float.
Min_val=0, Max_val=1
If &gt; 0 , model will use a combination of default or
focal(if focal=True) loss with the specified fraction
of dice loss.
E.g.
for dice = 0.3, loss = (1-0.3)*default loss + 0.3*dice
Default: 0</p></td>
</tr>
<tr class="row-even"><td><p>ignore_classes</p></td>
<td><p>Optional list. It will contain the list of class
values on which model will not incur loss.
Default: []</p></td>
</tr>
<tr class="row-odd"><td><p>keep_dilation</p></td>
<td><p>Optional boolean. When PointRend architecture is used,
keep_dilation=True can potentially improves accuracy
at the cost of memory consumption. Default: False</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>PSPNetClassifier</cite> Object</p>
</dd>
</dl>
<dl class="py method">
<dt id="arcgis.learn.PSPNetClassifier.accuracy">
<code class="sig-name descname">accuracy</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">target</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">void_code</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">class_mapping</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.PSPNetClassifier.accuracy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="arcgis.learn.PSPNetClassifier.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">epochs</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">lr</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">one_cycle</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">early_stopping</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">checkpoint</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">tensorboard</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.PSPNetClassifier.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Train the model for the specified number of epochs and using the
specified learning rates</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 72%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>epochs</p></td>
<td><p>Required integer. Number of cycles of training
on the data. Increase it if underfitting.</p></td>
</tr>
<tr class="row-odd"><td><p>lr</p></td>
<td><p>Optional float or slice of floats. Learning rate
to be used for training the model. If <code class="docutils literal notranslate"><span class="pre">lr=None</span></code>,
an optimal learning rate is automatically deduced
for training the model.</p></td>
</tr>
<tr class="row-even"><td><p>one_cycle</p></td>
<td><p>Optional boolean. Parameter to select 1cycle
learning rate schedule. If set to <cite>False</cite> no
learning rate schedule is used.</p></td>
</tr>
<tr class="row-odd"><td><p>early_stopping</p></td>
<td><p>Optional boolean. Parameter to add early stopping.
If set to ‘True’ training will stop if validation
loss stops improving for 5 epochs.</p></td>
</tr>
<tr class="row-even"><td><p>checkpoint</p></td>
<td><p>Optional boolean. Parameter to save the best model
during training. If set to <cite>True</cite> the best model
based on validation loss will be saved during
training.</p></td>
</tr>
<tr class="row-odd"><td><p>tensorboard</p></td>
<td><p>Optional boolean. Parameter to write the training log.
If set to ‘True’ the log will be saved at
&lt;dataset-path&gt;/training_log which can be visualized in
tensorboard. Required tensorboardx version=2.1</p>
<p>The default value is ‘False’.
<a href="#id19"><span class="problematic" id="id20">**</span></a>Note - Not applicable for Text Models</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.PSPNetClassifier.freeze">
<code class="sig-name descname">freeze</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.PSPNetClassifier.freeze" title="Permalink to this definition">¶</a></dt>
<dd><p>Freezes the pretrained backbone.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.PSPNetClassifier.from_model">
<em class="property">classmethod </em><code class="sig-name descname">from_model</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">emd_path</span></em>, <em class="sig-param"><span class="n">data</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.PSPNetClassifier.from_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a PSPNet classifier from an Esri Model Definition (EMD) file.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>emd_path</p></td>
<td><p>Required string. Path to Deep Learning Package
(DLPK) or Esri Model Definition(EMD) file.</p></td>
</tr>
<tr class="row-odd"><td><p>data</p></td>
<td><p>Required fastai Databunch or None. Returned data
object from <cite>prepare_data</cite> function or None for
inferencing.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>PSPNetClassifier</cite> Object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.PSPNetClassifier.load">
<code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name_or_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.PSPNetClassifier.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a compatible saved model for inferencing or fine tuning from the disk.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>name_or_path</p></td>
<td><p>Required string. Name or Path to
Deep Learning Package (DLPK) or
Esri Model Definition(EMD) file.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.PSPNetClassifier.lr_find">
<code class="sig-name descname">lr_find</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">allow_plot</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.PSPNetClassifier.lr_find" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the Learning Rate Finder, and displays the graph of its output.
Helps in choosing the optimum learning rate for training the model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.PSPNetClassifier.mIOU">
<code class="sig-name descname">mIOU</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mean</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">show_progress</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.PSPNetClassifier.mIOU" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes mean IOU on the validation set for each class.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>mean</p></td>
<td><p>Optional bool. If False returns class-wise
mean IOU, otherwise returns mean iou of all
classes combined.</p></td>
</tr>
<tr class="row-odd"><td><p>show_progress</p></td>
<td><p>Optional bool. Displays the progress bar if
True.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>dict</cite> if mean is False otherwise <cite>float</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.PSPNetClassifier.per_class_metrics">
<code class="sig-name descname">per_class_metrics</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ignore_classes</span><span class="o">=</span><span class="default_value">[]</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.PSPNetClassifier.per_class_metrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Computer per class precision, recall and f1-score on validation set.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 22%" />
<col style="width: 78%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>self</p></td>
<td><p>segmentation model object -&gt; [PSPNetClassifier | UnetClassifier | DeepLab]</p></td>
</tr>
<tr class="row-odd"><td><p>ignore_classes</p></td>
<td><p>Optional list. It will contain the list of class
values on which model will not incur loss.
Default: []</p></td>
</tr>
</tbody>
</table>
<p>Returns per class precision, recall and f1 scores</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.PSPNetClassifier.plot_losses">
<code class="sig-name descname">plot_losses</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.PSPNetClassifier.plot_losses" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot validation and training losses after fitting the model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.PSPNetClassifier.save">
<code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name_or_path</span></em>, <em class="sig-param"><span class="n">framework</span><span class="o">=</span><span class="default_value">'PyTorch'</span></em>, <em class="sig-param"><span class="n">publish</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">compute_metrics</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">save_optimizer</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">save_inference_file</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.PSPNetClassifier.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the model weights, creates an Esri Model Definition and Deep
Learning Package zip for deployment to Image Server or ArcGIS Pro.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>name_or_path</p></td>
<td><p>Required string. Name of the model to save. It
stores it at the pre-defined location. If path
is passed then it stores at the specified path
with model name as directory name and creates
all the intermediate directories.</p></td>
</tr>
<tr class="row-odd"><td><p>framework</p></td>
<td><p>Optional string. Defines the framework of the
model. (Only supported by <code class="docutils literal notranslate"><span class="pre">SingleShotDetector</span></code>, currently.)
If framework used is <code class="docutils literal notranslate"><span class="pre">TF-ONNX</span></code>, <code class="docutils literal notranslate"><span class="pre">batch_size</span></code> can be
passed as an optional keyword argument.</p>
<p>Framework choice: ‘PyTorch’ and ‘TF-ONNX’</p>
</td>
</tr>
<tr class="row-even"><td><p>publish</p></td>
<td><p>Optional boolean. Publishes the DLPK as an item.</p></td>
</tr>
<tr class="row-odd"><td><p>gis</p></td>
<td><p>Optional GIS Object. Used for publishing the item.
If not specified then active gis user is taken.</p></td>
</tr>
<tr class="row-even"><td><p>compute_metrics</p></td>
<td><p>Optional boolean. Used for computing model
metrics.</p></td>
</tr>
<tr class="row-odd"><td><p>save_optimizer</p></td>
<td><p>Optional boolean. Used for saving the model-optimizer
state along with the model. Default is set to False</p></td>
</tr>
<tr class="row-even"><td><p>save_inference_file</p></td>
<td><p>Optional boolean. Used for saving the inference file
along with the model.
If False, the model will not work with ArcGIS Pro 2.6
or earlier. Default is set to True.</p></td>
</tr>
<tr class="row-odd"><td><p>kwargs</p></td>
<td><p>Optional Parameters:
Boolean <cite>overwrite</cite> if True, it will overwrite
the item on ArcGIS Online/Enterprise, default False.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.PSPNetClassifier.show_results">
<code class="sig-name descname">show_results</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rows</span><span class="o">=</span><span class="default_value">5</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.PSPNetClassifier.show_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays the results of a trained model on a part of the validation set.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.PSPNetClassifier.supported_backbones">
<em class="property">property </em><code class="sig-name descname">supported_backbones</code><a class="headerlink" href="#arcgis.learn.PSPNetClassifier.supported_backbones" title="Permalink to this definition">¶</a></dt>
<dd><p>Supported torchvision backbones for this model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.PSPNetClassifier.supported_datasets">
<em class="property">property </em><code class="sig-name descname">supported_datasets</code><a class="headerlink" href="#arcgis.learn.PSPNetClassifier.supported_datasets" title="Permalink to this definition">¶</a></dt>
<dd><p>Supported dataset types for this model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.PSPNetClassifier.unfreeze">
<code class="sig-name descname">unfreeze</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.PSPNetClassifier.unfreeze" title="Permalink to this definition">¶</a></dt>
<dd><p>Unfreezes the earlier layers of the model for fine-tuning.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="deeplab">
<h3>DeepLab<a class="headerlink" href="#deeplab" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="arcgis.learn.DeepLab">
<em class="property">class </em><code class="sig-prename descclassname">arcgis.learn.</code><code class="sig-name descname">DeepLab</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">backbone</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pretrained_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pointrend</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.DeepLab" title="Permalink to this definition">¶</a></dt>
<dd><p>Model architecture from <a class="reference external" href="https://arxiv.org/abs/1706.05587">https://arxiv.org/abs/1706.05587</a>.
Creates a <code class="docutils literal notranslate"><span class="pre">DeepLab</span></code> Image Segmentation/ Pixel Classification model,
based on <a class="reference external" href="https://github.com/pytorch/vision/tree/master/torchvision/models/segmentation">https://github.com/pytorch/vision/tree/master/torchvision/models/segmentation</a>.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 29%" />
<col style="width: 71%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>data</p></td>
<td><p>Required fastai Databunch. Returned data object from
<code class="docutils literal notranslate"><span class="pre">prepare_data</span></code> function.</p></td>
</tr>
<tr class="row-odd"><td><p>backbone</p></td>
<td><p>Optional function. Backbone CNN model to be used for
creating the base of the <cite>DeepLab</cite>, which
is <cite>resnet101</cite> by default since it is pretrained in
torchvision. It supports the ResNet,
DenseNet, and VGG families.</p></td>
</tr>
<tr class="row-even"><td><p>pretrained_path</p></td>
<td><p>Optional string. Path where pre-trained model is
saved.</p></td>
</tr>
<tr class="row-odd"><td><p>pointrend</p></td>
<td><p>Optional boolean. If True, it will use PointRend
architecture on top of the segmentation head.
Default: False. PointRend architecture from
<a class="reference external" href="https://arxiv.org/pdf/1912.08193.pdf">https://arxiv.org/pdf/1912.08193.pdf</a>.</p></td>
</tr>
</tbody>
</table>
<p><strong>kwargs</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 72%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>class_balancing</p></td>
<td><p>Optional boolean. If True, it will balance the
cross-entropy loss inverse to the frequency
of pixels per class. Default: False.</p></td>
</tr>
<tr class="row-odd"><td><p>mixup</p></td>
<td><p>Optional boolean. If True, it will use mixup
augmentation and mixup loss. Default: False</p></td>
</tr>
<tr class="row-even"><td><p>focal_loss</p></td>
<td><p>Optional boolean. If True, it will use focal loss.
Default: False</p></td>
</tr>
<tr class="row-odd"><td><p>dice_loss_fraction</p></td>
<td><p>Optional float.
Min_val=0, Max_val=1
If &gt; 0 , model will use a combination of default or
focal(if focal=True) loss with the specified fraction
of dice loss.
E.g.
for dice = 0.3, loss = (1-0.3)*default loss + 0.3*dice
Default: 0</p></td>
</tr>
<tr class="row-even"><td><p>ignore_classes</p></td>
<td><p>Optional list. It will contain the list of class
values on which model will not incur loss.
Default: []</p></td>
</tr>
<tr class="row-odd"><td><p>keep_dilation</p></td>
<td><p>Optional boolean. When PointRend architecture is used,
keep_dilation=True can potentially improves accuracy
at the cost of memory consumption. Default: False</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">DeepLab</span></code> Object</p>
</dd>
</dl>
<dl class="py method">
<dt id="arcgis.learn.DeepLab.accuracy">
<code class="sig-name descname">accuracy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.DeepLab.accuracy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="arcgis.learn.DeepLab.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">epochs</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">lr</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">one_cycle</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">early_stopping</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">checkpoint</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">tensorboard</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.DeepLab.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Train the model for the specified number of epochs and using the
specified learning rates</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 72%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>epochs</p></td>
<td><p>Required integer. Number of cycles of training
on the data. Increase it if underfitting.</p></td>
</tr>
<tr class="row-odd"><td><p>lr</p></td>
<td><p>Optional float or slice of floats. Learning rate
to be used for training the model. If <code class="docutils literal notranslate"><span class="pre">lr=None</span></code>,
an optimal learning rate is automatically deduced
for training the model.</p></td>
</tr>
<tr class="row-even"><td><p>one_cycle</p></td>
<td><p>Optional boolean. Parameter to select 1cycle
learning rate schedule. If set to <cite>False</cite> no
learning rate schedule is used.</p></td>
</tr>
<tr class="row-odd"><td><p>early_stopping</p></td>
<td><p>Optional boolean. Parameter to add early stopping.
If set to ‘True’ training will stop if validation
loss stops improving for 5 epochs.</p></td>
</tr>
<tr class="row-even"><td><p>checkpoint</p></td>
<td><p>Optional boolean. Parameter to save the best model
during training. If set to <cite>True</cite> the best model
based on validation loss will be saved during
training.</p></td>
</tr>
<tr class="row-odd"><td><p>tensorboard</p></td>
<td><p>Optional boolean. Parameter to write the training log.
If set to ‘True’ the log will be saved at
&lt;dataset-path&gt;/training_log which can be visualized in
tensorboard. Required tensorboardx version=2.1</p>
<p>The default value is ‘False’.
<a href="#id21"><span class="problematic" id="id22">**</span></a>Note - Not applicable for Text Models</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.DeepLab.from_model">
<em class="property">classmethod </em><code class="sig-name descname">from_model</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">emd_path</span></em>, <em class="sig-param"><span class="n">data</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.DeepLab.from_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a <code class="docutils literal notranslate"><span class="pre">DeepLab</span></code> semantic segmentation object from an Esri Model Definition (EMD) file.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>emd_path</p></td>
<td><p>Required string. Path to Deep Learning Package
(DLPK) or Esri Model Definition(EMD) file.</p></td>
</tr>
<tr class="row-odd"><td><p>data</p></td>
<td><p>Required fastai Databunch or None. Returned data
object from <code class="docutils literal notranslate"><span class="pre">prepare_data</span></code> function or None for
inferencing.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>DeepLab</cite> Object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.DeepLab.load">
<code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name_or_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.DeepLab.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a compatible saved model for inferencing or fine tuning from the disk.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>name_or_path</p></td>
<td><p>Required string. Name or Path to
Deep Learning Package (DLPK) or
Esri Model Definition(EMD) file.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.DeepLab.lr_find">
<code class="sig-name descname">lr_find</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">allow_plot</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.DeepLab.lr_find" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the Learning Rate Finder, and displays the graph of its output.
Helps in choosing the optimum learning rate for training the model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.DeepLab.mIOU">
<code class="sig-name descname">mIOU</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mean</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">show_progress</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.DeepLab.mIOU" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes mean IOU on the validation set for each class.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>mean</p></td>
<td><p>Optional bool. If False returns class-wise
mean IOU, otherwise returns mean iou of all
classes combined.</p></td>
</tr>
<tr class="row-odd"><td><p>show_progress</p></td>
<td><p>Optional bool. Displays the progress bar if
True.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>dict</cite> if mean is False otherwise <cite>float</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.DeepLab.per_class_metrics">
<code class="sig-name descname">per_class_metrics</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ignore_classes</span><span class="o">=</span><span class="default_value">[]</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.DeepLab.per_class_metrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Computer per class precision, recall and f1-score on validation set.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 22%" />
<col style="width: 78%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>self</p></td>
<td><p>segmentation model object -&gt; [PSPNetClassifier | UnetClassifier | DeepLab]</p></td>
</tr>
<tr class="row-odd"><td><p>ignore_classes</p></td>
<td><p>Optional list. It will contain the list of class
values on which model will not incur loss.
Default: []</p></td>
</tr>
</tbody>
</table>
<p>Returns per class precision, recall and f1 scores</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.DeepLab.plot_losses">
<code class="sig-name descname">plot_losses</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.DeepLab.plot_losses" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot validation and training losses after fitting the model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.DeepLab.save">
<code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name_or_path</span></em>, <em class="sig-param"><span class="n">framework</span><span class="o">=</span><span class="default_value">'PyTorch'</span></em>, <em class="sig-param"><span class="n">publish</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">compute_metrics</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">save_optimizer</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">save_inference_file</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.DeepLab.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the model weights, creates an Esri Model Definition and Deep
Learning Package zip for deployment to Image Server or ArcGIS Pro.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>name_or_path</p></td>
<td><p>Required string. Name of the model to save. It
stores it at the pre-defined location. If path
is passed then it stores at the specified path
with model name as directory name and creates
all the intermediate directories.</p></td>
</tr>
<tr class="row-odd"><td><p>framework</p></td>
<td><p>Optional string. Defines the framework of the
model. (Only supported by <code class="docutils literal notranslate"><span class="pre">SingleShotDetector</span></code>, currently.)
If framework used is <code class="docutils literal notranslate"><span class="pre">TF-ONNX</span></code>, <code class="docutils literal notranslate"><span class="pre">batch_size</span></code> can be
passed as an optional keyword argument.</p>
<p>Framework choice: ‘PyTorch’ and ‘TF-ONNX’</p>
</td>
</tr>
<tr class="row-even"><td><p>publish</p></td>
<td><p>Optional boolean. Publishes the DLPK as an item.</p></td>
</tr>
<tr class="row-odd"><td><p>gis</p></td>
<td><p>Optional GIS Object. Used for publishing the item.
If not specified then active gis user is taken.</p></td>
</tr>
<tr class="row-even"><td><p>compute_metrics</p></td>
<td><p>Optional boolean. Used for computing model
metrics.</p></td>
</tr>
<tr class="row-odd"><td><p>save_optimizer</p></td>
<td><p>Optional boolean. Used for saving the model-optimizer
state along with the model. Default is set to False</p></td>
</tr>
<tr class="row-even"><td><p>save_inference_file</p></td>
<td><p>Optional boolean. Used for saving the inference file
along with the model.
If False, the model will not work with ArcGIS Pro 2.6
or earlier. Default is set to True.</p></td>
</tr>
<tr class="row-odd"><td><p>kwargs</p></td>
<td><p>Optional Parameters:
Boolean <cite>overwrite</cite> if True, it will overwrite
the item on ArcGIS Online/Enterprise, default False.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.DeepLab.show_results">
<code class="sig-name descname">show_results</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rows</span><span class="o">=</span><span class="default_value">5</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.DeepLab.show_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays the results of a trained model on a part of the validation set.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.DeepLab.supported_backbones">
<em class="property">property </em><code class="sig-name descname">supported_backbones</code><a class="headerlink" href="#arcgis.learn.DeepLab.supported_backbones" title="Permalink to this definition">¶</a></dt>
<dd><p>Supported torchvision backbones for this model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.DeepLab.supported_datasets">
<em class="property">property </em><code class="sig-name descname">supported_datasets</code><a class="headerlink" href="#arcgis.learn.DeepLab.supported_datasets" title="Permalink to this definition">¶</a></dt>
<dd><p>Supported dataset types for this model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.DeepLab.unfreeze">
<code class="sig-name descname">unfreeze</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.DeepLab.unfreeze" title="Permalink to this definition">¶</a></dt>
<dd><p>Unfreezes the earlier layers of the model for fine-tuning.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="bdcnedgedetector">
<h3>BDCNEdgeDetector<a class="headerlink" href="#bdcnedgedetector" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="arcgis.learn.BDCNEdgeDetector">
<em class="property">class </em><code class="sig-prename descclassname">arcgis.learn.</code><code class="sig-name descname">BDCNEdgeDetector</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">backbone</span><span class="o">=</span><span class="default_value">'vgg19'</span></em>, <em class="sig-param"><span class="n">pretrained_path</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.BDCNEdgeDetector" title="Permalink to this definition">¶</a></dt>
<dd><p>Model architecture from <a class="reference external" href="https://arxiv.org/pdf/1902.10903.pdf">https://arxiv.org/pdf/1902.10903.pdf</a>.
Creates a <code class="docutils literal notranslate"><span class="pre">Bi-Directional</span> <span class="pre">Cascade</span> <span class="pre">Network</span> <span class="pre">for</span> <span class="pre">Perceptual</span> <span class="pre">Edge</span> <span class="pre">Detection</span></code> model</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 27%" />
<col style="width: 73%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>data</p></td>
<td><p>Required fastai Databunch. Returned data object from
<code class="docutils literal notranslate"><span class="pre">prepare_data</span></code> function.</p></td>
</tr>
<tr class="row-odd"><td><p>backbone</p></td>
<td><p>Optional function. Backbone CNN model to be used for
creating the base of the <cite>Bi-Directional Cascade Network
for Perceptual Edge Detection</cite>, which
is <cite>vgg19</cite> by default.
Compatible backbones: resnet and VGG</p></td>
</tr>
<tr class="row-even"><td><p>pretrained_path</p></td>
<td><p>Optional string. Path where pre-trained model is
saved.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">Bi-Directional</span> <span class="pre">Cascade</span> <span class="pre">Network</span> <span class="pre">for</span> <span class="pre">Perceptual</span> <span class="pre">Edge</span> <span class="pre">Detection</span></code> Object</p>
</dd>
</dl>
<dl class="py method">
<dt id="arcgis.learn.BDCNEdgeDetector.compute_precision_recall">
<code class="sig-name descname">compute_precision_recall</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">thresh</span><span class="o">=</span><span class="default_value">0.5</span></em>, <em class="sig-param"><span class="n">buffer</span><span class="o">=</span><span class="default_value">3</span></em>, <em class="sig-param"><span class="n">show_progress</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.BDCNEdgeDetector.compute_precision_recall" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes precision, recall and f1 score on validation set.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 32%" />
<col style="width: 68%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>thresh</p></td>
<td><p>Optional float. The probability on which
the detection will be considered edge pixel.</p></td>
</tr>
<tr class="row-odd"><td><p>buffer</p></td>
<td><p>Optional int. pixels in neighborhood to
consider true detection.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>dict</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.BDCNEdgeDetector.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">epochs</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">lr</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">one_cycle</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">early_stopping</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">checkpoint</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">tensorboard</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.BDCNEdgeDetector.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Train the model for the specified number of epochs and using the
specified learning rates</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 72%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>epochs</p></td>
<td><p>Required integer. Number of cycles of training
on the data. Increase it if underfitting.</p></td>
</tr>
<tr class="row-odd"><td><p>lr</p></td>
<td><p>Optional float or slice of floats. Learning rate
to be used for training the model. If <code class="docutils literal notranslate"><span class="pre">lr=None</span></code>,
an optimal learning rate is automatically deduced
for training the model.</p></td>
</tr>
<tr class="row-even"><td><p>one_cycle</p></td>
<td><p>Optional boolean. Parameter to select 1cycle
learning rate schedule. If set to <cite>False</cite> no
learning rate schedule is used.</p></td>
</tr>
<tr class="row-odd"><td><p>early_stopping</p></td>
<td><p>Optional boolean. Parameter to add early stopping.
If set to ‘True’ training will stop if validation
loss stops improving for 5 epochs.</p></td>
</tr>
<tr class="row-even"><td><p>checkpoint</p></td>
<td><p>Optional boolean. Parameter to save the best model
during training. If set to <cite>True</cite> the best model
based on validation loss will be saved during
training.</p></td>
</tr>
<tr class="row-odd"><td><p>tensorboard</p></td>
<td><p>Optional boolean. Parameter to write the training log.
If set to ‘True’ the log will be saved at
&lt;dataset-path&gt;/training_log which can be visualized in
tensorboard. Required tensorboardx version=2.1</p>
<p>The default value is ‘False’.
<a href="#id23"><span class="problematic" id="id24">**</span></a>Note - Not applicable for Text Models</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.BDCNEdgeDetector.from_model">
<em class="property">classmethod </em><code class="sig-name descname">from_model</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">emd_path</span></em>, <em class="sig-param"><span class="n">data</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.BDCNEdgeDetector.from_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a <code class="docutils literal notranslate"><span class="pre">Bi-Directional</span> <span class="pre">Cascade</span> <span class="pre">Network</span> <span class="pre">for</span> <span class="pre">Perceptual</span> <span class="pre">Edge</span> <span class="pre">Detection</span></code> object from an Esri Model Definition (EMD) file.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>emd_path</p></td>
<td><p>Required string. Path to Deep Learning Package
(DLPK) or Esri Model Definition(EMD) file.</p></td>
</tr>
<tr class="row-odd"><td><p>data</p></td>
<td><p>Required fastai Databunch or None. Returned data
object from <code class="docutils literal notranslate"><span class="pre">prepare_data</span></code> function or None for
inferencing.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>Bi-Directional Cascade Network for Perceptual Edge Detection</cite> Object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.BDCNEdgeDetector.load">
<code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name_or_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.BDCNEdgeDetector.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a compatible saved model for inferencing or fine tuning from the disk.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>name_or_path</p></td>
<td><p>Required string. Name or Path to
Deep Learning Package (DLPK) or
Esri Model Definition(EMD) file.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.BDCNEdgeDetector.lr_find">
<code class="sig-name descname">lr_find</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">allow_plot</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.BDCNEdgeDetector.lr_find" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the Learning Rate Finder, and displays the graph of its output.
Helps in choosing the optimum learning rate for training the model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.BDCNEdgeDetector.plot_losses">
<code class="sig-name descname">plot_losses</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.BDCNEdgeDetector.plot_losses" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot validation and training losses after fitting the model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.BDCNEdgeDetector.save">
<code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name_or_path</span></em>, <em class="sig-param"><span class="n">framework</span><span class="o">=</span><span class="default_value">'PyTorch'</span></em>, <em class="sig-param"><span class="n">publish</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">compute_metrics</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">save_optimizer</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">save_inference_file</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.BDCNEdgeDetector.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the model weights, creates an Esri Model Definition and Deep
Learning Package zip for deployment to Image Server or ArcGIS Pro.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>name_or_path</p></td>
<td><p>Required string. Name of the model to save. It
stores it at the pre-defined location. If path
is passed then it stores at the specified path
with model name as directory name and creates
all the intermediate directories.</p></td>
</tr>
<tr class="row-odd"><td><p>framework</p></td>
<td><p>Optional string. Defines the framework of the
model. (Only supported by <code class="docutils literal notranslate"><span class="pre">SingleShotDetector</span></code>, currently.)
If framework used is <code class="docutils literal notranslate"><span class="pre">TF-ONNX</span></code>, <code class="docutils literal notranslate"><span class="pre">batch_size</span></code> can be
passed as an optional keyword argument.</p>
<p>Framework choice: ‘PyTorch’ and ‘TF-ONNX’</p>
</td>
</tr>
<tr class="row-even"><td><p>publish</p></td>
<td><p>Optional boolean. Publishes the DLPK as an item.</p></td>
</tr>
<tr class="row-odd"><td><p>gis</p></td>
<td><p>Optional GIS Object. Used for publishing the item.
If not specified then active gis user is taken.</p></td>
</tr>
<tr class="row-even"><td><p>compute_metrics</p></td>
<td><p>Optional boolean. Used for computing model
metrics.</p></td>
</tr>
<tr class="row-odd"><td><p>save_optimizer</p></td>
<td><p>Optional boolean. Used for saving the model-optimizer
state along with the model. Default is set to False</p></td>
</tr>
<tr class="row-even"><td><p>save_inference_file</p></td>
<td><p>Optional boolean. Used for saving the inference file
along with the model.
If False, the model will not work with ArcGIS Pro 2.6
or earlier. Default is set to True.</p></td>
</tr>
<tr class="row-odd"><td><p>kwargs</p></td>
<td><p>Optional Parameters:
Boolean <cite>overwrite</cite> if True, it will overwrite
the item on ArcGIS Online/Enterprise, default False.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.BDCNEdgeDetector.show_results">
<code class="sig-name descname">show_results</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rows</span><span class="o">=</span><span class="default_value">5</span></em>, <em class="sig-param"><span class="n">thresh</span><span class="o">=</span><span class="default_value">0.5</span></em>, <em class="sig-param"><span class="n">thinning</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.BDCNEdgeDetector.show_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays the results of a trained model on a part of the validation set.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.BDCNEdgeDetector.supported_backbones">
<em class="property">property </em><code class="sig-name descname">supported_backbones</code><a class="headerlink" href="#arcgis.learn.BDCNEdgeDetector.supported_backbones" title="Permalink to this definition">¶</a></dt>
<dd><p>Supported torchvision backbones for this model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.BDCNEdgeDetector.supported_datasets">
<em class="property">property </em><code class="sig-name descname">supported_datasets</code><a class="headerlink" href="#arcgis.learn.BDCNEdgeDetector.supported_datasets" title="Permalink to this definition">¶</a></dt>
<dd><p>Supported dataset types for this model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.BDCNEdgeDetector.unfreeze">
<code class="sig-name descname">unfreeze</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.BDCNEdgeDetector.unfreeze" title="Permalink to this definition">¶</a></dt>
<dd><p>Unfreezes the earlier layers of the model for fine-tuning.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="hededgedetector">
<h3>HEDEdgeDetector<a class="headerlink" href="#hededgedetector" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="arcgis.learn.HEDEdgeDetector">
<em class="property">class </em><code class="sig-prename descclassname">arcgis.learn.</code><code class="sig-name descname">HEDEdgeDetector</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">backbone</span><span class="o">=</span><span class="default_value">'vgg19'</span></em>, <em class="sig-param"><span class="n">pretrained_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.HEDEdgeDetector" title="Permalink to this definition">¶</a></dt>
<dd><p>Model architecture from <a class="reference external" href="https://arxiv.org/pdf/1504.06375.pdf">https://arxiv.org/pdf/1504.06375.pdf</a>.
Creates a <code class="docutils literal notranslate"><span class="pre">Holistically-Nested</span> <span class="pre">Edge</span> <span class="pre">Detection</span></code> model</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 76%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>data</p></td>
<td><p>Required fastai Databunch. Returned data object from
<code class="docutils literal notranslate"><span class="pre">prepare_data</span></code> function.</p></td>
</tr>
<tr class="row-odd"><td><p>backbone</p></td>
<td><p>Optional function. Backbone CNN model to be used for
creating the base of the <cite>Holistically-Nested Edge Detection</cite>, which
is <cite>vgg19</cite> by default.
Compatible backbones: resnet and VGG</p></td>
</tr>
<tr class="row-even"><td><p>pretrained_path</p></td>
<td><p>Optional string. Path where pre-trained model is
saved.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">Holistically-Nested</span> <span class="pre">Edge</span> <span class="pre">Detection</span></code> Object</p>
</dd>
</dl>
<dl class="py method">
<dt id="arcgis.learn.HEDEdgeDetector.compute_precision_recall">
<code class="sig-name descname">compute_precision_recall</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">thresh</span><span class="o">=</span><span class="default_value">0.5</span></em>, <em class="sig-param"><span class="n">buffer</span><span class="o">=</span><span class="default_value">3</span></em>, <em class="sig-param"><span class="n">show_progress</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.HEDEdgeDetector.compute_precision_recall" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes precision, recall and f1 score on validation set.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 32%" />
<col style="width: 68%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>thresh</p></td>
<td><p>Optional float. The probability on which
the detection will be considered edge pixel.</p></td>
</tr>
<tr class="row-odd"><td><p>buffer</p></td>
<td><p>Optional int. pixels in neighborhood to
consider true detection.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>dict</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.HEDEdgeDetector.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">epochs</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">lr</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">one_cycle</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">early_stopping</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">checkpoint</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">tensorboard</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.HEDEdgeDetector.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Train the model for the specified number of epochs and using the
specified learning rates</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 72%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>epochs</p></td>
<td><p>Required integer. Number of cycles of training
on the data. Increase it if underfitting.</p></td>
</tr>
<tr class="row-odd"><td><p>lr</p></td>
<td><p>Optional float or slice of floats. Learning rate
to be used for training the model. If <code class="docutils literal notranslate"><span class="pre">lr=None</span></code>,
an optimal learning rate is automatically deduced
for training the model.</p></td>
</tr>
<tr class="row-even"><td><p>one_cycle</p></td>
<td><p>Optional boolean. Parameter to select 1cycle
learning rate schedule. If set to <cite>False</cite> no
learning rate schedule is used.</p></td>
</tr>
<tr class="row-odd"><td><p>early_stopping</p></td>
<td><p>Optional boolean. Parameter to add early stopping.
If set to ‘True’ training will stop if validation
loss stops improving for 5 epochs.</p></td>
</tr>
<tr class="row-even"><td><p>checkpoint</p></td>
<td><p>Optional boolean. Parameter to save the best model
during training. If set to <cite>True</cite> the best model
based on validation loss will be saved during
training.</p></td>
</tr>
<tr class="row-odd"><td><p>tensorboard</p></td>
<td><p>Optional boolean. Parameter to write the training log.
If set to ‘True’ the log will be saved at
&lt;dataset-path&gt;/training_log which can be visualized in
tensorboard. Required tensorboardx version=2.1</p>
<p>The default value is ‘False’.
<a href="#id25"><span class="problematic" id="id26">**</span></a>Note - Not applicable for Text Models</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.HEDEdgeDetector.from_model">
<em class="property">classmethod </em><code class="sig-name descname">from_model</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">emd_path</span></em>, <em class="sig-param"><span class="n">data</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.HEDEdgeDetector.from_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a <code class="docutils literal notranslate"><span class="pre">Holistically-Nested</span> <span class="pre">Edge</span> <span class="pre">Detection</span></code> object from an Esri Model Definition (EMD) file.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>emd_path</p></td>
<td><p>Required string. Path to Deep Learning Package
(DLPK) or Esri Model Definition(EMD) file.</p></td>
</tr>
<tr class="row-odd"><td><p>data</p></td>
<td><p>Required fastai Databunch or None. Returned data
object from <code class="docutils literal notranslate"><span class="pre">prepare_data</span></code> function or None for
inferencing.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>Holistically-Nested Edge Detection</cite> Object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.HEDEdgeDetector.load">
<code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name_or_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.HEDEdgeDetector.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a compatible saved model for inferencing or fine tuning from the disk.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>name_or_path</p></td>
<td><p>Required string. Name or Path to
Deep Learning Package (DLPK) or
Esri Model Definition(EMD) file.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.HEDEdgeDetector.lr_find">
<code class="sig-name descname">lr_find</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">allow_plot</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.HEDEdgeDetector.lr_find" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the Learning Rate Finder, and displays the graph of its output.
Helps in choosing the optimum learning rate for training the model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.HEDEdgeDetector.plot_losses">
<code class="sig-name descname">plot_losses</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.HEDEdgeDetector.plot_losses" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot validation and training losses after fitting the model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.HEDEdgeDetector.save">
<code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name_or_path</span></em>, <em class="sig-param"><span class="n">framework</span><span class="o">=</span><span class="default_value">'PyTorch'</span></em>, <em class="sig-param"><span class="n">publish</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">compute_metrics</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">save_optimizer</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">save_inference_file</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.HEDEdgeDetector.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the model weights, creates an Esri Model Definition and Deep
Learning Package zip for deployment to Image Server or ArcGIS Pro.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>name_or_path</p></td>
<td><p>Required string. Name of the model to save. It
stores it at the pre-defined location. If path
is passed then it stores at the specified path
with model name as directory name and creates
all the intermediate directories.</p></td>
</tr>
<tr class="row-odd"><td><p>framework</p></td>
<td><p>Optional string. Defines the framework of the
model. (Only supported by <code class="docutils literal notranslate"><span class="pre">SingleShotDetector</span></code>, currently.)
If framework used is <code class="docutils literal notranslate"><span class="pre">TF-ONNX</span></code>, <code class="docutils literal notranslate"><span class="pre">batch_size</span></code> can be
passed as an optional keyword argument.</p>
<p>Framework choice: ‘PyTorch’ and ‘TF-ONNX’</p>
</td>
</tr>
<tr class="row-even"><td><p>publish</p></td>
<td><p>Optional boolean. Publishes the DLPK as an item.</p></td>
</tr>
<tr class="row-odd"><td><p>gis</p></td>
<td><p>Optional GIS Object. Used for publishing the item.
If not specified then active gis user is taken.</p></td>
</tr>
<tr class="row-even"><td><p>compute_metrics</p></td>
<td><p>Optional boolean. Used for computing model
metrics.</p></td>
</tr>
<tr class="row-odd"><td><p>save_optimizer</p></td>
<td><p>Optional boolean. Used for saving the model-optimizer
state along with the model. Default is set to False</p></td>
</tr>
<tr class="row-even"><td><p>save_inference_file</p></td>
<td><p>Optional boolean. Used for saving the inference file
along with the model.
If False, the model will not work with ArcGIS Pro 2.6
or earlier. Default is set to True.</p></td>
</tr>
<tr class="row-odd"><td><p>kwargs</p></td>
<td><p>Optional Parameters:
Boolean <cite>overwrite</cite> if True, it will overwrite
the item on ArcGIS Online/Enterprise, default False.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.HEDEdgeDetector.show_results">
<code class="sig-name descname">show_results</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rows</span><span class="o">=</span><span class="default_value">5</span></em>, <em class="sig-param"><span class="n">thresh</span><span class="o">=</span><span class="default_value">0.5</span></em>, <em class="sig-param"><span class="n">thinning</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.HEDEdgeDetector.show_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays the results of a trained model on a part of the validation set.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.HEDEdgeDetector.supported_backbones">
<em class="property">property </em><code class="sig-name descname">supported_backbones</code><a class="headerlink" href="#arcgis.learn.HEDEdgeDetector.supported_backbones" title="Permalink to this definition">¶</a></dt>
<dd><p>Supported torchvision backbones for this model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.HEDEdgeDetector.supported_datasets">
<em class="property">property </em><code class="sig-name descname">supported_datasets</code><a class="headerlink" href="#arcgis.learn.HEDEdgeDetector.supported_datasets" title="Permalink to this definition">¶</a></dt>
<dd><p>Supported dataset types for this model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.HEDEdgeDetector.unfreeze">
<code class="sig-name descname">unfreeze</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.HEDEdgeDetector.unfreeze" title="Permalink to this definition">¶</a></dt>
<dd><p>Unfreezes the earlier layers of the model for fine-tuning.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="multitaskroadextractor">
<h3>MultiTaskRoadExtractor<a class="headerlink" href="#multitaskroadextractor" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="arcgis.learn.MultiTaskRoadExtractor">
<em class="property">class </em><code class="sig-prename descclassname">arcgis.learn.</code><code class="sig-name descname">MultiTaskRoadExtractor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">backbone</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pretrained_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.MultiTaskRoadExtractor" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a Multi-Task Learning model for binary segmentation. Supports RGB
and Multispectral Imagery.
Implementation based on <a class="reference external" href="https://doi.org/10.1109/CVPR.2019.01063">https://doi.org/10.1109/CVPR.2019.01063</a> .</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 72%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>data</p></td>
<td><p>Required fastai Databunch. Returned data object from
<code class="docutils literal notranslate"><span class="pre">prepare_data</span></code> function.</p></td>
</tr>
<tr class="row-odd"><td><p>backbone</p></td>
<td><p>Optional String. Backbone CNN model to be used for
creating the base. If hourglass is chosen as
the mtl_model (Architecture),then this parameter is
ignored as hourglass uses a special customised
architecture.
This parameter is used with <cite>linknet</cite> model.
Default: ‘resnet34’</p>
<p>Supported backbones: ‘resnet18’, ‘resnet34’,
‘resnet50’, ‘resnet101’, ‘resnet152’</p>
</td>
</tr>
<tr class="row-even"><td><p>mtl_model</p></td>
<td><p>Optional String. It is used to create model
from linknet or hourglass based neural architectures.
Supported: ‘linknet’, ‘hourglass’.
Default: ‘hourglass’</p></td>
</tr>
<tr class="row-odd"><td><p>pretrained_path</p></td>
<td><p>Optional String. Path where a compatible pre-trained
model is saved. Accepts a Deep Learning Package
(DLPK) or Esri Model Definition(EMD) file.</p></td>
</tr>
</tbody>
</table>
<p><strong>kwargs</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 39%" />
<col style="width: 61%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>gaussian_thresh</p></td>
<td><p>Optional float. Sets the gaussian threshold
which allows to set the required road width.
Range: 0.0 to 1.0
Default:0.76</p></td>
</tr>
<tr class="row-odd"><td><p>orient_bin_size</p></td>
<td><p>Optional Int. Sets the bin size for
orientation angles.
Default:20</p></td>
</tr>
<tr class="row-even"><td><p>orient_theta</p></td>
<td><p>Optional Int. Sets the width of orientation
mask.
Default:8</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>MultiTaskRoadExtractor</cite> Object</p>
</dd>
</dl>
<dl class="py method">
<dt id="arcgis.learn.MultiTaskRoadExtractor.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">epochs</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">lr</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.MultiTaskRoadExtractor.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Train the model for the specified number of epochs and using the
specified learning rates</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 72%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>epochs</p></td>
<td><p>Required integer. Number of cycles of training
on the data. Increase it if underfitting.</p></td>
</tr>
<tr class="row-odd"><td><p>lr</p></td>
<td><p>Optional float or slice of floats. Learning rate
to be used for training the model. If <code class="docutils literal notranslate"><span class="pre">lr=None</span></code>,
an optimal learning rate is automatically deduced
for training the model.</p></td>
</tr>
<tr class="row-even"><td><p>one_cycle</p></td>
<td><p>Optional boolean. Parameter to select 1cycle
learning rate schedule. If set to <cite>False</cite> no
learning rate schedule is used.</p></td>
</tr>
<tr class="row-odd"><td><p>early_stopping</p></td>
<td><p>Optional boolean. Parameter to add early stopping.
If set to ‘True’ training will stop if validation
loss stops improving for 5 epochs.</p></td>
</tr>
<tr class="row-even"><td><p>checkpoint</p></td>
<td><p>Optional boolean. Parameter to save the best model
during training. If set to <cite>True</cite> the best model
based on validation loss will be saved during
training.</p></td>
</tr>
<tr class="row-odd"><td><p>tensorboard</p></td>
<td><p>Optional boolean. Parameter to write the training log.
If set to ‘True’ the log will be saved at
&lt;dataset-path&gt;/training_log which can be visualized in
tensorboard. Required tensorboardx version=2.1</p>
<p>The default value is ‘False’.
<a href="#id27"><span class="problematic" id="id28">**</span></a>Note - Not applicable for Text Models</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.MultiTaskRoadExtractor.from_model">
<em class="property">classmethod </em><code class="sig-name descname">from_model</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">emd_path</span></em>, <em class="sig-param"><span class="n">data</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.MultiTaskRoadExtractor.from_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a Multi-Task Learning model for binary segmentation from a
Deep Learning Package(DLPK) or Esri Model Definition (EMD) file.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>emd_path</p></td>
<td><p>Required string. Path to Deep Learning Package
(DLPK) or Esri Model Definition(EMD) file.</p></td>
</tr>
<tr class="row-odd"><td><p>data</p></td>
<td><p>Required fastai Databunch or None. Returned data
object from <cite>prepare_data</cite> function or None for
inferencing.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>Multi-Task Road Extractor</cite> Object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.MultiTaskRoadExtractor.load">
<code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name_or_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.MultiTaskRoadExtractor.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a compatible saved model for inferencing or fine tuning from the disk.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>name_or_path</p></td>
<td><p>Required string. Name or Path to
Deep Learning Package (DLPK) or
Esri Model Definition(EMD) file.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.MultiTaskRoadExtractor.lr_find">
<code class="sig-name descname">lr_find</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">allow_plot</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.MultiTaskRoadExtractor.lr_find" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the Learning Rate Finder, and displays the graph of its output.
Helps in choosing the optimum learning rate for training the model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.MultiTaskRoadExtractor.mIOU">
<code class="sig-name descname">mIOU</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mean</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">show_progress</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.MultiTaskRoadExtractor.mIOU" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes mean IOU on the validation set for each class.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>mean</p></td>
<td><p>Optional bool. If False returns class-wise
mean IOU, otherwise returns mean iou of all
classes combined.</p></td>
</tr>
<tr class="row-odd"><td><p>show_progress</p></td>
<td><p>Optional bool. Displays the prgress bar if
True.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>dict</cite> if mean is False otherwise <cite>float</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.MultiTaskRoadExtractor.plot_losses">
<code class="sig-name descname">plot_losses</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.MultiTaskRoadExtractor.plot_losses" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot validation and training losses after fitting the model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.MultiTaskRoadExtractor.save">
<code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name_or_path</span></em>, <em class="sig-param"><span class="n">framework</span><span class="o">=</span><span class="default_value">'PyTorch'</span></em>, <em class="sig-param"><span class="n">publish</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">compute_metrics</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">save_optimizer</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">save_inference_file</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.MultiTaskRoadExtractor.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the model weights, creates an Esri Model Definition and Deep
Learning Package zip for deployment to Image Server or ArcGIS Pro.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>name_or_path</p></td>
<td><p>Required string. Name of the model to save. It
stores it at the pre-defined location. If path
is passed then it stores at the specified path
with model name as directory name and creates
all the intermediate directories.</p></td>
</tr>
<tr class="row-odd"><td><p>framework</p></td>
<td><p>Optional string. Defines the framework of the
model. (Only supported by <code class="docutils literal notranslate"><span class="pre">SingleShotDetector</span></code>, currently.)
If framework used is <code class="docutils literal notranslate"><span class="pre">TF-ONNX</span></code>, <code class="docutils literal notranslate"><span class="pre">batch_size</span></code> can be
passed as an optional keyword argument.</p>
<p>Framework choice: ‘PyTorch’ and ‘TF-ONNX’</p>
</td>
</tr>
<tr class="row-even"><td><p>publish</p></td>
<td><p>Optional boolean. Publishes the DLPK as an item.</p></td>
</tr>
<tr class="row-odd"><td><p>gis</p></td>
<td><p>Optional GIS Object. Used for publishing the item.
If not specified then active gis user is taken.</p></td>
</tr>
<tr class="row-even"><td><p>compute_metrics</p></td>
<td><p>Optional boolean. Used for computing model
metrics.</p></td>
</tr>
<tr class="row-odd"><td><p>save_optimizer</p></td>
<td><p>Optional boolean. Used for saving the model-optimizer
state along with the model. Default is set to False</p></td>
</tr>
<tr class="row-even"><td><p>save_inference_file</p></td>
<td><p>Optional boolean. Used for saving the inference file
along with the model.
If False, the model will not work with ArcGIS Pro 2.6
or earlier. Default is set to True.</p></td>
</tr>
<tr class="row-odd"><td><p>kwargs</p></td>
<td><p>Optional Parameters:
Boolean <cite>overwrite</cite> if True, it will overwrite
the item on ArcGIS Online/Enterprise, default False.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.MultiTaskRoadExtractor.show_results">
<code class="sig-name descname">show_results</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rows</span><span class="o">=</span><span class="default_value">2</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.MultiTaskRoadExtractor.show_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Shows the ground truth and predictions of model side by side.</p>
<p><strong>kwargs</strong></p>
<p>=====================   ===========================================def
<strong>Argument</strong>            <strong>Description</strong>
———————   ——————————————-
rows                    Number of rows of data to be displayed, if</p>
<blockquote>
<div><p>batch size is smaller, then the rows will
display the value provided for batch size.</p>
</div></blockquote>
<p>———————   ——————————————-
alpha                   Optional Float. Opacity parameter for label</p>
<blockquote>
<div><p>overlay on image. Float [0.0 - 1.0]
Default: 0.6</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.MultiTaskRoadExtractor.supported_backbones">
<em class="property">property </em><code class="sig-name descname">supported_backbones</code><a class="headerlink" href="#arcgis.learn.MultiTaskRoadExtractor.supported_backbones" title="Permalink to this definition">¶</a></dt>
<dd><p>Supported torchvision backbones for this model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.MultiTaskRoadExtractor.supported_datasets">
<em class="property">property </em><code class="sig-name descname">supported_datasets</code><a class="headerlink" href="#arcgis.learn.MultiTaskRoadExtractor.supported_datasets" title="Permalink to this definition">¶</a></dt>
<dd><p>Supported dataset types for this model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.MultiTaskRoadExtractor.unfreeze">
<code class="sig-name descname">unfreeze</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.MultiTaskRoadExtractor.unfreeze" title="Permalink to this definition">¶</a></dt>
<dd><p>Unfreezes the earlier layers of the model for fine-tuning.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="changedetector">
<h3>ChangeDetector<a class="headerlink" href="#changedetector" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="arcgis.learn.ChangeDetector">
<em class="property">class </em><code class="sig-prename descclassname">arcgis.learn.</code><code class="sig-name descname">ChangeDetector</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">backbone</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">attention_type</span><span class="o">=</span><span class="default_value">'PAM'</span></em>, <em class="sig-param"><span class="n">pretrained_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.ChangeDetector" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a Change Detection model.</p>
<p>A Spatial-Temporal Attention-Based Method and a New Dataset
for Remote Sensing Image Change Detection - 
<a class="reference external" href="https://www.mdpi.com/2072-4292/12/10/1662">https://www.mdpi.com/2072-4292/12/10/1662</a></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>data</p></td>
<td><p>Required fastai Databunch. Returned data object
from <cite>prepare_data</cite> function.</p></td>
</tr>
<tr class="row-odd"><td><p>backbone</p></td>
<td><p>Optional function. Backbone CNN model to be used
for creating the encoder of the <cite>ChangeDetector</cite>,
which is <cite>resnet18</cite> by default. It supports
the ResNet family of backbones.</p></td>
</tr>
<tr class="row-even"><td><p>attention_type</p></td>
<td><p>Optional string. It’s value can be either be “PAM”
(Pyramid Attention Module) or “BAM”
(Basic Attention Module).
Defaults to “PAM”.</p></td>
</tr>
<tr class="row-odd"><td><p>pretrained_path</p></td>
<td><p>Optional string. Path where pre-trained model is
saved.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">ChangeDetector</span></code> object</p>
</dd>
</dl>
<dl class="py method">
<dt id="arcgis.learn.ChangeDetector.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">epochs</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">lr</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">one_cycle</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">early_stopping</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">checkpoint</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">tensorboard</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.ChangeDetector.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Train the model for the specified number of epochs and using the
specified learning rates</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 72%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>epochs</p></td>
<td><p>Required integer. Number of cycles of training
on the data. Increase it if underfitting.</p></td>
</tr>
<tr class="row-odd"><td><p>lr</p></td>
<td><p>Optional float or slice of floats. Learning rate
to be used for training the model. If <code class="docutils literal notranslate"><span class="pre">lr=None</span></code>,
an optimal learning rate is automatically deduced
for training the model.</p></td>
</tr>
<tr class="row-even"><td><p>one_cycle</p></td>
<td><p>Optional boolean. Parameter to select 1cycle
learning rate schedule. If set to <cite>False</cite> no
learning rate schedule is used.</p></td>
</tr>
<tr class="row-odd"><td><p>early_stopping</p></td>
<td><p>Optional boolean. Parameter to add early stopping.
If set to ‘True’ training will stop if validation
loss stops improving for 5 epochs.</p></td>
</tr>
<tr class="row-even"><td><p>checkpoint</p></td>
<td><p>Optional boolean. Parameter to save the best model
during training. If set to <cite>True</cite> the best model
based on validation loss will be saved during
training.</p></td>
</tr>
<tr class="row-odd"><td><p>tensorboard</p></td>
<td><p>Optional boolean. Parameter to write the training log.
If set to ‘True’ the log will be saved at
&lt;dataset-path&gt;/training_log which can be visualized in
tensorboard. Required tensorboardx version=2.1</p>
<p>The default value is ‘False’.
<a href="#id29"><span class="problematic" id="id30">**</span></a>Note - Not applicable for Text Models</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.ChangeDetector.from_model">
<em class="property">classmethod </em><code class="sig-name descname">from_model</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">emd_path</span></em>, <em class="sig-param"><span class="n">data</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.ChangeDetector.from_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a ChangeDetector model from an Esri Model Definition (EMD)
file.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 31%" />
<col style="width: 69%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>emd_path</p></td>
<td><p>Required string. Path to Deep Learning Package
(DLPK) or Esri Model Definition(EMD) file.</p></td>
</tr>
<tr class="row-odd"><td><p>data</p></td>
<td><p>Optional fastai Databunch. Returned
data object from <cite>prepare_data</cite> function or
None for inferencing.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">ChangeDetector</span></code> Object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.ChangeDetector.load">
<code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name_or_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.ChangeDetector.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a compatible saved model for inferencing or fine tuning from the disk.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>name_or_path</p></td>
<td><p>Required string. Name or Path to
Deep Learning Package (DLPK) or
Esri Model Definition(EMD) file.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.ChangeDetector.lr_find">
<code class="sig-name descname">lr_find</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">allow_plot</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.ChangeDetector.lr_find" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the Learning Rate Finder, and displays the graph of its output.
Helps in choosing the optimum learning rate for training the model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.ChangeDetector.plot_losses">
<code class="sig-name descname">plot_losses</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.ChangeDetector.plot_losses" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot validation and training losses after fitting the model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.ChangeDetector.precision_recall_score">
<code class="sig-name descname">precision_recall_score</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.ChangeDetector.precision_recall_score" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes precision, recall and f1 score.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.ChangeDetector.predict">
<code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">before_image</span></em>, <em class="sig-param"><span class="n">after_image</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.ChangeDetector.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Predict on a pair of images.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>before_image</p></td>
<td><p>Required string. Path to image from before.</p></td>
</tr>
<tr class="row-odd"><td><p>after_image</p></td>
<td><p>Required string. Path to image from later.</p></td>
</tr>
</tbody>
</table>
<p><strong>Kwargs</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>crop_predict</p></td>
<td><p>Optional Boolean. If True, It will predict
using a sliding window strategy. Typically, used
when image size is larger than the <cite>chip_size</cite>
the model is trained on. Default False.</p></td>
</tr>
<tr class="row-odd"><td><p>visualize</p></td>
<td><p>Optional Boolean. If True, It will plot
the predictions on the notebook. Default False.</p></td>
</tr>
<tr class="row-even"><td><p>save</p></td>
<td><p>Optional Boolean. If true will write the
prediction file on the disk. Default False.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>PyTorch Tensor of the change mask.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.ChangeDetector.save">
<code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name_or_path</span></em>, <em class="sig-param"><span class="n">framework</span><span class="o">=</span><span class="default_value">'PyTorch'</span></em>, <em class="sig-param"><span class="n">publish</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">compute_metrics</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">save_optimizer</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">save_inference_file</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.ChangeDetector.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the model weights, creates an Esri Model Definition and Deep
Learning Package zip for deployment to Image Server or ArcGIS Pro.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>name_or_path</p></td>
<td><p>Required string. Name of the model to save. It
stores it at the pre-defined location. If path
is passed then it stores at the specified path
with model name as directory name and creates
all the intermediate directories.</p></td>
</tr>
<tr class="row-odd"><td><p>framework</p></td>
<td><p>Optional string. Defines the framework of the
model. (Only supported by <code class="docutils literal notranslate"><span class="pre">SingleShotDetector</span></code>, currently.)
If framework used is <code class="docutils literal notranslate"><span class="pre">TF-ONNX</span></code>, <code class="docutils literal notranslate"><span class="pre">batch_size</span></code> can be
passed as an optional keyword argument.</p>
<p>Framework choice: ‘PyTorch’ and ‘TF-ONNX’</p>
</td>
</tr>
<tr class="row-even"><td><p>publish</p></td>
<td><p>Optional boolean. Publishes the DLPK as an item.</p></td>
</tr>
<tr class="row-odd"><td><p>gis</p></td>
<td><p>Optional GIS Object. Used for publishing the item.
If not specified then active gis user is taken.</p></td>
</tr>
<tr class="row-even"><td><p>compute_metrics</p></td>
<td><p>Optional boolean. Used for computing model
metrics.</p></td>
</tr>
<tr class="row-odd"><td><p>save_optimizer</p></td>
<td><p>Optional boolean. Used for saving the model-optimizer
state along with the model. Default is set to False</p></td>
</tr>
<tr class="row-even"><td><p>save_inference_file</p></td>
<td><p>Optional boolean. Used for saving the inference file
along with the model.
If False, the model will not work with ArcGIS Pro 2.6
or earlier. Default is set to True.</p></td>
</tr>
<tr class="row-odd"><td><p>kwargs</p></td>
<td><p>Optional Parameters:
Boolean <cite>overwrite</cite> if True, it will overwrite
the item on ArcGIS Online/Enterprise, default False.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.ChangeDetector.show_results">
<code class="sig-name descname">show_results</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rows</span><span class="o">=</span><span class="default_value">4</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.ChangeDetector.show_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays the results of a trained model on the validation set.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.ChangeDetector.supported_backbones">
<em class="property">property </em><code class="sig-name descname">supported_backbones</code><a class="headerlink" href="#arcgis.learn.ChangeDetector.supported_backbones" title="Permalink to this definition">¶</a></dt>
<dd><p>Supported torchvision backbones for this model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.ChangeDetector.supported_datasets">
<em class="property">property </em><code class="sig-name descname">supported_datasets</code><a class="headerlink" href="#arcgis.learn.ChangeDetector.supported_datasets" title="Permalink to this definition">¶</a></dt>
<dd><p>Supported dataset types for this model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.ChangeDetector.unfreeze">
<code class="sig-name descname">unfreeze</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.ChangeDetector.unfreeze" title="Permalink to this definition">¶</a></dt>
<dd><p>Unfreezes the earlier layers of the model for fine-tuning.</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="image-translation-models">
<h2>Image Translation Models<a class="headerlink" href="#image-translation-models" title="Permalink to this headline">¶</a></h2>
<div class="section" id="cyclegan">
<h3>CycleGAN<a class="headerlink" href="#cyclegan" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="arcgis.learn.CycleGAN">
<em class="property">class </em><code class="sig-prename descclassname">arcgis.learn.</code><code class="sig-name descname">CycleGAN</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">pretrained_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">gen_blocks</span><span class="o">=</span><span class="default_value">9</span></em>, <em class="sig-param"><span class="n">lsgan</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.CycleGAN" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a model object which generates images of type A from type B or type B from type A.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 27%" />
<col style="width: 73%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>data</p></td>
<td><p>Required fastai Databunch. Returned data object from
<cite>prepare_data</cite> function.</p></td>
</tr>
<tr class="row-odd"><td><p>pretrained_path</p></td>
<td><p>Optional string. Path where pre-trained model is
saved.</p></td>
</tr>
<tr class="row-even"><td><p>gen_blocks</p></td>
<td><p>Optional integer. Number of ResNet blocks to use
in generator.</p></td>
</tr>
<tr class="row-odd"><td><p>lsgan</p></td>
<td><p>Optional boolean. If True, it will use Mean Squared Error
else it will use Binary Cross Entropy.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>CycleGAN</cite> Object</p>
</dd>
</dl>
<dl class="py method">
<dt id="arcgis.learn.CycleGAN.compute_metrics">
<code class="sig-name descname">compute_metrics</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.CycleGAN.compute_metrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes Frechet Inception Distance (FID) on validation set.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.CycleGAN.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">epochs</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">lr</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">one_cycle</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">early_stopping</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">checkpoint</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">tensorboard</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.CycleGAN.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Train the model for the specified number of epochs and using the
specified learning rates</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 72%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>epochs</p></td>
<td><p>Required integer. Number of cycles of training
on the data. Increase it if underfitting.</p></td>
</tr>
<tr class="row-odd"><td><p>lr</p></td>
<td><p>Optional float or slice of floats. Learning rate
to be used for training the model. If <code class="docutils literal notranslate"><span class="pre">lr=None</span></code>,
an optimal learning rate is automatically deduced
for training the model.</p></td>
</tr>
<tr class="row-even"><td><p>one_cycle</p></td>
<td><p>Optional boolean. Parameter to select 1cycle
learning rate schedule. If set to <cite>False</cite> no
learning rate schedule is used.</p></td>
</tr>
<tr class="row-odd"><td><p>early_stopping</p></td>
<td><p>Optional boolean. Parameter to add early stopping.
If set to ‘True’ training will stop if validation
loss stops improving for 5 epochs.</p></td>
</tr>
<tr class="row-even"><td><p>checkpoint</p></td>
<td><p>Optional boolean. Parameter to save the best model
during training. If set to <cite>True</cite> the best model
based on validation loss will be saved during
training.</p></td>
</tr>
<tr class="row-odd"><td><p>tensorboard</p></td>
<td><p>Optional boolean. Parameter to write the training log.
If set to ‘True’ the log will be saved at
&lt;dataset-path&gt;/training_log which can be visualized in
tensorboard. Required tensorboardx version=2.1</p>
<p>The default value is ‘False’.
<a href="#id31"><span class="problematic" id="id32">**</span></a>Note - Not applicable for Text Models</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.CycleGAN.from_model">
<em class="property">classmethod </em><code class="sig-name descname">from_model</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">emd_path</span></em>, <em class="sig-param"><span class="n">data</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.CycleGAN.from_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a CycleGAN object from an Esri Model Definition (EMD) file.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>data</p></td>
<td><p>Required fastai Databunch or None. Returned data
object from <cite>prepare_data</cite> function or None for
inferencing.</p></td>
</tr>
<tr class="row-odd"><td><p>emd_path</p></td>
<td><p>Required string. Path to Deep Learning Package
(DLPK) or Esri Model Definition(EMD) file.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>CycleGAN</cite> Object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.CycleGAN.load">
<code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name_or_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.CycleGAN.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a compatible saved model for inferencing or fine tuning from the disk.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>name_or_path</p></td>
<td><p>Required string. Name or Path to
Deep Learning Package (DLPK) or
Esri Model Definition(EMD) file.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.CycleGAN.lr_find">
<code class="sig-name descname">lr_find</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">allow_plot</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.CycleGAN.lr_find" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the Learning Rate Finder, and displays the graph of its output.
Helps in choosing the optimum learning rate for training the model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.CycleGAN.plot_losses">
<code class="sig-name descname">plot_losses</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.CycleGAN.plot_losses" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot validation and training losses after fitting the model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.CycleGAN.predict">
<code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">img_path</span></em>, <em class="sig-param"><span class="n">convert_to</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.CycleGAN.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Predicts and display the image.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 32%" />
<col style="width: 68%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>img_path</p></td>
<td><p>Required path of an image.</p></td>
</tr>
<tr class="row-odd"><td><p>convert_to</p></td>
<td><p>‘A’ if we want to generate image of type ‘A’
from type ‘B’ or ‘B’ if we want to generate
image of type ‘B’ from type ‘A’ where A and
B are the domain specifications that were
used while training.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.CycleGAN.save">
<code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name_or_path</span></em>, <em class="sig-param"><span class="n">framework</span><span class="o">=</span><span class="default_value">'PyTorch'</span></em>, <em class="sig-param"><span class="n">publish</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">compute_metrics</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">save_optimizer</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">save_inference_file</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.CycleGAN.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the model weights, creates an Esri Model Definition and Deep
Learning Package zip for deployment to Image Server or ArcGIS Pro.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>name_or_path</p></td>
<td><p>Required string. Name of the model to save. It
stores it at the pre-defined location. If path
is passed then it stores at the specified path
with model name as directory name and creates
all the intermediate directories.</p></td>
</tr>
<tr class="row-odd"><td><p>framework</p></td>
<td><p>Optional string. Defines the framework of the
model. (Only supported by <code class="docutils literal notranslate"><span class="pre">SingleShotDetector</span></code>, currently.)
If framework used is <code class="docutils literal notranslate"><span class="pre">TF-ONNX</span></code>, <code class="docutils literal notranslate"><span class="pre">batch_size</span></code> can be
passed as an optional keyword argument.</p>
<p>Framework choice: ‘PyTorch’ and ‘TF-ONNX’</p>
</td>
</tr>
<tr class="row-even"><td><p>publish</p></td>
<td><p>Optional boolean. Publishes the DLPK as an item.</p></td>
</tr>
<tr class="row-odd"><td><p>gis</p></td>
<td><p>Optional GIS Object. Used for publishing the item.
If not specified then active gis user is taken.</p></td>
</tr>
<tr class="row-even"><td><p>compute_metrics</p></td>
<td><p>Optional boolean. Used for computing model
metrics.</p></td>
</tr>
<tr class="row-odd"><td><p>save_optimizer</p></td>
<td><p>Optional boolean. Used for saving the model-optimizer
state along with the model. Default is set to False</p></td>
</tr>
<tr class="row-even"><td><p>save_inference_file</p></td>
<td><p>Optional boolean. Used for saving the inference file
along with the model.
If False, the model will not work with ArcGIS Pro 2.6
or earlier. Default is set to True.</p></td>
</tr>
<tr class="row-odd"><td><p>kwargs</p></td>
<td><p>Optional Parameters:
Boolean <cite>overwrite</cite> if True, it will overwrite
the item on ArcGIS Online/Enterprise, default False.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.CycleGAN.show_results">
<code class="sig-name descname">show_results</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rows</span><span class="o">=</span><span class="default_value">5</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.CycleGAN.show_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays the results of a trained model on a part of the validation set.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.CycleGAN.unfreeze">
<code class="sig-name descname">unfreeze</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.CycleGAN.unfreeze" title="Permalink to this definition">¶</a></dt>
<dd><p>Unfreezes the earlier layers of the model for fine-tuning.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="pix2pix">
<h3>Pix2Pix<a class="headerlink" href="#pix2pix" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="arcgis.learn.Pix2Pix">
<em class="property">class </em><code class="sig-prename descclassname">arcgis.learn.</code><code class="sig-name descname">Pix2Pix</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">pretrained_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.Pix2Pix" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a model object which generates fake images of type B from type A.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 29%" />
<col style="width: 71%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>data</p></td>
<td><p>Required fastai Databunch. Returned data object from
<cite>prepare_data</cite> function.</p></td>
</tr>
<tr class="row-odd"><td><p>pretrained_path</p></td>
<td><p>Optional string. Path where pre-trained model is
saved.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>Pix2Pix</cite> Object</p>
</dd>
</dl>
<dl class="py method">
<dt id="arcgis.learn.Pix2Pix.compute_metrics">
<code class="sig-name descname">compute_metrics</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">accuracy</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">show_progress</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.Pix2Pix.compute_metrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes Peak Signal-to-Noise Ratio (PSNR) and 
Structural Similarity Index Measure (SSIM) on validation set.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.Pix2Pix.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">epochs</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">lr</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">one_cycle</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">early_stopping</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">checkpoint</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">tensorboard</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.Pix2Pix.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Train the model for the specified number of epochs and using the
specified learning rates</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 72%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>epochs</p></td>
<td><p>Required integer. Number of cycles of training
on the data. Increase it if underfitting.</p></td>
</tr>
<tr class="row-odd"><td><p>lr</p></td>
<td><p>Optional float or slice of floats. Learning rate
to be used for training the model. If <code class="docutils literal notranslate"><span class="pre">lr=None</span></code>,
an optimal learning rate is automatically deduced
for training the model.</p></td>
</tr>
<tr class="row-even"><td><p>one_cycle</p></td>
<td><p>Optional boolean. Parameter to select 1cycle
learning rate schedule. If set to <cite>False</cite> no
learning rate schedule is used.</p></td>
</tr>
<tr class="row-odd"><td><p>early_stopping</p></td>
<td><p>Optional boolean. Parameter to add early stopping.
If set to ‘True’ training will stop if validation
loss stops improving for 5 epochs.</p></td>
</tr>
<tr class="row-even"><td><p>checkpoint</p></td>
<td><p>Optional boolean. Parameter to save the best model
during training. If set to <cite>True</cite> the best model
based on validation loss will be saved during
training.</p></td>
</tr>
<tr class="row-odd"><td><p>tensorboard</p></td>
<td><p>Optional boolean. Parameter to write the training log.
If set to ‘True’ the log will be saved at
&lt;dataset-path&gt;/training_log which can be visualized in
tensorboard. Required tensorboardx version=2.1</p>
<p>The default value is ‘False’.
<a href="#id33"><span class="problematic" id="id34">**</span></a>Note - Not applicable for Text Models</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.Pix2Pix.from_model">
<em class="property">classmethod </em><code class="sig-name descname">from_model</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">emd_path</span></em>, <em class="sig-param"><span class="n">data</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.Pix2Pix.from_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a Pix2Pix object from an Esri Model Definition (EMD) file.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>emd_path</p></td>
<td><p>Required string. Path to Deep Learning Package
(DLPK) or Esri Model Definition(EMD) file.</p></td>
</tr>
<tr class="row-odd"><td><p>data</p></td>
<td><p>Required fastai Databunch or None. Returned data
object from <cite>prepare_data</cite> function or None for
inferencing.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>Pix2Pix</cite> Object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.Pix2Pix.load">
<code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name_or_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.Pix2Pix.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a compatible saved model for inferencing or fine tuning from the disk.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>name_or_path</p></td>
<td><p>Required string. Name or Path to
Deep Learning Package (DLPK) or
Esri Model Definition(EMD) file.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.Pix2Pix.lr_find">
<code class="sig-name descname">lr_find</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">allow_plot</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.Pix2Pix.lr_find" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the Learning Rate Finder, and displays the graph of its output.
Helps in choosing the optimum learning rate for training the model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.Pix2Pix.plot_losses">
<code class="sig-name descname">plot_losses</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.Pix2Pix.plot_losses" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot validation and training losses after fitting the model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.Pix2Pix.predict">
<code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">img_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.Pix2Pix.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Predicts and display the image.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>img_path</p></td>
<td><p>Required path of an image.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.Pix2Pix.save">
<code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name_or_path</span></em>, <em class="sig-param"><span class="n">framework</span><span class="o">=</span><span class="default_value">'PyTorch'</span></em>, <em class="sig-param"><span class="n">publish</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">compute_metrics</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">save_optimizer</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">save_inference_file</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.Pix2Pix.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the model weights, creates an Esri Model Definition and Deep
Learning Package zip for deployment to Image Server or ArcGIS Pro.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>name_or_path</p></td>
<td><p>Required string. Name of the model to save. It
stores it at the pre-defined location. If path
is passed then it stores at the specified path
with model name as directory name and creates
all the intermediate directories.</p></td>
</tr>
<tr class="row-odd"><td><p>framework</p></td>
<td><p>Optional string. Defines the framework of the
model. (Only supported by <code class="docutils literal notranslate"><span class="pre">SingleShotDetector</span></code>, currently.)
If framework used is <code class="docutils literal notranslate"><span class="pre">TF-ONNX</span></code>, <code class="docutils literal notranslate"><span class="pre">batch_size</span></code> can be
passed as an optional keyword argument.</p>
<p>Framework choice: ‘PyTorch’ and ‘TF-ONNX’</p>
</td>
</tr>
<tr class="row-even"><td><p>publish</p></td>
<td><p>Optional boolean. Publishes the DLPK as an item.</p></td>
</tr>
<tr class="row-odd"><td><p>gis</p></td>
<td><p>Optional GIS Object. Used for publishing the item.
If not specified then active gis user is taken.</p></td>
</tr>
<tr class="row-even"><td><p>compute_metrics</p></td>
<td><p>Optional boolean. Used for computing model
metrics.</p></td>
</tr>
<tr class="row-odd"><td><p>save_optimizer</p></td>
<td><p>Optional boolean. Used for saving the model-optimizer
state along with the model. Default is set to False</p></td>
</tr>
<tr class="row-even"><td><p>save_inference_file</p></td>
<td><p>Optional boolean. Used for saving the inference file
along with the model.
If False, the model will not work with ArcGIS Pro 2.6
or earlier. Default is set to True.</p></td>
</tr>
<tr class="row-odd"><td><p>kwargs</p></td>
<td><p>Optional Parameters:
Boolean <cite>overwrite</cite> if True, it will overwrite
the item on ArcGIS Online/Enterprise, default False.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.Pix2Pix.show_results">
<code class="sig-name descname">show_results</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rows</span><span class="o">=</span><span class="default_value">5</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.Pix2Pix.show_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays the results of a trained model on a part of the validation set.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.Pix2Pix.unfreeze">
<code class="sig-name descname">unfreeze</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.Pix2Pix.unfreeze" title="Permalink to this definition">¶</a></dt>
<dd><p>Unfreezes the earlier layers of the model for fine-tuning.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="superresolution">
<h3>SuperResolution<a class="headerlink" href="#superresolution" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="arcgis.learn.SuperResolution">
<em class="property">class </em><code class="sig-prename descclassname">arcgis.learn.</code><code class="sig-name descname">SuperResolution</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">backbone</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pretrained_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.SuperResolution" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a model object which increases the resolution and improves the quality of images.
Based on Fast.ai MOOC Lesson 7.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>data</p></td>
<td><p>Required fastai Databunch. Returned data object from
<cite>prepare_data</cite> function.</p></td>
</tr>
<tr class="row-odd"><td><p>backbone</p></td>
<td><p>Optional function. Backbone CNN model to be used for
creating the base of the <cite>UnetClassifier</cite>, which
is <cite>resnet34</cite> by default.
Compatible backbones: ‘resnet18’, ‘resnet34’, ‘resnet50’, ‘resnet101’, ‘resnet152’</p></td>
</tr>
<tr class="row-even"><td><p>pretrained_path</p></td>
<td><p>Optional string. Path where pre-trained model is
saved.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>SuperResolution</cite> Object</p>
</dd>
</dl>
<dl class="py method">
<dt id="arcgis.learn.SuperResolution.compute_metrics">
<code class="sig-name descname">compute_metrics</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">accuracy</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">show_progress</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.SuperResolution.compute_metrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes Peak Signal-to-Noise Ratio (PSNR) and 
Structural Similarity Index Measure (SSIM) on validation set.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.SuperResolution.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">epochs</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">lr</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">one_cycle</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">early_stopping</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">checkpoint</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">tensorboard</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.SuperResolution.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Train the model for the specified number of epochs and using the
specified learning rates</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 72%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>epochs</p></td>
<td><p>Required integer. Number of cycles of training
on the data. Increase it if underfitting.</p></td>
</tr>
<tr class="row-odd"><td><p>lr</p></td>
<td><p>Optional float or slice of floats. Learning rate
to be used for training the model. If <code class="docutils literal notranslate"><span class="pre">lr=None</span></code>,
an optimal learning rate is automatically deduced
for training the model.</p></td>
</tr>
<tr class="row-even"><td><p>one_cycle</p></td>
<td><p>Optional boolean. Parameter to select 1cycle
learning rate schedule. If set to <cite>False</cite> no
learning rate schedule is used.</p></td>
</tr>
<tr class="row-odd"><td><p>early_stopping</p></td>
<td><p>Optional boolean. Parameter to add early stopping.
If set to ‘True’ training will stop if validation
loss stops improving for 5 epochs.</p></td>
</tr>
<tr class="row-even"><td><p>checkpoint</p></td>
<td><p>Optional boolean. Parameter to save the best model
during training. If set to <cite>True</cite> the best model
based on validation loss will be saved during
training.</p></td>
</tr>
<tr class="row-odd"><td><p>tensorboard</p></td>
<td><p>Optional boolean. Parameter to write the training log.
If set to ‘True’ the log will be saved at
&lt;dataset-path&gt;/training_log which can be visualized in
tensorboard. Required tensorboardx version=2.1</p>
<p>The default value is ‘False’.
<a href="#id35"><span class="problematic" id="id36">**</span></a>Note - Not applicable for Text Models</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.SuperResolution.from_emd">
<em class="property">classmethod </em><code class="sig-name descname">from_emd</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">emd_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.SuperResolution.from_emd" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a SuperResolution object from an Esri Model Definition (EMD) file.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>data</p></td>
<td><p>Required fastai Databunch or None. Returned data
object from <cite>prepare_data</cite> function or None for
inferencing.</p></td>
</tr>
<tr class="row-odd"><td><p>emd_path</p></td>
<td><p>Required string. Path to Esri Model Definition
file.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>SuperResolution</cite> Object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.SuperResolution.from_model">
<em class="property">classmethod </em><code class="sig-name descname">from_model</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">emd_path</span></em>, <em class="sig-param"><span class="n">data</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.SuperResolution.from_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a SuperResolution object from an Esri Model Definition (EMD) file.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>emd_path</p></td>
<td><p>Required string. Path to Deep Learning Package
(DLPK) or Esri Model Definition(EMD) file.</p></td>
</tr>
<tr class="row-odd"><td><p>data</p></td>
<td><p>Required fastai Databunch or None. Returned data
object from <cite>prepare_data</cite> function or None for
inferencing.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>SuperResolution</cite> Object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.SuperResolution.load">
<code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name_or_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.SuperResolution.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a compatible saved model for inferencing or fine tuning from the disk.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>name_or_path</p></td>
<td><p>Required string. Name or Path to
Deep Learning Package (DLPK) or
Esri Model Definition(EMD) file.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.SuperResolution.lr_find">
<code class="sig-name descname">lr_find</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">allow_plot</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.SuperResolution.lr_find" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the Learning Rate Finder, and displays the graph of its output.
Helps in choosing the optimum learning rate for training the model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.SuperResolution.plot_losses">
<code class="sig-name descname">plot_losses</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.SuperResolution.plot_losses" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot validation and training losses after fitting the model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.SuperResolution.predict">
<code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">img_path</span></em>, <em class="sig-param"><span class="n">width</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">height</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.SuperResolution.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Predicts and display the image.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>img_path</p></td>
<td><p>Required path of an image.</p></td>
</tr>
<tr class="row-odd"><td><p>width</p></td>
<td><p>Optional int. Width of the predicted
output image.</p></td>
</tr>
<tr class="row-even"><td><p>height</p></td>
<td><p>Optional int. Height of the predicted
output image.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.SuperResolution.save">
<code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name_or_path</span></em>, <em class="sig-param"><span class="n">framework</span><span class="o">=</span><span class="default_value">'PyTorch'</span></em>, <em class="sig-param"><span class="n">publish</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">compute_metrics</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">save_optimizer</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">save_inference_file</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.SuperResolution.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the model weights, creates an Esri Model Definition and Deep
Learning Package zip for deployment to Image Server or ArcGIS Pro.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>name_or_path</p></td>
<td><p>Required string. Name of the model to save. It
stores it at the pre-defined location. If path
is passed then it stores at the specified path
with model name as directory name and creates
all the intermediate directories.</p></td>
</tr>
<tr class="row-odd"><td><p>framework</p></td>
<td><p>Optional string. Defines the framework of the
model. (Only supported by <code class="docutils literal notranslate"><span class="pre">SingleShotDetector</span></code>, currently.)
If framework used is <code class="docutils literal notranslate"><span class="pre">TF-ONNX</span></code>, <code class="docutils literal notranslate"><span class="pre">batch_size</span></code> can be
passed as an optional keyword argument.</p>
<p>Framework choice: ‘PyTorch’ and ‘TF-ONNX’</p>
</td>
</tr>
<tr class="row-even"><td><p>publish</p></td>
<td><p>Optional boolean. Publishes the DLPK as an item.</p></td>
</tr>
<tr class="row-odd"><td><p>gis</p></td>
<td><p>Optional GIS Object. Used for publishing the item.
If not specified then active gis user is taken.</p></td>
</tr>
<tr class="row-even"><td><p>compute_metrics</p></td>
<td><p>Optional boolean. Used for computing model
metrics.</p></td>
</tr>
<tr class="row-odd"><td><p>save_optimizer</p></td>
<td><p>Optional boolean. Used for saving the model-optimizer
state along with the model. Default is set to False</p></td>
</tr>
<tr class="row-even"><td><p>save_inference_file</p></td>
<td><p>Optional boolean. Used for saving the inference file
along with the model.
If False, the model will not work with ArcGIS Pro 2.6
or earlier. Default is set to True.</p></td>
</tr>
<tr class="row-odd"><td><p>kwargs</p></td>
<td><p>Optional Parameters:
Boolean <cite>overwrite</cite> if True, it will overwrite
the item on ArcGIS Online/Enterprise, default False.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.SuperResolution.show_results">
<code class="sig-name descname">show_results</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rows</span><span class="o">=</span><span class="default_value">5</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.SuperResolution.show_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays the results of a trained model on a part of the validation set.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>rows</p></td>
<td><p>Optional int. Number of rows of results
to be displayed.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.SuperResolution.supported_backbones">
<em class="property">property </em><code class="sig-name descname">supported_backbones</code><a class="headerlink" href="#arcgis.learn.SuperResolution.supported_backbones" title="Permalink to this definition">¶</a></dt>
<dd><p>Supported torchvision backbones for this model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.SuperResolution.supported_datasets">
<em class="property">property </em><code class="sig-name descname">supported_datasets</code><a class="headerlink" href="#arcgis.learn.SuperResolution.supported_datasets" title="Permalink to this definition">¶</a></dt>
<dd><p>Supported dataset types for this model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.SuperResolution.unfreeze">
<code class="sig-name descname">unfreeze</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.SuperResolution.unfreeze" title="Permalink to this definition">¶</a></dt>
<dd><p>Unfreezes the earlier layers of the model for fine-tuning.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="imagecaptioner">
<h3>ImageCaptioner<a class="headerlink" href="#imagecaptioner" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="arcgis.learn.ImageCaptioner">
<em class="property">class </em><code class="sig-prename descclassname">arcgis.learn.</code><code class="sig-name descname">ImageCaptioner</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">backbone</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pretrained_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.ImageCaptioner" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an Image Captioning model.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>data</p></td>
<td><p>Required fastai Databunch. Returned data object
from <cite>prepare_data</cite> function.</p></td>
</tr>
<tr class="row-odd"><td><p>backbone</p></td>
<td><p>Optional function. Backbone CNN model to be used
for creating the encoder of the <cite>ImageCaptioner</cite>,
which is <cite>resnet34</cite> by default. It supports
the ResNet family of backbones.</p></td>
</tr>
<tr class="row-even"><td><p>pretrained_path</p></td>
<td><p>Optional string. Path where pre-trained model is
saved.</p></td>
</tr>
</tbody>
</table>
<p><strong>kwargs</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 76%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>decoder_params</p></td>
<td><p>Optional dictionary. The keys of the dictionary are
<cite>embed_size</cite>, <cite>hidden_size</cite>, <cite>attention_size</cite>,
<cite>teacher_forcing</cite>, <cite>dropout</cite> and
<cite>pretrained_embeddings</cite>.</p>
<blockquote>
<div><dl>
<dt>Default values:</dt><dd><dl>
<dt>decoder_params={</dt><dd><blockquote>
<div><p>‘embed_size’:100,
‘hidden_size’:100,
‘attention_size’:100,
‘teacher_forcing’:1,
‘dropout’:0.1,
‘pretrained_emb’:False</p>
</div></blockquote>
<p>}</p>
</dd>
</dl>
</dd>
<dt>Parameter Explanation</dt><dd><ul class="simple">
<li><p>‘embed_size’: Size of embedding to be used during training.</p></li>
<li><p>‘hidden_size’: Size of hidden layer.</p></li>
<li><p>‘attention_size’: Size of intermediate attention layer.</p></li>
<li><p>‘teacher_forcing’: Probability of teacher forcing.</p></li>
<li><p>‘dropout’: Dropout probability.</p></li>
<li><p>‘pretrained_emb’: If true, it will use fasttext embeddings.</p></li>
</ul>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>ImageCaptioner</cite> Object</p>
</dd>
</dl>
<dl class="py method">
<dt id="arcgis.learn.ImageCaptioner.bleu_score">
<code class="sig-name descname">bleu_score</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.ImageCaptioner.bleu_score" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes bleu score over validation set.</p>
<p><strong>kwargs</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>beam_width</p></td>
<td><p>Optional int. The size of beam to be used
during beam search decoding. Default is 5.</p></td>
</tr>
<tr class="row-odd"><td><p>max_len</p></td>
<td><p>Optional int. The maximum length of the
sentence to be decoded. Default is 20.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.ImageCaptioner.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">epochs</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">lr</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">one_cycle</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">early_stopping</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">checkpoint</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">tensorboard</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.ImageCaptioner.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Train the model for the specified number of epochs and using the
specified learning rates</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 72%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>epochs</p></td>
<td><p>Required integer. Number of cycles of training
on the data. Increase it if underfitting.</p></td>
</tr>
<tr class="row-odd"><td><p>lr</p></td>
<td><p>Optional float or slice of floats. Learning rate
to be used for training the model. If <code class="docutils literal notranslate"><span class="pre">lr=None</span></code>,
an optimal learning rate is automatically deduced
for training the model.</p></td>
</tr>
<tr class="row-even"><td><p>one_cycle</p></td>
<td><p>Optional boolean. Parameter to select 1cycle
learning rate schedule. If set to <cite>False</cite> no
learning rate schedule is used.</p></td>
</tr>
<tr class="row-odd"><td><p>early_stopping</p></td>
<td><p>Optional boolean. Parameter to add early stopping.
If set to ‘True’ training will stop if validation
loss stops improving for 5 epochs.</p></td>
</tr>
<tr class="row-even"><td><p>checkpoint</p></td>
<td><p>Optional boolean. Parameter to save the best model
during training. If set to <cite>True</cite> the best model
based on validation loss will be saved during
training.</p></td>
</tr>
<tr class="row-odd"><td><p>tensorboard</p></td>
<td><p>Optional boolean. Parameter to write the training log.
If set to ‘True’ the log will be saved at
&lt;dataset-path&gt;/training_log which can be visualized in
tensorboard. Required tensorboardx version=2.1</p>
<p>The default value is ‘False’.
<a href="#id37"><span class="problematic" id="id38">**</span></a>Note - Not applicable for Text Models</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.ImageCaptioner.from_model">
<em class="property">classmethod </em><code class="sig-name descname">from_model</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">emd_path</span></em>, <em class="sig-param"><span class="n">data</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.ImageCaptioner.from_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a ImageCaptioner model from an Esri Model Definition (EMD)
file.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 31%" />
<col style="width: 69%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>emd_path</p></td>
<td><p>Required string. Path to Deep Learning Package
(DLPK) or Esri Model Definition(EMD) file.</p></td>
</tr>
<tr class="row-odd"><td><p>data</p></td>
<td><p>Optional fastai Databunch. Returned
data object from <cite>prepare_data</cite> function or
None for inferencing.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>ImageCaptioner</cite> Object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.ImageCaptioner.load">
<code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name_or_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.ImageCaptioner.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a compatible saved model for inferencing or fine tuning from the disk.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>name_or_path</p></td>
<td><p>Required string. Name or Path to
Deep Learning Package (DLPK) or
Esri Model Definition(EMD) file.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.ImageCaptioner.lr_find">
<code class="sig-name descname">lr_find</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">allow_plot</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.ImageCaptioner.lr_find" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the Learning Rate Finder, and displays the graph of its output.
Helps in choosing the optimum learning rate for training the model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.ImageCaptioner.plot_losses">
<code class="sig-name descname">plot_losses</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.ImageCaptioner.plot_losses" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot validation and training losses after fitting the model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.ImageCaptioner.predict">
<code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">visualize</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.ImageCaptioner.predict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="arcgis.learn.ImageCaptioner.save">
<code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name_or_path</span></em>, <em class="sig-param"><span class="n">framework</span><span class="o">=</span><span class="default_value">'PyTorch'</span></em>, <em class="sig-param"><span class="n">publish</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">compute_metrics</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">save_optimizer</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">save_inference_file</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.ImageCaptioner.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the model weights, creates an Esri Model Definition and Deep
Learning Package zip for deployment to Image Server or ArcGIS Pro.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>name_or_path</p></td>
<td><p>Required string. Name of the model to save. It
stores it at the pre-defined location. If path
is passed then it stores at the specified path
with model name as directory name and creates
all the intermediate directories.</p></td>
</tr>
<tr class="row-odd"><td><p>framework</p></td>
<td><p>Optional string. Defines the framework of the
model. (Only supported by <code class="docutils literal notranslate"><span class="pre">SingleShotDetector</span></code>, currently.)
If framework used is <code class="docutils literal notranslate"><span class="pre">TF-ONNX</span></code>, <code class="docutils literal notranslate"><span class="pre">batch_size</span></code> can be
passed as an optional keyword argument.</p>
<p>Framework choice: ‘PyTorch’ and ‘TF-ONNX’</p>
</td>
</tr>
<tr class="row-even"><td><p>publish</p></td>
<td><p>Optional boolean. Publishes the DLPK as an item.</p></td>
</tr>
<tr class="row-odd"><td><p>gis</p></td>
<td><p>Optional GIS Object. Used for publishing the item.
If not specified then active gis user is taken.</p></td>
</tr>
<tr class="row-even"><td><p>compute_metrics</p></td>
<td><p>Optional boolean. Used for computing model
metrics.</p></td>
</tr>
<tr class="row-odd"><td><p>save_optimizer</p></td>
<td><p>Optional boolean. Used for saving the model-optimizer
state along with the model. Default is set to False</p></td>
</tr>
<tr class="row-even"><td><p>save_inference_file</p></td>
<td><p>Optional boolean. Used for saving the inference file
along with the model.
If False, the model will not work with ArcGIS Pro 2.6
or earlier. Default is set to True.</p></td>
</tr>
<tr class="row-odd"><td><p>kwargs</p></td>
<td><p>Optional Parameters:
Boolean <cite>overwrite</cite> if True, it will overwrite
the item on ArcGIS Online/Enterprise, default False.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.ImageCaptioner.show_results">
<code class="sig-name descname">show_results</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rows</span><span class="o">=</span><span class="default_value">4</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.ImageCaptioner.show_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Shows the ground truth and predictions of model side by side.</p>
<p><strong>kwargs</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>beam_width</p></td>
<td><p>Optional int. The size of beam to be used
during beam search decoding. Default is 5.</p></td>
</tr>
<tr class="row-odd"><td><p>max_len</p></td>
<td><p>Optional int. The maximum length of the
sentence to be decoded. Default is 20.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.ImageCaptioner.supported_backbones">
<em class="property">property </em><code class="sig-name descname">supported_backbones</code><a class="headerlink" href="#arcgis.learn.ImageCaptioner.supported_backbones" title="Permalink to this definition">¶</a></dt>
<dd><p>Supported torchvision backbones for this model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.ImageCaptioner.supported_datasets">
<em class="property">property </em><code class="sig-name descname">supported_datasets</code><a class="headerlink" href="#arcgis.learn.ImageCaptioner.supported_datasets" title="Permalink to this definition">¶</a></dt>
<dd><p>Supported dataset types for this model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.ImageCaptioner.unfreeze">
<code class="sig-name descname">unfreeze</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.ImageCaptioner.unfreeze" title="Permalink to this definition">¶</a></dt>
<dd><p>Unfreezes the earlier layers of the model for fine-tuning.</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="d-models">
<h2>3D Models<a class="headerlink" href="#d-models" title="Permalink to this headline">¶</a></h2>
<div class="section" id="pointcnn">
<h3>PointCNN<a class="headerlink" href="#pointcnn" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="arcgis.learn.PointCNN">
<em class="property">class </em><code class="sig-prename descclassname">arcgis.learn.</code><code class="sig-name descname">PointCNN</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">pretrained_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.PointCNN" title="Permalink to this definition">¶</a></dt>
<dd><p>Model architecture from <a class="reference external" href="https://arxiv.org/abs/1801.07791">https://arxiv.org/abs/1801.07791</a>.
Creates a Point Cloud classification model.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 29%" />
<col style="width: 71%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>data</p></td>
<td><p>Required fastai Databunch. Returned data object from
<cite>prepare_data</cite> function.</p></td>
</tr>
<tr class="row-odd"><td><p>pretrained_path</p></td>
<td><p>Optional String. Path where pre-trained model
is saved.</p></td>
</tr>
</tbody>
</table>
<p><strong>kwargs</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 22%" />
<col style="width: 78%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>encoder_params</p></td>
<td><p>Optional dictionary. The keys of the dictionary are
<cite>out_channels</cite>, <cite>P</cite>, <cite>K</cite>, <cite>D</cite> and <cite>m</cite>.</p>
<blockquote>
<div><dl class="simple">
<dt>Examples:</dt><dd><p>{‘out_channels’:[16, 32, 64, 96],
‘P’:[-1, 768, 384, 128],
‘K’:[12, 16, 16, 16],
‘D’:[1, 1, 2, 2],
‘m’:8
}</p>
</dd>
</dl>
</div></blockquote>
<p>Length of <cite>out_channels</cite>, <cite>P</cite>, <cite>K</cite>, <cite>D</cite> should be same.
The length denotes the number of layers in encoder.</p>
<blockquote>
<div><dl class="simple">
<dt>Parameter Explanation</dt><dd><ul class="simple">
<li><p>‘out_channels’: Number of channels produced by each layer,</p></li>
<li><p>‘P’: Number of points in each layer,</p></li>
<li><p>‘K’: Number of K-nearest neighbor in each layer,</p></li>
<li><p>‘D’: Dilation in each layer,</p></li>
<li><p>‘m’: Multiplier which is multiplied by each element of out_channel.</p></li>
</ul>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
<tr class="row-odd"><td><p>dropout</p></td>
<td><p>Optional float. This parameter will control overfitting.
The range of this parameter is [0,1).</p></td>
</tr>
<tr class="row-even"><td><p>sample_point_num</p></td>
<td><p>Optional integer. The number of points that the model
will actually process.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>PointCNN</cite> Object</p>
</dd>
</dl>
<dl class="py method">
<dt id="arcgis.learn.PointCNN.compute_precision_recall">
<code class="sig-name descname">compute_precision_recall</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.PointCNN.compute_precision_recall" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes precision, recall and f1-score on the validation sets.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.PointCNN.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">epochs</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">lr</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">one_cycle</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">early_stopping</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">checkpoint</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">tensorboard</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.PointCNN.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Train the model for the specified number of epochs and using the
specified learning rates</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 72%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>epochs</p></td>
<td><p>Required integer. Number of cycles of training
on the data. Increase it if underfitting.</p></td>
</tr>
<tr class="row-odd"><td><p>lr</p></td>
<td><p>Optional float. Learning rate to be used
for training the model. If <code class="docutils literal notranslate"><span class="pre">lr=None</span></code>, an
optimal learning rate is automatically deduced
for training the model.</p></td>
</tr>
<tr class="row-even"><td><p>one_cycle</p></td>
<td><p>Optional boolean. Parameter to select 1cycle
learning rate schedule. If set to <cite>False</cite> no
learning rate schedule is used.</p></td>
</tr>
<tr class="row-odd"><td><p>early_stopping</p></td>
<td><p>Optional boolean. Parameter to add early stopping.
If set to ‘True’ training will stop if validation
loss stops improving for 5 epochs.</p></td>
</tr>
<tr class="row-even"><td><p>checkpoint</p></td>
<td><p>Optional boolean. Parameter to save the best model
during training. If set to <cite>True</cite> the best model
based on validation loss will be saved during
training.</p></td>
</tr>
<tr class="row-odd"><td><p>tensorboard</p></td>
<td><p>Optional boolean. Parameter to write the training log.
If set to ‘True’ the log will be saved at
&lt;dataset-path&gt;/training_log which can be visualized in
tensorboard. Required tensorboardx version=2.1</p>
<p>The default value is ‘False’.
<a href="#id39"><span class="problematic" id="id40">**</span></a>Note - Not applicable for Text Models</p>
</td>
</tr>
</tbody>
</table>
<p><strong>kwargs</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>iters_per_epoch</p></td>
<td><p>Optional integer. The number of iterations
to run during the training phase.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.PointCNN.from_model">
<em class="property">classmethod </em><code class="sig-name descname">from_model</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">emd_path</span></em>, <em class="sig-param"><span class="n">data</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.PointCNN.from_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an PointCNN model object from a Deep Learning Package(DLPK)
or Esri Model Definition (EMD) file.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>emd_path</p></td>
<td><p>Required string. Path to Deep Learning Package
(DLPK) or Esri Model Definition(EMD) file.</p></td>
</tr>
<tr class="row-odd"><td><p>data</p></td>
<td><p>Required fastai Databunch or None. Returned data
object from <cite>prepare_data</cite> function or None for
inferencing.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>PointCNN</cite> Object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.PointCNN.load">
<code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name_or_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.PointCNN.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a compatible saved model for inferencing or fine tuning from the disk.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>name_or_path</p></td>
<td><p>Required string. Name or Path to
Deep Learning Package (DLPK) or
Esri Model Definition(EMD) file.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.PointCNN.lr_find">
<code class="sig-name descname">lr_find</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">allow_plot</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.PointCNN.lr_find" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the Learning Rate Finder, and displays the graph of its output.
Helps in choosing the optimum learning rate for training the model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.PointCNN.plot_losses">
<code class="sig-name descname">plot_losses</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.PointCNN.plot_losses" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot validation and training losses after fitting the model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.PointCNN.predict_h5">
<code class="sig-name descname">predict_h5</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">output_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.PointCNN.predict_h5" title="Permalink to this definition">¶</a></dt>
<dd><p>Predicts and writes the resulting las file on the disk. 
The block size which was used for training will be used for prediction.
Coordinate system for the inferencing data &amp; trained model’s training
data should be the same.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 29%" />
<col style="width: 71%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>path</p></td>
<td><p>Required string. The path to folder where the h5
files which needs to be predicted are present.</p></td>
</tr>
<tr class="row-odd"><td><p>output_path</p></td>
<td><p>Optional string. The path to folder where to dump
the resulting h5 block files. Defaults to <cite>results</cite>
folder in input path.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Path where files are dumped.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.PointCNN.predict_las">
<code class="sig-name descname">predict_las</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">output_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">print_metrics</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.PointCNN.predict_las" title="Permalink to this definition">¶</a></dt>
<dd><p>Predicts and writes the resulting las file on the disk.
The block size which was used for training will be used for prediction.
Coordinate system for the inferencing data &amp; trained model’s training
data should be the same.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 72%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>path</p></td>
<td><p>Required string. The path to folder where the las
files which needs to be predicted are present.</p></td>
</tr>
<tr class="row-odd"><td><p>output_path</p></td>
<td><p>Optional string. The path to folder where to dump
the resulting las files. Defaults to <cite>results</cite> folder
in input path.</p></td>
</tr>
<tr class="row-even"><td><p>print_metrics</p></td>
<td><p>Optional boolean. If True, precision, recall and
f1_score are also calculated and reported.
Defaults to False.</p></td>
</tr>
</tbody>
</table>
<p><strong>kwargs</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>remap_classes</p></td>
<td><p>Optional dictionary {int:int}. Mapping from
class values to user defined values. Please query
<cite>pointcnn._data.classes</cite> to get the class values
on which the model is trained on.
Default is {}.</p></td>
</tr>
<tr class="row-odd"><td><p>selective_classify</p></td>
<td><p>Optional list of integers. If passed, predict_las
will selectively classify only those points
belonging to the specified class-codes. Other
points in the input point clouds will retain
their class-codes.
Please query <cite>pointcnn._data.classes</cite> to get
the class values on which the model is trained
on. If <cite>remap_classes</cite> is specified, the new
mapped values will be used for classification.
Default value is [].</p></td>
</tr>
<tr class="row-even"><td><p>preserve_classes</p></td>
<td><p>Optional list of integers. A list of classes
from the input data, that should be preserved
in the predicted output.
If a point in the input data belongs to any
of the classes mentioned in this list, its
class-code won’t be updated with the model’s
predicted class.
Example: If preserve_classes=[2,6]. The
class-code of a point won’t be updated with
the predicted class, if it’s 2 or 6.
Default: [].</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Path where files are dumped.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.PointCNN.save">
<code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name_or_path</span></em>, <em class="sig-param"><span class="n">framework</span><span class="o">=</span><span class="default_value">'PyTorch'</span></em>, <em class="sig-param"><span class="n">publish</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">compute_metrics</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">save_optimizer</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">save_inference_file</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.PointCNN.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the model weights, creates an Esri Model Definition and Deep
Learning Package zip for deployment to Image Server or ArcGIS Pro.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>name_or_path</p></td>
<td><p>Required string. Name of the model to save. It
stores it at the pre-defined location. If path
is passed then it stores at the specified path
with model name as directory name and creates
all the intermediate directories.</p></td>
</tr>
<tr class="row-odd"><td><p>framework</p></td>
<td><p>Optional string. Defines the framework of the
model. (Only supported by <code class="docutils literal notranslate"><span class="pre">SingleShotDetector</span></code>, currently.)
If framework used is <code class="docutils literal notranslate"><span class="pre">TF-ONNX</span></code>, <code class="docutils literal notranslate"><span class="pre">batch_size</span></code> can be
passed as an optional keyword argument.</p>
<p>Framework choice: ‘PyTorch’ and ‘TF-ONNX’</p>
</td>
</tr>
<tr class="row-even"><td><p>publish</p></td>
<td><p>Optional boolean. Publishes the DLPK as an item.</p></td>
</tr>
<tr class="row-odd"><td><p>gis</p></td>
<td><p>Optional GIS Object. Used for publishing the item.
If not specified then active gis user is taken.</p></td>
</tr>
<tr class="row-even"><td><p>compute_metrics</p></td>
<td><p>Optional boolean. Used for computing model
metrics.</p></td>
</tr>
<tr class="row-odd"><td><p>save_optimizer</p></td>
<td><p>Optional boolean. Used for saving the model-optimizer
state along with the model. Default is set to False</p></td>
</tr>
<tr class="row-even"><td><p>save_inference_file</p></td>
<td><p>Optional boolean. Used for saving the inference file
along with the model.
If False, the model will not work with ArcGIS Pro 2.6
or earlier. Default is set to True.</p></td>
</tr>
<tr class="row-odd"><td><p>kwargs</p></td>
<td><p>Optional Parameters:
Boolean <cite>overwrite</cite> if True, it will overwrite
the item on ArcGIS Online/Enterprise, default False.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.PointCNN.show_results">
<code class="sig-name descname">show_results</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rows</span><span class="o">=</span><span class="default_value">2</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.PointCNN.show_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays the results from your model on the validation set
with ground truth on the left and predictions on the right.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>rows</p></td>
<td><p>Optional rows. Number of rows to show. Default
value is 2 and maximum value is the <cite>batch_size</cite>
passed in <cite>prepare_data</cite>.</p></td>
</tr>
</tbody>
</table>
<p><strong>kwargs</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>color_mapping</p></td>
<td><p>Optional dictionary. Mapping from class value
to RGB values. Default value example:
{0:[220,220,220], 2:[255,0,0], 6:[0,255,0]}.</p></td>
</tr>
<tr class="row-odd"><td><p>mask_class</p></td>
<td><p>Optional list of integers. Array containing
class values to mask. Use this parameter to
display the classes of interest.
Default value is [].
Example: All the classes are in [0, 1, 2]
to display only class <cite>0</cite> set the mask class
parameter to be [1, 2]. List of all classes
can be accessed from <cite>data.classes</cite> attribute
where <cite>data</cite> is the <cite>Databunch</cite> object returned
by <cite>prepare_data</cite> function.</p></td>
</tr>
<tr class="row-even"><td><p>width</p></td>
<td><p>Optional integer. Width of the plot. Default
value is 750.</p></td>
</tr>
<tr class="row-odd"><td><p>height</p></td>
<td><p>Optional integer. Height of the plot. Default
value is 512.</p></td>
</tr>
<tr class="row-even"><td><p>max_display_point</p></td>
<td><p>Optional integer. Maximum number of points
to display. Default is 20000. A warning will
be raised if the total points to display exceeds
this parameter. Setting this parameter will
randomly sample the specified number of points
and once set, it will be used for future uses.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.PointCNN.unfreeze">
<code class="sig-name descname">unfreeze</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.PointCNN.unfreeze" title="Permalink to this definition">¶</a></dt>
<dd><p>Unfreezes the earlier layers of the model for
fine-tuning. Not implemented for PointCNN as
none of the layers are frozen by default.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="transform3d">
<h3>Transform3d<a class="headerlink" href="#transform3d" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="arcgis.learn.Transform3d">
<em class="property">class </em><code class="sig-prename descclassname">arcgis.learn.</code><code class="sig-name descname">Transform3d</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rotation_range</span><span class="o">=</span><span class="default_value">[0.04363323129985824, 3.141592653589793, 0.04363323129985824, 'u']</span></em>, <em class="sig-param"><span class="n">scaling_range</span><span class="o">=</span><span class="default_value">[0.05, 0.05, 0.05, 'g']</span></em>, <em class="sig-param"><span class="n">jitter</span><span class="o">=</span><span class="default_value">0.0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.Transform3d" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a 3D transformation that can be used in <cite>prepare_data</cite> 
to apply data augmentation to blocks, with a 50 % probability.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 72%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>rotation_range</p></td>
<td><p>Optional tuple of length 4. It contains a list
of angles(in radians) for X, Z and Y coordinates
respectively. These angles will rotate the point
cloud block according to the randomly selected angle.
The fourth value in the tuple is the sampling method
where ‘u’ means uniform and ‘g’ means gaussian.
Intrinsic rotation will take place.
Default: [math.pi / 72, math.pi, math.pi / 72, ‘u’].</p></td>
</tr>
<tr class="row-odd"><td><p>scaling_range</p></td>
<td><p>Optional tuple of length 4. It contains a list
of scaling ranges[0-1] which will scale the points.
Please keep it a very small number otherwise,
point cloud block may get distorted. The fourth
value in the tuple is the sampling method
where ‘u’ means uniform and ‘g’ means gaussian.
Default: [0.05, 0.05, 0.05, ‘g’].</p></td>
</tr>
<tr class="row-even"><td><p>jitter</p></td>
<td><p>Optional float. The scale to which randomly
jitter the points in the point cloud block.
Default: 0.0.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>Transform3d</cite> object</p>
</dd>
</dl>
</dd></dl>

</div>
</div>
<div class="section" id="scanned-maps">
<h2>Scanned Maps<a class="headerlink" href="#scanned-maps" title="Permalink to this headline">¶</a></h2>
<div class="section" id="scannedmapdigitizer">
<h3>ScannedMapDigitizer<a class="headerlink" href="#scannedmapdigitizer" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="arcgis.learn.ScannedMapDigitizer">
<em class="property">class </em><code class="sig-prename descclassname">arcgis.learn.</code><code class="sig-name descname">ScannedMapDigitizer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_folder</span></em>, <em class="sig-param"><span class="n">output_folder</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.ScannedMapDigitizer" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the object for ScannedMapDigitizer class</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 32%" />
<col style="width: 68%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>input_folder</p></td>
<td><p>Path to the folder that contains extracted
maps</p></td>
</tr>
<tr class="row-odd"><td><p>output_folder</p></td>
<td><p>Path to the folder where intermediate
results should get generated</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt id="arcgis.learn.ScannedMapDigitizer.create_mask">
<em class="property">classmethod </em><code class="sig-name descname">create_mask</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">color_list</span></em>, <em class="sig-param"><span class="n">color_delta</span><span class="o">=</span><span class="default_value">60</span></em>, <em class="sig-param"><span class="n">kernel_size</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">kernel_type</span><span class="o">=</span><span class="default_value">'rect'</span></em>, <em class="sig-param"><span class="n">show_result</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.ScannedMapDigitizer.create_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates the binary masked images</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>color_list</p></td>
<td><p>A list containing different color inputs
(r, g, b).</p></td>
</tr>
<tr class="row-odd"><td><p>color_delta</p></td>
<td><p>A value which defines the range around the
threshold value for a specific color used
for creating the mask images.
Default value is 60</p></td>
</tr>
<tr class="row-even"><td><p>kernel_size</p></td>
<td><p>A list of 2 integers corresponding to size
of the morphological filter operations
closing and opening respectively.</p></td>
</tr>
<tr class="row-odd"><td><p>kernel_type</p></td>
<td><p>A string value defining the type/shape of
the kernel. kernel type can be “rect”,
“elliptical” or “cross”.
Default value is “rect”.</p></td>
</tr>
<tr class="row-even"><td><p>show_result</p></td>
<td><p>A boolean value. Set to “True” to visualize
results and set to “False” otherwise</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.ScannedMapDigitizer.create_template_image">
<em class="property">classmethod </em><code class="sig-name descname">create_template_image</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">color</span></em>, <em class="sig-param"><span class="n">color_delta</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">kernel_size</span><span class="o">=</span><span class="default_value">2</span></em>, <em class="sig-param"><span class="n">show_result</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.ScannedMapDigitizer.create_template_image" title="Permalink to this definition">¶</a></dt>
<dd><p>This method generates templates and color masks from scanned maps which
are used in the subsequent step of template matching.</p>
<blockquote>
<div><table class="docutils align-default">
<colgroup>
<col style="width: 31%" />
<col style="width: 69%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>color</p></td>
<td><p>r, g, b value representing land color.
The color parameter is required for extracting
the land region and generating the binary mask</p></td>
</tr>
<tr class="row-odd"><td><p>color_delta</p></td>
<td><p>A value which defines the range around the
threshold value for a specific color used for
creating the mask images.</p>
<blockquote>
<div><p>Default value is 60</p>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td><p>kernel_size</p></td>
<td><p>A list of 2 integers corresponding to size of
the morphological filter operations closing
and opening respectively.</p></td>
</tr>
<tr class="row-odd"><td><p>show_result</p></td>
<td><p>A Boolean value. Set to “True” to visualize
results and set to “False” otherwise</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.ScannedMapDigitizer.digitize_image">
<em class="property">classmethod </em><code class="sig-name descname">digitize_image</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">show_result</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.ScannedMapDigitizer.digitize_image" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is the final step in the pipeline that maps the
species regions on the search image using the computed
transformations.
Also, it generates the shapefiles for the species region that can be
visualized using ArcGIS Pro and further edited.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 32%" />
<col style="width: 68%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>show_result</p></td>
<td><p>A Boolean value. Set to “True” to visualize
results and set to “False” otherwise</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.ScannedMapDigitizer.georeference_image">
<em class="property">classmethod </em><code class="sig-name descname">georeference_image</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">padding_param</span></em>, <em class="sig-param"><span class="n">show_result</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.ScannedMapDigitizer.georeference_image" title="Permalink to this definition">¶</a></dt>
<dd><p>This method estimates the control point pairs by traversing the
contours of template image and finding the corresponding matches
on the search region ROI image</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 34%" />
<col style="width: 66%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>padding_param</p></td>
<td><p>A tuple that contains x-padding
and y-padding at 0th and 1st index
respectively</p></td>
</tr>
<tr class="row-odd"><td><p>show_result</p></td>
<td><p>A Boolean value. Set to “True” to
visualize results and set to “False”
otherwise</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.ScannedMapDigitizer.get_search_region_extent">
<em class="property">classmethod </em><code class="sig-name descname">get_search_region_extent</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.ScannedMapDigitizer.get_search_region_extent" title="Permalink to this definition">¶</a></dt>
<dd><p>Getter function for search region extent</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.ScannedMapDigitizer.match_template_multiscale">
<em class="property">classmethod </em><code class="sig-name descname">match_template_multiscale</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">min_scale</span></em>, <em class="sig-param"><span class="n">max_scale</span></em>, <em class="sig-param"><span class="n">num_scales</span></em>, <em class="sig-param"><span class="n">show_result</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.ScannedMapDigitizer.match_template_multiscale" title="Permalink to this definition">¶</a></dt>
<dd><p>This method finds the location of the best match of a smaller image
(template) in a larger image(search image) assuming it exists in the
larger image.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 32%" />
<col style="width: 68%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>min_scale</p></td>
<td><p>An integer representing the minimum scale
at which template matching is performed</p></td>
</tr>
<tr class="row-odd"><td><p>max_scale</p></td>
<td><p>An integer representing maximum scale at
which template matching is performed</p></td>
</tr>
<tr class="row-even"><td><p>num_scales</p></td>
<td><p>An integer representing the number
of scales at which template matching is
performed.</p></td>
</tr>
<tr class="row-odd"><td><p>show_result</p></td>
<td><p>A Boolean value. Set to “True” to visualize
results and set to “False” otherwise</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.ScannedMapDigitizer.prepare_search_region">
<em class="property">classmethod </em><code class="sig-name descname">prepare_search_region</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">search_image</span></em>, <em class="sig-param"><span class="n">color</span></em>, <em class="sig-param"><span class="n">extent</span></em>, <em class="sig-param"><span class="n">image_height</span></em>, <em class="sig-param"><span class="n">image_width</span></em>, <em class="sig-param"><span class="n">show_result</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.ScannedMapDigitizer.prepare_search_region" title="Permalink to this definition">¶</a></dt>
<dd><p>This method prepares the search region in which the prepared templates are
to be searched.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>color</p></td>
<td><p>r, g, b value representing water color</p></td>
</tr>
<tr class="row-odd"><td><p>search_image</p></td>
<td><p>Path to the bigger image/shapefile.</p></td>
</tr>
<tr class="row-even"><td><p>extent</p></td>
<td><p>Extent defines the extreme longitude/latitude
of the search region.</p></td>
</tr>
<tr class="row-odd"><td><p>image_height</p></td>
<td><p>Height of the search region.</p></td>
</tr>
<tr class="row-even"><td><p>image_width</p></td>
<td><p>Width of the search region.</p></td>
</tr>
<tr class="row-odd"><td><p>show_result</p></td>
<td><p>A boolean value. Set to “True” to visualize
results and set to “False” otherwise</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.ScannedMapDigitizer.set_search_region_extent">
<em class="property">classmethod </em><code class="sig-name descname">set_search_region_extent</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">extent</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.ScannedMapDigitizer.set_search_region_extent" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the object for ScannedMapDigitizer class</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 32%" />
<col style="width: 68%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>extent</p></td>
<td><p>Extent defines the extreme longitude/latitude
of the search region.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="tabular-and-feature-data-models">
<h2>Tabular and Feature Data Models<a class="headerlink" href="#tabular-and-feature-data-models" title="Permalink to this headline">¶</a></h2>
<div class="section" id="fullyconnectednetwork">
<h3>FullyConnectedNetwork<a class="headerlink" href="#fullyconnectednetwork" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="arcgis.learn.FullyConnectedNetwork">
<em class="property">class </em><code class="sig-prename descclassname">arcgis.learn.</code><code class="sig-name descname">FullyConnectedNetwork</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">layers</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">emb_szs</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.FullyConnectedNetwork" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a FullyConnectedNetwork Object.
Based on the Fast.ai’s Tabular Learner</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>data</p></td>
<td><p>Required TabularDataObject. Returned data object from
<cite>prepare_tabulardata</cite> function.</p></td>
</tr>
<tr class="row-odd"><td><p>layers</p></td>
<td><p>Optional list, specifying the number of nodes in each layer.
Default: [500, 100] is used.
2 layers each with nodes 500 and 100 respectively.</p></td>
</tr>
<tr class="row-even"><td><p>emb_szs</p></td>
<td><p>Optional dict, variable name with embedding size
for categorical variables.
If not specified, then calculated using fastai.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>FullyConnectedNetwork</cite> Object</p>
</dd>
</dl>
<dl class="py method">
<dt id="arcgis.learn.FullyConnectedNetwork.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">epochs</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">lr</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">one_cycle</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">early_stopping</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">checkpoint</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">tensorboard</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.FullyConnectedNetwork.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Train the model for the specified number of epochs and using the
specified learning rates</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 72%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>epochs</p></td>
<td><p>Required integer. Number of cycles of training
on the data. Increase it if underfitting.</p></td>
</tr>
<tr class="row-odd"><td><p>lr</p></td>
<td><p>Optional float or slice of floats. Learning rate
to be used for training the model. If <code class="docutils literal notranslate"><span class="pre">lr=None</span></code>,
an optimal learning rate is automatically deduced
for training the model.</p></td>
</tr>
<tr class="row-even"><td><p>one_cycle</p></td>
<td><p>Optional boolean. Parameter to select 1cycle
learning rate schedule. If set to <cite>False</cite> no
learning rate schedule is used.</p></td>
</tr>
<tr class="row-odd"><td><p>early_stopping</p></td>
<td><p>Optional boolean. Parameter to add early stopping.
If set to ‘True’ training will stop if validation
loss stops improving for 5 epochs.</p></td>
</tr>
<tr class="row-even"><td><p>checkpoint</p></td>
<td><p>Optional boolean. Parameter to save the best model
during training. If set to <cite>True</cite> the best model
based on validation loss will be saved during
training.</p></td>
</tr>
<tr class="row-odd"><td><p>tensorboard</p></td>
<td><p>Optional boolean. Parameter to write the training log.
If set to ‘True’ the log will be saved at
&lt;dataset-path&gt;/training_log which can be visualized in
tensorboard. Required tensorboardx version=2.1</p>
<p>The default value is ‘False’.
<a href="#id41"><span class="problematic" id="id42">**</span></a>Note - Not applicable for Text Models</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.FullyConnectedNetwork.from_model">
<em class="property">classmethod </em><code class="sig-name descname">from_model</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">emd_path</span></em>, <em class="sig-param"><span class="n">data</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.FullyConnectedNetwork.from_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a FullyConnectedNetwork Object from an Esri Model Definition (EMD) file.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 72%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>emd_path</p></td>
<td><p>Required string. Path to Deep Learning Package
(DLPK) or Esri Model Definition(EMD) file.</p></td>
</tr>
<tr class="row-odd"><td><p>data</p></td>
<td><p>Required fastai Databunch or None. Returned data
object from <cite>prepare_tabulardata</cite> function or None for
inferencing.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>FullyConnectedNetwork</cite> Object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.FullyConnectedNetwork.load">
<code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name_or_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.FullyConnectedNetwork.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a compatible saved model for inferencing or fine tuning from the disk.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>name_or_path</p></td>
<td><p>Required string. Name or Path to
Deep Learning Package (DLPK) or
Esri Model Definition(EMD) file.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.FullyConnectedNetwork.lr_find">
<code class="sig-name descname">lr_find</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">allow_plot</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.FullyConnectedNetwork.lr_find" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the Learning Rate Finder, and displays the graph of its output.
Helps in choosing the optimum learning rate for training the model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.FullyConnectedNetwork.plot_losses">
<code class="sig-name descname">plot_losses</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.FullyConnectedNetwork.plot_losses" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot validation and training losses after fitting the model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.FullyConnectedNetwork.predict">
<code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_features</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">explanatory_rasters</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">datefield</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">distance_features</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">output_layer_name</span><span class="o">=</span><span class="default_value">'Prediction Layer'</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">prediction_type</span><span class="o">=</span><span class="default_value">'features'</span></em>, <em class="sig-param"><span class="n">output_raster_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">match_field_names</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.FullyConnectedNetwork.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Predict on data from feature layer, dataframe and or raster data.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 31%" />
<col style="width: 69%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>input_features</p></td>
<td><p>Optional Feature Layer or spatially enabled dataframe.
Required if prediction_type=’features’.
Contains features with location and
some or all fields required to infer the dependent variable value.</p></td>
</tr>
<tr class="row-odd"><td><p>explanatory_rasters</p></td>
<td><p>Optional list of Raster Objects.
If prediction_type=’raster’, must contain all rasters
required to make predictions.</p></td>
</tr>
<tr class="row-even"><td><p>datefield</p></td>
<td><p>Optional string. Field name from feature layer
that contains the date, time for the input features.
Same as <cite>prepare_tabulardata()</cite>.</p></td>
</tr>
<tr class="row-odd"><td><p>distance_features</p></td>
<td><p>Optional List of Feature Layer objects.
These layers are used for calculation of field “NEAR_DIST_1”,
“NEAR_DIST_2” etc in the output dataframe.
These fields contain the nearest feature distance
from the input_features.
Same as <cite>prepare_tabulardata()</cite>.</p></td>
</tr>
<tr class="row-even"><td><p>output_layer_name</p></td>
<td><p>Optional string. Used for publishing the output layer.</p></td>
</tr>
<tr class="row-odd"><td><p>gis</p></td>
<td><p>Optional GIS Object. Used for publishing the item.
If not specified then active gis user is taken.</p></td>
</tr>
<tr class="row-even"><td><p>prediction_type</p></td>
<td><p>Optional String.
Set ‘features’ or ‘dataframe’ to make output feature layer predictions.
With this feature_layer argument is required.</p>
<p>Set ‘raster’, to make prediction raster.
With this rasters must be specified.</p>
</td>
</tr>
<tr class="row-odd"><td><p>output_raster_path</p></td>
<td><p>Optional path.
Required when prediction_type=’raster’, saves
the output raster to this path.</p></td>
</tr>
<tr class="row-even"><td><p>match_field_names</p></td>
<td><p>Optional dictionary.
Specify mapping of field names from prediction set
to training set.
For example:</p>
<blockquote>
<div><dl class="simple">
<dt>{</dt><dd><p>“Field_Name_1”: “Field_1”,
“Field_Name_2”: “Field_2”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p>:returns Feature Layer if prediction_type=’features’, dataframe for prediction_type=’dataframe’ else creates an output raster.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.FullyConnectedNetwork.save">
<code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name_or_path</span></em>, <em class="sig-param"><span class="n">framework</span><span class="o">=</span><span class="default_value">'PyTorch'</span></em>, <em class="sig-param"><span class="n">publish</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">save_optimizer</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.FullyConnectedNetwork.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the model weights, creates an Esri Model Definition and Deep
Learning Package zip for deployment to Image Server or ArcGIS Pro.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>name_or_path</p></td>
<td><p>Required string. Folder path to save the model.</p></td>
</tr>
<tr class="row-odd"><td><p>framework</p></td>
<td><p>Optional string. Defines the framework of the
model. (Only supported by <code class="docutils literal notranslate"><span class="pre">SingleShotDetector</span></code>, currently.)
If framework used is <code class="docutils literal notranslate"><span class="pre">TF-ONNX</span></code>, <code class="docutils literal notranslate"><span class="pre">batch_size</span></code> can be
passed as an optional keyword argument.</p>
<p>Framework choice: ‘PyTorch’ and ‘TF-ONNX’</p>
</td>
</tr>
<tr class="row-even"><td><p>publish</p></td>
<td><p>Optional boolean. Publishes the DLPK as an item.</p></td>
</tr>
<tr class="row-odd"><td><p>gis</p></td>
<td><p>Optional GIS Object. Used for publishing the item.
If not specified then active gis user is taken.</p></td>
</tr>
<tr class="row-even"><td><p>save_optimizer</p></td>
<td><p>Optional boolean. Used for saving the model-optimizer
state along with the model. Default is set to False</p></td>
</tr>
<tr class="row-odd"><td><p>kwargs</p></td>
<td><p>Optional Parameters:
Boolean <cite>overwrite</cite> if True, it will overwrite
the item on ArcGIS Online/Enterprise, default False.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.FullyConnectedNetwork.score">
<code class="sig-name descname">score</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.FullyConnectedNetwork.score" title="Permalink to this definition">¶</a></dt>
<dd><p>:returns R2 score for regression model and Accuracy for classification model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.FullyConnectedNetwork.show_results">
<code class="sig-name descname">show_results</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rows</span><span class="o">=</span><span class="default_value">5</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.FullyConnectedNetwork.show_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the rows of the dataframe with target and prediction columns.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>rows</p></td>
<td><p>Optional Integer.
Number of rows to print.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>dataframe</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.FullyConnectedNetwork.unfreeze">
<code class="sig-name descname">unfreeze</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.FullyConnectedNetwork.unfreeze" title="Permalink to this definition">¶</a></dt>
<dd><p>Unfreezes the earlier layers of the model for fine-tuning.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="mlmodel">
<h3>MLModel<a class="headerlink" href="#mlmodel" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="arcgis.learn.MLModel">
<em class="property">class </em><code class="sig-prename descclassname">arcgis.learn.</code><code class="sig-name descname">MLModel</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">model_type</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.MLModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a machine learning model based on its implementation from scikit-learn.
For supervised learning:
Refer <a class="reference external" href="https://scikit-learn.org/stable/supervised_learning.html#supervised-learning">https://scikit-learn.org/stable/supervised_learning.html#supervised-learning</a>
For unsupervised learning:
1. Clustering Models
2. Gaussian Mixture Models
3. Novelty and outlier detection
Refer <a class="reference external" href="https://scikit-learn.org/stable/unsupervised_learning.html">https://scikit-learn.org/stable/unsupervised_learning.html</a></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 21%" />
<col style="width: 79%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>data</p></td>
<td><p>Required TabularDataObject. Returned data object from
<cite>prepare_tabulardata</cite> function.</p></td>
</tr>
<tr class="row-odd"><td><p>model_type</p></td>
<td><p>Required string path to the module.
For example for SVM:</p>
<blockquote>
<div><p>sklearn.svm.SVR or sklearn.svm.SVC</p>
</div></blockquote>
<dl class="simple">
<dt>For tree:</dt><dd><p>sklearn.tree.DecisionTreeRegressor or sklearn.tree.DecisionTreeClassifier</p>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td><p><a href="#id43"><span class="problematic" id="id44">**</span></a>kwargs</p></td>
<td><p>model_type specific arguments.
Refer Parameters section
<a class="reference external" href="https://scikit-learn.org/stable/supervised_learning.html#supervised-learning">https://scikit-learn.org/stable/supervised_learning.html#supervised-learning</a></p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>MLModel</cite> Object</p>
</dd>
</dl>
<dl class="py method">
<dt id="arcgis.learn.MLModel.decision_function">
<code class="sig-name descname">decision_function</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.MLModel.decision_function" title="Permalink to this definition">¶</a></dt>
<dd><p>:returns output from scikit-learn’s model.decision_function()</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.MLModel.feature_importances_">
<em class="property">property </em><code class="sig-name descname">feature_importances_</code><a class="headerlink" href="#arcgis.learn.MLModel.feature_importances_" title="Permalink to this definition">¶</a></dt>
<dd><p>:returns output from scikit-learn’s <a href="#id53"><span class="problematic" id="id54">model.feature_importances_</span></a></p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.MLModel.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.MLModel.fit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="arcgis.learn.MLModel.from_model">
<em class="property">classmethod </em><code class="sig-name descname">from_model</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">emd_path</span></em>, <em class="sig-param"><span class="n">data</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.MLModel.from_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a <cite>MLModel</cite> Object from an Esri Model Definition (EMD) file.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 72%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>emd_path</p></td>
<td><p>Required string. Path to Esri Model Definition
file.</p></td>
</tr>
<tr class="row-odd"><td><p>data</p></td>
<td><p>Required TabularDataObject or None. Returned data
object from <cite>prepare_tabulardata</cite> function or None for
inferencing.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>MLModel</cite> Object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.MLModel.kneighbors">
<code class="sig-name descname">kneighbors</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">n_neighbors</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">return_distance</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.MLModel.kneighbors" title="Permalink to this definition">¶</a></dt>
<dd><p>:returns output from scikit-learn’s model.kneighbors()</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.MLModel.mahalanobis">
<code class="sig-name descname">mahalanobis</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.MLModel.mahalanobis" title="Permalink to this definition">¶</a></dt>
<dd><p>:returns output from scikit-learn’s model.mahalanobis()</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.MLModel.predict">
<code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_features</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">explanatory_rasters</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">datefield</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">distance_features</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">output_layer_name</span><span class="o">=</span><span class="default_value">'Prediction Layer'</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">prediction_type</span><span class="o">=</span><span class="default_value">'features'</span></em>, <em class="sig-param"><span class="n">output_raster_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">match_field_names</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.MLModel.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Predict on data from feature layer, dataframe and or raster data.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 72%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>input_features</p></td>
<td><p>Optional Feature Layer or spatial dataframe. Required if prediction_type=’features’.
Contains features with location and
some or all fields required to infer the dependent variable value.</p></td>
</tr>
<tr class="row-odd"><td><p>explanatory_rasters</p></td>
<td><p>Optional list. Required if prediction_type=’raster’.
Contains a list of raster objects containing
some or all fields required to infer the dependent variable value.</p></td>
</tr>
<tr class="row-even"><td><p>datefield</p></td>
<td><p>Optional string. Field name from feature layer
that contains the date, time for the input features.
Same as <cite>prepare_tabulardata()</cite>.</p></td>
</tr>
<tr class="row-odd"><td><p>distance_features</p></td>
<td><p>Optional List of Feature Layer objects.
These layers are used for calculation of field “NEAR_DIST_1”,
“NEAR_DIST_2” etc in the output dataframe.
These fields contain the nearest feature distance
from the input_features.
Same as <cite>prepare_tabulardata()</cite>.</p></td>
</tr>
<tr class="row-even"><td><p>output_layer_name</p></td>
<td><p>Optional string. Used for publishing the output layer.</p></td>
</tr>
<tr class="row-odd"><td><p>gis</p></td>
<td><p>Optional GIS Object. Used for publishing the item.
If not specified then active gis user is taken.</p></td>
</tr>
<tr class="row-even"><td><p>prediction_type</p></td>
<td><p>Optional String.
Set ‘features’ or ‘dataframe’ to make output feature layer predictions.
With this feature_layer argument is required.</p>
<p>Set ‘raster’, to make prediction raster.
With this rasters must be specified.</p>
</td>
</tr>
<tr class="row-odd"><td><p>output_raster_path</p></td>
<td><p>Optional path.
Required when prediction_type=’raster’, saves
the output raster to this path.</p></td>
</tr>
<tr class="row-even"><td><p>match_field_names</p></td>
<td><p>Optional dictionary.
Specify mapping of field names from prediction set
to training set.
For example:</p>
<blockquote>
<div><dl class="simple">
<dt>{</dt><dd><p>“Field_Name_1”: “Field_1”,
“Field_Name_2”: “Field_2”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p>:returns Feature Layer if prediction_type=’features’, dataframe for prediction_type=’dataframe’ else creates an output raster.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.MLModel.predict_proba">
<code class="sig-name descname">predict_proba</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.MLModel.predict_proba" title="Permalink to this definition">¶</a></dt>
<dd><p>:returns output from scikit-learn’s model.predict_proba()</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.MLModel.save">
<code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name_or_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.MLModel.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the model, creates an Esri Model Definition. Uses pickle to save the model.
Using protocol level 2. Protocol level is backward compatible.</p>
<p>:returns dataframe</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.MLModel.score">
<code class="sig-name descname">score</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.MLModel.score" title="Permalink to this definition">¶</a></dt>
<dd><p>:returns output from scikit-learn’s model.score(), R2 score in case of regression and Accuracy in case of classification.
For KMeans returns Opposite of the value of X on the K-means objective.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.MLModel.show_results">
<code class="sig-name descname">show_results</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rows</span><span class="o">=</span><span class="default_value">5</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.MLModel.show_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Shows sample results for the model.</p>
<p>:returns dataframe</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="timeseriesmodel">
<h3>TimeSeriesModel<a class="headerlink" href="#timeseriesmodel" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="arcgis.learn.TimeSeriesModel">
<em class="property">class </em><code class="sig-prename descclassname">arcgis.learn.</code><code class="sig-name descname">TimeSeriesModel</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">seq_len</span></em>, <em class="sig-param"><span class="n">model_arch</span><span class="o">=</span><span class="default_value">'InceptionTime'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.TimeSeriesModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a TimeSeriesModel Object.
Based on the Fast.ai’s <a class="reference external" href="https://github.com/timeseriesAI/timeseriesAI">https://github.com/timeseriesAI/timeseriesAI</a></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 72%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>data</p></td>
<td><p>Required TabularDataObject. Returned data object from
<cite>prepare_tabulardata</cite> function.</p></td>
</tr>
<tr class="row-odd"><td><p>seq_len</p></td>
<td><p>Required Integer. Sequence Length for the series.
In case of raster only, seq_len = number of rasters,
any other passed value will be ignored.</p></td>
</tr>
<tr class="row-even"><td><p>model_arch</p></td>
<td><p>Optional string. Model Architecture.
Allowed “InceptionTime”, “ResCNN”,
“Resnet”, “FCN”</p></td>
</tr>
<tr class="row-odd"><td><p><a href="#id45"><span class="problematic" id="id46">**</span></a>kwargs</p></td>
<td><p>Optional kwargs.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>TimeSeriesModel</cite> Object</p>
</dd>
</dl>
<dl class="py method">
<dt id="arcgis.learn.TimeSeriesModel.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">epochs</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">lr</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">one_cycle</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">early_stopping</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">checkpoint</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">tensorboard</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.TimeSeriesModel.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Train the model for the specified number of epochs and using the
specified learning rates</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 72%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>epochs</p></td>
<td><p>Required integer. Number of cycles of training
on the data. Increase it if underfitting.</p></td>
</tr>
<tr class="row-odd"><td><p>lr</p></td>
<td><p>Optional float or slice of floats. Learning rate
to be used for training the model. If <code class="docutils literal notranslate"><span class="pre">lr=None</span></code>,
an optimal learning rate is automatically deduced
for training the model.</p></td>
</tr>
<tr class="row-even"><td><p>one_cycle</p></td>
<td><p>Optional boolean. Parameter to select 1cycle
learning rate schedule. If set to <cite>False</cite> no
learning rate schedule is used.</p></td>
</tr>
<tr class="row-odd"><td><p>early_stopping</p></td>
<td><p>Optional boolean. Parameter to add early stopping.
If set to ‘True’ training will stop if validation
loss stops improving for 5 epochs.</p></td>
</tr>
<tr class="row-even"><td><p>checkpoint</p></td>
<td><p>Optional boolean. Parameter to save the best model
during training. If set to <cite>True</cite> the best model
based on validation loss will be saved during
training.</p></td>
</tr>
<tr class="row-odd"><td><p>tensorboard</p></td>
<td><p>Optional boolean. Parameter to write the training log.
If set to ‘True’ the log will be saved at
&lt;dataset-path&gt;/training_log which can be visualized in
tensorboard. Required tensorboardx version=2.1</p>
<p>The default value is ‘False’.
<a href="#id47"><span class="problematic" id="id48">**</span></a>Note - Not applicable for Text Models</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.TimeSeriesModel.from_model">
<em class="property">classmethod </em><code class="sig-name descname">from_model</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">emd_path</span></em>, <em class="sig-param"><span class="n">data</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.TimeSeriesModel.from_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a TimeSeriesModel Object from an Esri Model Definition (EMD) file.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 72%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>emd_path</p></td>
<td><p>Required string. Path to Deep Learning Package
(DLPK) or Esri Model Definition(EMD) file.</p></td>
</tr>
<tr class="row-odd"><td><p>data</p></td>
<td><p>Required fastai Databunch or None. Returned data
object from <cite>prepare_tabulardata</cite> function or None for
inferencing.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>TimeSeriesModel</cite> Object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.TimeSeriesModel.load">
<code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name_or_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.TimeSeriesModel.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a compatible saved model for inferencing or fine tuning from the disk.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>name_or_path</p></td>
<td><p>Required string. Name or Path to
Deep Learning Package (DLPK) or
Esri Model Definition(EMD) file.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.TimeSeriesModel.lr_find">
<code class="sig-name descname">lr_find</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">allow_plot</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.TimeSeriesModel.lr_find" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the Learning Rate Finder, and displays the graph of its output.
Helps in choosing the optimum learning rate for training the model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.TimeSeriesModel.plot_losses">
<code class="sig-name descname">plot_losses</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.TimeSeriesModel.plot_losses" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot validation and training losses after fitting the model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.TimeSeriesModel.predict">
<code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_features</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">explanatory_rasters</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">datefield</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">distance_features</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">output_layer_name</span><span class="o">=</span><span class="default_value">'Prediction Layer'</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">prediction_type</span><span class="o">=</span><span class="default_value">'features'</span></em>, <em class="sig-param"><span class="n">output_raster_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">match_field_names</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">number_of_predictions</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.TimeSeriesModel.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Predict on data from feature layer and or raster data.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 31%" />
<col style="width: 69%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>input_features</p></td>
<td><p>Optional Feature Layer or spatially enabled dataframe.
Contains features with location of the input data.
Required if prediction_type is ‘features’ or ‘dataframe’</p></td>
</tr>
<tr class="row-odd"><td><p>explanatory_rasters</p></td>
<td><p>Optional list of Raster Objects.
Required if prediction_type is ‘rasters’</p></td>
</tr>
<tr class="row-even"><td><p>datefield</p></td>
<td><p>Optional field_name.
This field contains the date in the input_features.
The field type can be a string or date time field.
If specified, the field will be split into
Year, month, week, day, dayofweek, dayofyear,
is_month_end, is_month_start, is_quarter_end,
is_quarter_start, is_year_end, is_year_start,
hour, minute, second, elapsed and these will be added
to the prepared data as columns.
All fields other than elapsed and dayofyear are treated
as categorical.</p></td>
</tr>
<tr class="row-odd"><td><p>distance_features</p></td>
<td><p>Optional List of Feature Layer objects.
These layers are used for calculation of field “NEAR_DIST_1”,
“NEAR_DIST_2” etc in the output dataframe.
These fields contain the nearest feature distance
from the input_features.
Same as <cite>prepare_tabulardata()</cite>.</p></td>
</tr>
<tr class="row-even"><td><p>output_layer_name</p></td>
<td><p>Optional string. Used for publishing the output layer.</p></td>
</tr>
<tr class="row-odd"><td><p>gis</p></td>
<td><p>Optional GIS Object. Used for publishing the item.
If not specified then active gis user is taken.</p></td>
</tr>
<tr class="row-even"><td><p>prediction_type</p></td>
<td><p>Optional String.
Set ‘features’ or ‘dataframe’ to make output predictions.</p></td>
</tr>
<tr class="row-odd"><td><p>output_raster_path</p></td>
<td><p>Optional path. Required when prediction_type=’raster’, saves
the output raster to this path.</p></td>
</tr>
<tr class="row-even"><td><p>match_field_names</p></td>
<td><p>Optional string.
Specify mapping of the original training set with prediction set.</p></td>
</tr>
<tr class="row-odd"><td><p>number_of_predictions</p></td>
<td><p>Optional int for univariate time series.
Specify the number of predictions to make, adds new rows to the dataframe.
For multivariate or if None, it expects the dataframe to have empty rows.
For prediction_type=’raster’, a new raster is created.</p></td>
</tr>
</tbody>
</table>
<p>:returns Feature Layer/dataframe if prediction_type=’features’/’dataframe’, else returns True and saves output
raster at the specified path.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.TimeSeriesModel.save">
<code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name_or_path</span></em>, <em class="sig-param"><span class="n">framework</span><span class="o">=</span><span class="default_value">'PyTorch'</span></em>, <em class="sig-param"><span class="n">publish</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">save_optimizer</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.TimeSeriesModel.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the model weights, creates an Esri Model Definition and Deep
Learning Package zip for deployment to Image Server or ArcGIS Pro.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>name_or_path</p></td>
<td><p>Required string. Folder path to save the model.</p></td>
</tr>
<tr class="row-odd"><td><p>framework</p></td>
<td><p>Optional string. Defines the framework of the
model. (Only supported by <code class="docutils literal notranslate"><span class="pre">SingleShotDetector</span></code>, currently.)
If framework used is <code class="docutils literal notranslate"><span class="pre">TF-ONNX</span></code>, <code class="docutils literal notranslate"><span class="pre">batch_size</span></code> can be
passed as an optional keyword argument.</p>
<p>Framework choice: ‘PyTorch’ and ‘TF-ONNX’</p>
</td>
</tr>
<tr class="row-even"><td><p>publish</p></td>
<td><p>Optional boolean. Publishes the DLPK as an item.</p></td>
</tr>
<tr class="row-odd"><td><p>gis</p></td>
<td><p>Optional GIS Object. Used for publishing the item.
If not specified then active gis user is taken.</p></td>
</tr>
<tr class="row-even"><td><p>save_optimizer</p></td>
<td><p>Optional boolean. Used for saving the model-optimizer
state along with the model. Default is set to False</p></td>
</tr>
<tr class="row-odd"><td><p>kwargs</p></td>
<td><p>Optional Parameters:
Boolean <cite>overwrite</cite> if True, it will overwrite
the item on ArcGIS Online/Enterprise, default False.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.TimeSeriesModel.score">
<code class="sig-name descname">score</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.TimeSeriesModel.score" title="Permalink to this definition">¶</a></dt>
<dd><p>:returns R2 score for regression model and Accuracy for classification model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.TimeSeriesModel.show_results">
<code class="sig-name descname">show_results</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rows</span><span class="o">=</span><span class="default_value">5</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.TimeSeriesModel.show_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the graph with predictions.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>rows</p></td>
<td><p>Optional Integer.
Number of rows to print.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.TimeSeriesModel.unfreeze">
<code class="sig-name descname">unfreeze</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.TimeSeriesModel.unfreeze" title="Permalink to this definition">¶</a></dt>
<dd><p>Unfreezes the earlier layers of the model for fine-tuning.</p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="unstructured-text-models">
<h2>Unstructured Text Models<a class="headerlink" href="#unstructured-text-models" title="Permalink to this headline">¶</a></h2>
<div class="section" id="arcgis-learn-text-module">
<h3>arcgis.learn.text module<a class="headerlink" href="#arcgis-learn-text-module" title="Permalink to this headline">¶</a></h3>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="arcgis.learn.text.html">EntityRecognizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.learn.text.html#textclassifier">TextClassifier</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.learn.text.html#sequencetosequence">SequenceToSequence</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.learn.text.html#inference-only-models">Inference Only Models</a><ul>
<li class="toctree-l2"><a class="reference internal" href="arcgis.learn.text.html#fillmask">FillMask</a></li>
<li class="toctree-l2"><a class="reference internal" href="arcgis.learn.text.html#questionanswering">QuestionAnswering</a></li>
<li class="toctree-l2"><a class="reference internal" href="arcgis.learn.text.html#textgenerator">TextGenerator</a></li>
<li class="toctree-l2"><a class="reference internal" href="arcgis.learn.text.html#textsummarizer">TextSummarizer</a></li>
<li class="toctree-l2"><a class="reference internal" href="arcgis.learn.text.html#texttranslator">TextTranslator</a></li>
<li class="toctree-l2"><a class="reference internal" href="arcgis.learn.text.html#zeroshotclassifier">ZeroShotClassifier</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>
<div class="section" id="inferencing-methods-image-server">
<h2>Inferencing Methods (Image Server)<a class="headerlink" href="#inferencing-methods-image-server" title="Permalink to this headline">¶</a></h2>
<div class="section" id="detect-objects">
<h3>detect_objects<a class="headerlink" href="#detect-objects" title="Permalink to this headline">¶</a></h3>
<dl class="py function">
<dt id="arcgis.learn.detect_objects">
<code class="sig-prename descclassname">arcgis.learn.</code><code class="sig-name descname">detect_objects</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_raster</span></em>, <em class="sig-param"><span class="n">model</span></em>, <em class="sig-param"><span class="n">model_arguments</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">output_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">run_nms</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">confidence_score_field</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">class_value_field</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">max_overlap_ratio</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">context</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">process_all_raster_items</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">future</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.detect_objects" title="Permalink to this definition">¶</a></dt>
<dd><p>Function can be used to generate feature service that contains polygons on detected objects
found in the imagery data using the designated deep learning model. Note that the deep learning
library needs to be installed separately, in addition to the server’s built in Python 3.x library.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 22%" />
<col style="width: 78%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>input_raster</p></td>
<td><p>Required. raster layer that contains objects that needs to be detected.</p></td>
</tr>
<tr class="row-odd"><td><p>model</p></td>
<td><p>Required model object.</p></td>
</tr>
<tr class="row-even"><td><p>model_arguments</p></td>
<td><p>Optional dictionary. Name-value pairs of arguments and their values that can be customized by the clients.</p>
<p>eg: {“name1”:”value1”, “name2”: “value2”}</p>
</td>
</tr>
<tr class="row-odd"><td><p>output_name</p></td>
<td><p>Optional. If not provided, a Feature layer is created by the method and used as the output .
You can pass in an existing Feature Service Item from your GIS to use that instead.
Alternatively, you can pass in the name of the output Feature Service that should be created by this method
to be used as the output for the tool.
A RuntimeError is raised if a service by that name already exists</p></td>
</tr>
<tr class="row-even"><td><p>run_nms</p></td>
<td><p>Optional bool. Default value is False. If set to True, runs the Non Maximum Suppression tool.</p></td>
</tr>
<tr class="row-odd"><td><p>confidence_score_field</p></td>
<td><p>Optional string. The field in the feature class that contains the confidence scores as output by the object detection method.
This parameter is required when you set the run_nms to True</p></td>
</tr>
<tr class="row-even"><td><p>class_value_field</p></td>
<td><p>Optional string. The class value field in the input feature class.
If not specified, the function will use the standard class value fields
Classvalue and Value. If these fields do not exist, all features will
be treated as the same object class.
Set only if run_nms  is set to True</p></td>
</tr>
<tr class="row-odd"><td><p>max_overlap_ratio</p></td>
<td><p>Optional integer. The maximum overlap ratio for two overlapping features.
Defined as the ratio of intersection area over union area.
Set only if run_nms  is set to True</p></td>
</tr>
<tr class="row-even"><td><p>context</p></td>
<td><p>Optional dictionary. Context contains additional settings that affect task execution.
Dictionary can contain value for following keys:</p>
<ul class="simple">
<li><p>cellSize - Set the output raster cell size, or resolution</p></li>
<li><p>extent - Sets the processing extent used by the function</p></li>
<li><p>parallelProcessingFactor - Sets the parallel processing factor. Default is “80%”</p></li>
<li><p>processorType - Sets the processor type. “CPU” or “GPU”</p></li>
</ul>
<p>Eg: {“processorType” : “CPU”}</p>
<p>Setting context parameter will override the values set using arcgis.env
variable for this particular function.</p>
</td>
</tr>
<tr class="row-odd"><td><p>process_all_raster_items</p></td>
<td><p>Optional bool. Specifies how all raster items in an image service will be processed.</p>
<blockquote>
<div><ul class="simple">
<li><p>False : all raster items in the image service will be mosaicked together and processed. This is the default.</p></li>
<li><p>True : all raster items in the image service will be processed as separate images.</p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td><p>gis</p></td>
<td><p>Optional GIS. The GIS on which this tool runs. If not specified, the active GIS is used.</p></td>
</tr>
<tr class="row-odd"><td><p>future</p></td>
<td><p>Keyword only parameter. Optional boolean. If True, the result will be a GPJob object and results will be returned asynchronously.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The output feature layer item containing the detected objects</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="classify-objects">
<h3>classify_objects<a class="headerlink" href="#classify-objects" title="Permalink to this headline">¶</a></h3>
<dl class="py function">
<dt id="arcgis.learn.classify_objects">
<code class="sig-prename descclassname">arcgis.learn.</code><code class="sig-name descname">classify_objects</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_raster</span></em>, <em class="sig-param"><span class="n">model</span></em>, <em class="sig-param"><span class="n">model_arguments</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">input_features</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">class_label_field</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">process_all_raster_items</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">output_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">context</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">future</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.classify_objects" title="Permalink to this definition">¶</a></dt>
<dd><p>Function can be used to output feature service with assigned class label for each feature based on
information from overlapped imagery data using the designated deep learning model.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 76%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>input_raster</p></td>
<td><p>Required. raster layer that contains objects that needs to be classified.</p></td>
</tr>
<tr class="row-odd"><td><p>model</p></td>
<td><p>Required model object.</p></td>
</tr>
<tr class="row-even"><td><p>model_arguments</p></td>
<td><p>Optional dictionary. Name-value pairs of arguments and their values that can be customized by the clients.</p>
<p>eg: {“name1”:”value1”, “name2”: “value2”}</p>
</td>
</tr>
<tr class="row-odd"><td><p>input_features</p></td>
<td><p>Optional feature layer.
The point, line, or polygon input feature layer that identifies the location of each object to be
classified and labelled. Each row in the input feature layer represents a single object.</p>
<p>If no input feature layer is specified, the function assumes that each input image contains a single object
to be classified. If the input image or images use a spatial reference, the output from the function is a
feature layer, where the extent of each image is used as the bounding geometry for each labelled
feature layer. If the input image or images are not spatially referenced, the output from the function
is a table containing the image ID values and the class labels for each image.</p>
</td>
</tr>
<tr class="row-even"><td><p>class_label_field</p></td>
<td><p>Optional str. The name of the field that will contain the classification label in the output feature layer.</p>
<p>If no field name is specified, a new field called ClassLabel will be generated in the output feature layer.</p>
<dl class="simple">
<dt>Example:</dt><dd><p>“ClassLabel”</p>
</dd>
</dl>
</td>
</tr>
<tr class="row-odd"><td><p>process_all_raster_items</p></td>
<td><p>Optional bool.</p>
<p>If set to False, all raster items in the image service will be mosaicked together and processed. This is the default.</p>
<p>If set to True, all raster items in the image service will be processed as separate images.</p>
</td>
</tr>
<tr class="row-even"><td><p>output_name</p></td>
<td><p>Optional. If not provided, a Feature layer is created by the method and used as the output .
You can pass in an existing Feature Service Item from your GIS to use that instead.
Alternatively, you can pass in the name of the output Feature Service that should be created by this method
to be used as the output for the tool.
A RuntimeError is raised if a service by that name already exists</p></td>
</tr>
<tr class="row-odd"><td><p>context</p></td>
<td><p>Optional dictionary. Context contains additional settings that affect task execution.
Dictionary can contain value for following keys:</p>
<ul class="simple">
<li><p>cellSize - Set the output raster cell size, or resolution</p></li>
<li><p>extent - Sets the processing extent used by the function</p></li>
<li><p>parallelProcessingFactor - Sets the parallel processing factor. Default is “80%”</p></li>
<li><p>processorType - Sets the processor type. “CPU” or “GPU”</p></li>
</ul>
<p>Eg: {“processorType” : “CPU”}</p>
<p>Setting context parameter will override the values set using arcgis.env
variable for this particular function.</p>
</td>
</tr>
<tr class="row-even"><td><p>gis</p></td>
<td><p>Optional GIS. The GIS on which this tool runs. If not specified, the active GIS is used.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The output feature layer item containing the classified objects</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="classify-pixels">
<h3>classify_pixels<a class="headerlink" href="#classify-pixels" title="Permalink to this headline">¶</a></h3>
<dl class="py function">
<dt id="arcgis.learn.classify_pixels">
<code class="sig-prename descclassname">arcgis.learn.</code><code class="sig-name descname">classify_pixels</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_raster</span></em>, <em class="sig-param"><span class="n">model</span></em>, <em class="sig-param"><span class="n">model_arguments</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">output_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">context</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">process_all_raster_items</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">future</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.classify_pixels" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to classify input imagery data using a deep learning model.
Note that the deep learning library needs to be installed separately,
in addition to the server’s built in Python 3.x library.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 22%" />
<col style="width: 78%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>input_raster</p></td>
<td><p>Required. raster layer that needs to be classified.</p></td>
</tr>
<tr class="row-odd"><td><p>model</p></td>
<td><p>Required model object.</p></td>
</tr>
<tr class="row-even"><td><p>model_arguments</p></td>
<td><p>Optional dictionary. Name-value pairs of arguments and their values that can be customized by the clients.</p>
<p>eg: {“name1”:”value1”, “name2”: “value2”}</p>
</td>
</tr>
<tr class="row-odd"><td><p>output_name</p></td>
<td><p>Optional. If not provided, an imagery layer is created by the method and used as the output .
You can pass in an existing Image Service Item from your GIS to use that instead.
Alternatively, you can pass in the name of the output Image Service that should be created by this method
to be used as the output for the tool.
A RuntimeError is raised if a service by that name already exists</p></td>
</tr>
<tr class="row-even"><td><p>context</p></td>
<td><dl>
<dt>Optional dictionary. Context contains additional settings that affect task execution.</dt><dd><p>Dictionary can contain value for following keys:</p>
<ul class="simple">
<li><p>outSR - (Output Spatial Reference) Saves the result in the specified spatial reference</p></li>
<li><p>snapRaster - Function will adjust the extent of output rasters so that they
match the cell alignment of the specified snap raster.</p></li>
<li><p>cellSize - Set the output raster cell size, or resolution</p></li>
<li><p>extent - Sets the processing extent used by the function</p></li>
<li><p>parallelProcessingFactor - Sets the parallel processing factor. Default is “80%”</p></li>
<li><p>processorType - Sets the processor type. “CPU” or “GPU”</p></li>
</ul>
<p>Eg: {“outSR” : {spatial reference}}</p>
<p>Setting context parameter will override the values set using arcgis.env
variable for this particular function.</p>
</dd>
</dl>
</td>
</tr>
<tr class="row-odd"><td><p>process_all_raster_items</p></td>
<td><p>Optional bool. Specifies how all raster items in an image service will be processed.</p>
<blockquote>
<div><ul class="simple">
<li><p>False : all raster items in the image service will be mosaicked together and processed. This is the default.</p></li>
<li><p>True : all raster items in the image service will be processed as separate images.</p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td><p>gis</p></td>
<td><p>Optional GIS. The GIS on which this tool runs. If not specified, the active GIS is used.</p></td>
</tr>
<tr class="row-odd"><td><p>future</p></td>
<td><p>Keyword only parameter. Optional boolean. If True, the result will be a GPJob object and results will be returned asynchronously.</p></td>
</tr>
<tr class="row-even"><td><p>tiles_only</p></td>
<td><p>Keyword only parameter. Optional boolean.
In ArcGIS Online, the default output image service for this function would be a Tiled Imagery Layer.
To create Dynamic Imagery Layer as output in ArcGIS Online, set tiles_only parameter to False.</p>
<p>Function will not honor tiles_only parameter in ArcGIS Enterprise and will generate Dynamic Imagery Layer by default.</p>
</td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The classified imagery layer item</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="compute-accuracy-for-object-detection">
<h3>compute_accuracy_for_object_detection<a class="headerlink" href="#compute-accuracy-for-object-detection" title="Permalink to this headline">¶</a></h3>
<dl class="py function">
<dt id="arcgis.learn.compute_accuracy_for_object_detection">
<code class="sig-prename descclassname">arcgis.learn.</code><code class="sig-name descname">compute_accuracy_for_object_detection</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">detected_features</span></em>, <em class="sig-param"><span class="n">ground_truth_features</span></em>, <em class="sig-param"><span class="n">detected_class_value_field</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ground_truth_class_value_field</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">min_iou</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">mask_features</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">out_accuracy_table_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">out_accuracy_report_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">context</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">future</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.compute_accuracy_for_object_detection" title="Permalink to this definition">¶</a></dt>
<dd><p>Function can be used to calculate the accuracy of a deep learning model by comparing the detected objects from 
the detect_objects function to ground truth data. 
Function available in ArcGIS Image Server 10.9 and higher.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 27%" />
<col style="width: 73%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>detected_features</p></td>
<td><p>Required. The input polygon feature layer containing the objects
detected from the detect_objects function.</p></td>
</tr>
<tr class="row-odd"><td><p>ground_truth_features</p></td>
<td><p>Required. The polygon feature layer containing ground truth data.</p></td>
</tr>
<tr class="row-even"><td><p>detected_class_value_field</p></td>
<td><p>Optional dictionary. The field in the detected objects feature class
that contains the class names or class values.</p>
<p>If a field name is not specified, a Classvalue or Value field will
be used. If these fields do not exist, all records will be
identified as belonging to one class.</p>
<p>The class values or class names must match those in the ground truth feature class exactly.</p>
<p>Syntax: A string describing the detected class value field.</p>
<p>Example: “class”</p>
</td>
</tr>
<tr class="row-odd"><td><p>ground_truth_class_value_field</p></td>
<td><p>The field in the ground truth feature class that contains the class
names or class values.</p>
<p>If a field name is not specified, a Classvalue or Value field will
be used. If these fields do not exist, all records will be
identified as belonging to one class.</p>
<p>The class values or class names must match those in the detected objects feature class exactly.</p>
<p>Example: “class”</p>
</td>
</tr>
<tr class="row-even"><td><p>min_iou</p></td>
<td><p>The Intersection over Union (IoU) ratio to use as a threshold to
evaluate the accuracy of the object-detection model. The numerator
is the area of overlap between the predicted bounding box and
the ground truth bounding box. The denominator is the area of
union or the area encompassed by both bounding boxes.</p>
<p>min_IoU value should be in the range 0 to 1. [0,1]
Example:</p>
<blockquote>
<div><p>0.5</p>
</div></blockquote>
</td>
</tr>
<tr class="row-odd"><td><p>mask_features</p></td>
<td><p>Optional feature layer. A polygon feature service layer that delineates
the area where accuracy will be computed. Only the image area that
falls completely within the polygons will be assessed for accuracy.</p></td>
</tr>
<tr class="row-even"><td><p>out_accuracy_table_name</p></td>
<td><p>Optional. Name of the output accuracy table item to be created.
If not provided, a random name is generated by the method and used as
the output name.</p></td>
</tr>
<tr class="row-odd"><td><p>out_accuracy_report_name</p></td>
<td><p>Optional. Accuracy report can either be added as an item to the portal.
or can be written to a datastore.
To add as an item, specify the name of the output report item (pdf item)
to be created.
Example:</p>
<blockquote>
<div><p>“accuracyReport”</p>
</div></blockquote>
<p>In order to write accuracy report to datastore, specify the datastore path as value to uri key.</p>
<dl class="simple">
<dt>Example -</dt><dd><p>“/fileShares/yourFileShareFolderName/accuracyReport”</p>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td><p>context</p></td>
<td><p>Optional dictionary. Context contains additional settings that affect task execution.
Dictionary can contain value for following keys:</p>
<ul class="simple">
<li><p>cellSize - Set the output raster cell size, or resolution</p></li>
<li><p>extent - Sets the processing extent used by the function</p></li>
<li><p>parallelProcessingFactor - Sets the parallel processing factor. Default is “80%”</p></li>
<li><p>processorType - Sets the processor type. “CPU” or “GPU”</p></li>
</ul>
<p>Eg: {“processorType” : “CPU”}</p>
<p>Setting context parameter will override the values set using arcgis.env
variable for this particular function.</p>
</td>
</tr>
<tr class="row-odd"><td><p>gis</p></td>
<td><p>Optional GIS. The GIS on which this tool runs. If not specified, the active GIS is used.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The output accuracy table item or/and accuracy report item (or datastore path to accuracy report)</p>
</dd>
</dl>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Usage Example: This example generates an accuracy table for a specified minimum IoU value.</span>

<span class="n">compute_accuracy_op</span> <span class="o">=</span> <span class="n">compute_accuracy_for_object_detection</span><span class="p">(</span><span class="n">detected_features</span><span class="o">=</span><span class="n">detected_features</span><span class="p">,</span> 
                                                            <span class="n">ground_truth_features</span><span class="o">=</span><span class="n">ground_truth_features</span><span class="p">,</span> 
                                                            <span class="n">detected_class_value_field</span><span class="o">=</span><span class="s2">&quot;ClassValue&quot;</span><span class="p">,</span> 
                                                            <span class="n">ground_truth_class_value_field</span><span class="o">=</span><span class="s2">&quot;Class&quot;</span><span class="p">,</span> 
                                                            <span class="n">min_iou</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> 
                                                            <span class="n">mask_features</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                                                            <span class="n">out_accuracy_table_name</span><span class="o">=</span><span class="s2">&quot;accuracy_table&quot;</span><span class="p">,</span> 
                                                            <span class="n">out_accuracy_report_name</span><span class="o">=</span><span class="s2">&quot;accuracy_report&quot;</span><span class="p">,</span> 
                                                            <span class="n">gis</span><span class="o">=</span><span class="n">gis</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>
<div class="section" id="model-management">
<h2>Model Management<a class="headerlink" href="#model-management" title="Permalink to this headline">¶</a></h2>
<div class="section" id="model">
<h3>Model<a class="headerlink" href="#model" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="arcgis.learn.Model">
<em class="property">class </em><code class="sig-prename descclassname">arcgis.learn.</code><code class="sig-name descname">Model</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.Model" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="arcgis.learn.Model.from_json">
<code class="sig-name descname">from_json</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.Model.from_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Function is used to initialise Model object from model definition JSON</p>
<p>eg usage:</p>
<p>model = Model()</p>
<dl>
<dt>model.from_json({“Framework” :”TensorFlow”,</dt><dd><p>“ModelConfiguration”:”DeepLab”,
“InferenceFunction”:”<code class="docutils literal notranslate"><span class="pre">[functions]System\DeepLearning\ImageClassifier.py</span></code>”,
“ModelFile”:”<code class="docutils literal notranslate"><span class="pre">\\folder_path_of_pb_file\frozen_inference_graph.pb</span></code>”,
“ExtractBands”:[0,1,2],
“ImageWidth”:513,
“ImageHeight”:513,
“Classes”: [ { “Value”:0, “Name”:”Evergreen Forest”, “Color”:[0, 51, 0] },</p>
<blockquote>
<div><p>{ “Value”:1, “Name”:”Grassland/Herbaceous”, “Color”:[241, 185, 137] },
{ “Value”:2, “Name”:”Bare Land”, “Color”:[236, 236, 0] },
{ “Value”:3, “Name”:”Open Water”, “Color”:[0, 0, 117] },
{ “Value”:4, “Name”:”Scrub/Shrub”, “Color”:[102, 102, 0] },
{ “Value”:5, “Name”:”Impervious Surface”, “Color”:[236, 236, 236] } ] })</p>
</div></blockquote>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.Model.from_model_path">
<code class="sig-name descname">from_model_path</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.Model.from_model_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Function is used to initialise Model object from url of model package or path of model definition file
eg usage:</p>
<p>model = Model()</p>
<p>model.from_model_path(“<a class="reference external" href="https://xxxportal.esri.com/sharing/rest/content/items">https://xxxportal.esri.com/sharing/rest/content/items</a>/&lt;itemId&gt;”)</p>
<p>or
model = Model()</p>
<p>model.from_model_path(<code class="docutils literal notranslate"><span class="pre">&quot;\\sharedstorage\sharefolder\findtrees.emd&quot;</span></code>)</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.Model.install">
<code class="sig-name descname">install</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">future</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.Model.install" title="Permalink to this definition">¶</a></dt>
<dd><p>Function is used to install the uploaded model package (<a href="#id49"><span class="problematic" id="id50">*</span></a>.dlpk). Optionally after inferencing
the necessary information using the model, the model can be uninstalled by uninstall_model()</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>gis</p></td>
<td><p>Optional GIS. The GIS on which this tool runs. If not specified, the active GIS is used.</p></td>
</tr>
<tr class="row-odd"><td><p>future</p></td>
<td><p>Keyword only parameter. Optional boolean. If True, the result will be a GPJob object and results will be returned asynchronously.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Path where model is installed</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.Model.query_info">
<code class="sig-name descname">query_info</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">future</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.Model.query_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Function is used to extract the deep learning model specific settings from the model package item or model definition file.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>gis</p></td>
<td><p>Optional GIS. The GIS on which this tool runs. If not specified, the active GIS is used.</p></td>
</tr>
<tr class="row-odd"><td><p>future</p></td>
<td><p>Keyword only parameter. Optional boolean. If True, the result will be a GPJob object and results will be returned asynchronously.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The key model information in dictionary format that describes what the settings are essential for this type of deep learning model.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.Model.uninstall">
<code class="sig-name descname">uninstall</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">future</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.Model.uninstall" title="Permalink to this definition">¶</a></dt>
<dd><p>Function is used to uninstall the uploaded model package that was installed using the install_model()
This function will delete the named deep learning model from the server but not the portal item.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>gis</p></td>
<td><p>Optional GIS. The GIS on which this tool runs. If not specified, the active GIS is used.</p></td>
</tr>
<tr class="row-odd"><td><p>future</p></td>
<td><p>Keyword only parameter. Optional boolean. If True, the result will be a GPJob object and results will be returned asynchronously.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>itemId of the uninstalled model package item</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="modelextension">
<h3>ModelExtension<a class="headerlink" href="#modelextension" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt id="arcgis.learn.ModelExtension">
<em class="property">class </em><code class="sig-prename descclassname">arcgis.learn.</code><code class="sig-name descname">ModelExtension</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">model_conf</span></em>, <em class="sig-param"><span class="n">backbone</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pretrained_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.ModelExtension" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a ModelExtension object, to train the model for object detection, semantic segmentation, and edge detection.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 82%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>data</p></td>
<td><p>Required fastai Databunch. Returned data object from
<code class="docutils literal notranslate"><span class="pre">prepare_data</span></code> function.</p></td>
</tr>
<tr class="row-odd"><td><p>model_conf</p></td>
<td><p>A class definition contains the following methods:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">get_model(self,</span> <span class="pre">data,</span> <span class="pre">backbone=None)</span></code>: for model definition,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">on_batch_begin(self,</span> <span class="pre">learn,</span> <span class="pre">model_input_batch,</span> <span class="pre">model_target_batch)</span></code>: for
feeding input to the model during training,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">transform_input(self,</span> <span class="pre">xb)</span></code>: for feeding input to the model during
inferencing/validation,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">transform_input_multispectral(self,</span> <span class="pre">xb)</span></code>: for feeding input to the
model during inferencing/validation in case of multispectral data,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">loss(self,</span> <span class="pre">model_output,</span> <span class="pre">*model_target)</span></code>: to return loss value of the model, and</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">post_process(self,</span> <span class="pre">pred,</span> <span class="pre">nms_overlap,</span> <span class="pre">thres,</span> <span class="pre">chip_size,</span> <span class="pre">device)</span></code>: to post-process
the output of the object-detection model.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">post_process(self,</span> <span class="pre">pred,</span> <span class="pre">thres)</span></code>: to post-process the output of the segmentation model.</p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td><p>backbone</p></td>
<td><p>Optional function. If custom model requires any backbone.</p></td>
</tr>
<tr class="row-odd"><td><p>pretrained_path</p></td>
<td><p>Optional string. Path where pre-trained model is
saved.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">ModelExtension</span></code> Object</p>
</dd>
</dl>
<dl class="py method">
<dt id="arcgis.learn.ModelExtension.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">epochs</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">lr</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">one_cycle</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">early_stopping</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">checkpoint</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">tensorboard</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.ModelExtension.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Train the model for the specified number of epochs and using the
specified learning rates</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 72%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>epochs</p></td>
<td><p>Required integer. Number of cycles of training
on the data. Increase it if underfitting.</p></td>
</tr>
<tr class="row-odd"><td><p>lr</p></td>
<td><p>Optional float or slice of floats. Learning rate
to be used for training the model. If <code class="docutils literal notranslate"><span class="pre">lr=None</span></code>,
an optimal learning rate is automatically deduced
for training the model.</p></td>
</tr>
<tr class="row-even"><td><p>one_cycle</p></td>
<td><p>Optional boolean. Parameter to select 1cycle
learning rate schedule. If set to <cite>False</cite> no
learning rate schedule is used.</p></td>
</tr>
<tr class="row-odd"><td><p>early_stopping</p></td>
<td><p>Optional boolean. Parameter to add early stopping.
If set to ‘True’ training will stop if validation
loss stops improving for 5 epochs.</p></td>
</tr>
<tr class="row-even"><td><p>checkpoint</p></td>
<td><p>Optional boolean. Parameter to save the best model
during training. If set to <cite>True</cite> the best model
based on validation loss will be saved during
training.</p></td>
</tr>
<tr class="row-odd"><td><p>tensorboard</p></td>
<td><p>Optional boolean. Parameter to write the training log.
If set to ‘True’ the log will be saved at
&lt;dataset-path&gt;/training_log which can be visualized in
tensorboard. Required tensorboardx version=2.1</p>
<p>The default value is ‘False’.
<a href="#id51"><span class="problematic" id="id52">**</span></a>Note - Not applicable for Text Models</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.ModelExtension.from_model">
<em class="property">classmethod </em><code class="sig-name descname">from_model</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">emd_path</span></em>, <em class="sig-param"><span class="n">data</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.ModelExtension.from_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a <code class="docutils literal notranslate"><span class="pre">ModelExtension</span></code> object from an Esri Model Definition (EMD) file.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>emd_path</p></td>
<td><p>Required string. Path to Deep Learning Package
(DLPK) or Esri Model Definition(EMD) file.</p></td>
</tr>
<tr class="row-odd"><td><p>data</p></td>
<td><p>Required fastai Databunch or None. Returned data
object from <code class="docutils literal notranslate"><span class="pre">prepare_data</span></code> function or None for
inferencing.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>ModelExtension</cite> Object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.ModelExtension.load">
<code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name_or_path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.ModelExtension.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a compatible saved model for inferencing or fine tuning from the disk.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>name_or_path</p></td>
<td><p>Required string. Name or Path to
Deep Learning Package (DLPK) or
Esri Model Definition(EMD) file.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.ModelExtension.lr_find">
<code class="sig-name descname">lr_find</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">allow_plot</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.ModelExtension.lr_find" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the Learning Rate Finder, and displays the graph of its output.
Helps in choosing the optimum learning rate for training the model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.ModelExtension.plot_losses">
<code class="sig-name descname">plot_losses</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.ModelExtension.plot_losses" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot validation and training losses after fitting the model.</p>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.ModelExtension.save">
<code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name_or_path</span></em>, <em class="sig-param"><span class="n">framework</span><span class="o">=</span><span class="default_value">'PyTorch'</span></em>, <em class="sig-param"><span class="n">publish</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">compute_metrics</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">save_optimizer</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">save_inference_file</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.ModelExtension.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the model weights, creates an Esri Model Definition and Deep
Learning Package zip for deployment to Image Server or ArcGIS Pro.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>name_or_path</p></td>
<td><p>Required string. Name of the model to save. It
stores it at the pre-defined location. If path
is passed then it stores at the specified path
with model name as directory name and creates
all the intermediate directories.</p></td>
</tr>
<tr class="row-odd"><td><p>framework</p></td>
<td><p>Optional string. Defines the framework of the
model. (Only supported by <code class="docutils literal notranslate"><span class="pre">SingleShotDetector</span></code>, currently.)
If framework used is <code class="docutils literal notranslate"><span class="pre">TF-ONNX</span></code>, <code class="docutils literal notranslate"><span class="pre">batch_size</span></code> can be
passed as an optional keyword argument.</p>
<p>Framework choice: ‘PyTorch’ and ‘TF-ONNX’</p>
</td>
</tr>
<tr class="row-even"><td><p>publish</p></td>
<td><p>Optional boolean. Publishes the DLPK as an item.</p></td>
</tr>
<tr class="row-odd"><td><p>gis</p></td>
<td><p>Optional GIS Object. Used for publishing the item.
If not specified then active gis user is taken.</p></td>
</tr>
<tr class="row-even"><td><p>compute_metrics</p></td>
<td><p>Optional boolean. Used for computing model
metrics.</p></td>
</tr>
<tr class="row-odd"><td><p>save_optimizer</p></td>
<td><p>Optional boolean. Used for saving the model-optimizer
state along with the model. Default is set to False</p></td>
</tr>
<tr class="row-even"><td><p>save_inference_file</p></td>
<td><p>Optional boolean. Used for saving the inference file
along with the model.
If False, the model will not work with ArcGIS Pro 2.6
or earlier. Default is set to True.</p></td>
</tr>
<tr class="row-odd"><td><p>kwargs</p></td>
<td><p>Optional Parameters:
Boolean <cite>overwrite</cite> if True, it will overwrite
the item on ArcGIS Online/Enterprise, default False.</p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="py method">
<dt id="arcgis.learn.ModelExtension.unfreeze">
<code class="sig-name descname">unfreeze</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.ModelExtension.unfreeze" title="Permalink to this definition">¶</a></dt>
<dd><p>Unfreezes the earlier layers of the model for fine-tuning.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="list-models">
<h3>list_models<a class="headerlink" href="#list-models" title="Permalink to this headline">¶</a></h3>
<dl class="py function">
<dt id="arcgis.learn.list_models">
<code class="sig-prename descclassname">arcgis.learn.</code><code class="sig-name descname">list_models</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">future</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.learn.list_models" title="Permalink to this definition">¶</a></dt>
<dd><p>Function is used to list all the installed deep learning models.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>gis</p></td>
<td><p>Optional GIS. The GIS on which this tool runs. If not specified, the active GIS is used.</p></td>
</tr>
<tr class="row-odd"><td><p>future</p></td>
<td><p>Keyword only parameter. Optional boolean. If True, the result will be a GPJob object and results will be returned asynchronously.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of deep learning models installed</p>
</dd>
</dl>
</dd></dl>

</div>
</div>
</div>



           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="arcgis.learn.text.html" class="btn btn-neutral float-right" title="EntityRecognizer" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="arcgis.apps.tracker.html" class="btn btn-neutral float-left" title="arcgis.apps.tracker module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2016-2021, Esri

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
    Options v: 1.8.4

  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Pick an earlier version</span>
      v: 1.8.4
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      
      
      <dl>
        <dt>Versions</dt>
        
          
          <dd><a href="1.8.3/">1.8.3</a></dd>
          
        
          
          <dd><a href="1.8.2/">1.8.2</a></dd>
          
        
          
          <dd><a href="1.8.1/">1.8.1</a></dd>
          
        
          
          <dd><a href="1.8.0/">1.8.0</a></dd>
          
        
          
          <dd><a href="1.7.1/">1.7.1</a></dd>
          
        
          
          <dd><a href="1.7.0/">1.7.0</a></dd>
          
        
          
          <dd><a href="1.6.2/">1.6.2</a></dd>
          
        
          
          <dd><a href="1.6.1/">1.6.1</a></dd>
          
        
          
          <dd><a href="1.6.0/">1.6.0</a></dd>
          
        
          
          <dd><a href="1.5.3/">1.5.3</a></dd>
          
        
          
          <dd><a href="1.5.2/">1.5.2</a></dd>
          
        
          
          <dd><a href="1.5.1/">1.5.1</a></dd>
          
        
          
          <dd><a href="1.5.0/">1.5.0</a></dd>
          
        
          
          <dd><a href="1.4.2/">1.4.2</a></dd>
          
        
          
          <dd><a href="1.4.1/">1.4.1</a></dd>
          
        
          
          <dd><a href="1.4.0/">1.4.0</a></dd>
          
        
          
          <dd><a href="1.3.0/">1.3.0</a></dd>
          
        
          
          <dd><a href="1.2.5/">1.2.5</a></dd>
          
        
          
          <dd><a href="1.2.4/">1.2.4</a></dd>
          
        
          
          <dd><a href="1.2.3/">1.2.3</a></dd>
          
        
          
          <dd><a href="1.2.2/">1.2.2</a></dd>
          
        
          
          <dd><a href="1.2.1/">1.2.1</a></dd>
          
        
          
          <dd><a href="1.2.0/">1.2.0</a></dd>
          
        
          
          <dd><a href="1.0.1/">1.0.1</a></dd>
          
        
          
          <dd><a href="1.0.0/">1.0.0</a></dd>
          
        
          
          <dd><a href="0.3.0/">0.3.0</a></dd>
          
        
          
          <dd><a href="0.2.0/">0.2.0</a></dd>
          
        
          
          <dd><a href="0.1.0/">0.1.0</a></dd>
          
        
      </dl>
      
      
      
    </div>


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>