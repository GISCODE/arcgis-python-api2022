

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>arcgis.features.analysis module &mdash; arcgis 1.8.2 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="arcgis.features.analyze_patterns module" href="arcgis.features.analyze_patterns.html" />
    <link rel="prev" title="arcgis.features module" href="arcgis.features.toc.html" />
<!-- This code block is inserted close near the <head> tag. See http://bit.ly/2BHUQzB -->
<!-- The point of this code block is to send us google analytics on website views -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NJGGV5');</script>
 

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> arcgis
          

          
            
            <img src="_static/python_api_logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                1.8.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">arcgis</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="arcgis.gis.toc.html">arcgis.gis module</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.env.html">arcgis.env module</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="arcgis.features.toc.html">arcgis.features module</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="arcgis.features.toc.html#feature">Feature</a></li>
<li class="toctree-l2"><a class="reference internal" href="arcgis.features.toc.html#featurelayer">FeatureLayer</a></li>
<li class="toctree-l2"><a class="reference internal" href="arcgis.features.toc.html#table">Table</a></li>
<li class="toctree-l2"><a class="reference internal" href="arcgis.features.toc.html#featurelayercollection">FeatureLayerCollection</a></li>
<li class="toctree-l2"><a class="reference internal" href="arcgis.features.toc.html#featureset">FeatureSet</a></li>
<li class="toctree-l2"><a class="reference internal" href="arcgis.features.toc.html#featurecollection">FeatureCollection</a></li>
<li class="toctree-l2"><a class="reference internal" href="arcgis.features.toc.html#geoaccessor">GeoAccessor</a></li>
<li class="toctree-l2"><a class="reference internal" href="arcgis.features.toc.html#geoseriesaccessor">GeoSeriesAccessor</a></li>
<li class="toctree-l2"><a class="reference internal" href="arcgis.features.toc.html#spatialdataframe">SpatialDataFrame</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="arcgis.features.toc.html#submodules">Submodules</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">arcgis.features.analysis module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#aggregate-points">aggregate_points</a></li>
<li class="toctree-l4"><a class="reference internal" href="#calculate-density">calculate_density</a></li>
<li class="toctree-l4"><a class="reference internal" href="#connect-origins-to-destinations">connect_origins_to_destinations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#create-buffers">create_buffers</a></li>
<li class="toctree-l4"><a class="reference internal" href="#create-drive-time-areas">create_drive_time_areas</a></li>
<li class="toctree-l4"><a class="reference internal" href="#create-route-layers">create_route_layers</a></li>
<li class="toctree-l4"><a class="reference internal" href="#create-viewshed">create_viewshed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#create-watersheds">create_watersheds</a></li>
<li class="toctree-l4"><a class="reference internal" href="#derive-new-locations">derive_new_locations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dissolve-boundaries">dissolve_boundaries</a></li>
<li class="toctree-l4"><a class="reference internal" href="#enrich-layer">enrich_layer</a></li>
<li class="toctree-l4"><a class="reference internal" href="#extract-data">extract_data</a></li>
<li class="toctree-l4"><a class="reference internal" href="#find-existing-locations">find_existing_locations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#find-hot-spots">find_hot_spots</a></li>
<li class="toctree-l4"><a class="reference internal" href="#find-nearest">find_nearest</a></li>
<li class="toctree-l4"><a class="reference internal" href="#find-point-clusters">find_point_clusters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#find-similar-locations">find_similar_locations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#find-centroids">find_centroids</a></li>
<li class="toctree-l4"><a class="reference internal" href="#interpolate-points">interpolate_points</a></li>
<li class="toctree-l4"><a class="reference internal" href="#join-features">join_features</a></li>
<li class="toctree-l4"><a class="reference internal" href="#merge-layers">merge_layers</a></li>
<li class="toctree-l4"><a class="reference internal" href="#overlay-layers">overlay_layers</a></li>
<li class="toctree-l4"><a class="reference internal" href="#plan-routes">plan_routes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#summarize-nearby">summarize_nearby</a></li>
<li class="toctree-l4"><a class="reference internal" href="#summarize-center-and-dispersion">summarize_center_and_dispersion</a></li>
<li class="toctree-l4"><a class="reference internal" href="#summarize-within">summarize_within</a></li>
<li class="toctree-l4"><a class="reference internal" href="#trace-downstream">trace_downstream</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="arcgis.features.analyze_patterns.html">arcgis.features.analyze_patterns module</a></li>
<li class="toctree-l3"><a class="reference internal" href="arcgis.features.elevation.html">arcgis.features.elevation module</a></li>
<li class="toctree-l3"><a class="reference internal" href="arcgis.features.enrich_data.html">arcgis.features.enrich_data module</a></li>
<li class="toctree-l3"><a class="reference internal" href="arcgis.features.find_locations.html">arcgis.features.find_locations module</a></li>
<li class="toctree-l3"><a class="reference internal" href="arcgis.features.hydrology.html">arcgis.features.hydrology module</a></li>
<li class="toctree-l3"><a class="reference internal" href="arcgis.features.manage_data.html">arcgis.features.manage_data module</a></li>
<li class="toctree-l3"><a class="reference internal" href="arcgis.features.managers.html">arcgis.features.managers module</a></li>
<li class="toctree-l3"><a class="reference internal" href="arcgis.features.summarize_data.html">arcgis.features.summarize_data module</a></li>
<li class="toctree-l3"><a class="reference internal" href="arcgis.features.use_proximity.html">arcgis.features.use_proximity module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.raster.toc.html">arcgis.raster module</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.network.toc.html">arcgis.network module</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.geoanalytics.toc.html">arcgis.geoanalytics module</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.geocoding.html">arcgis.geocoding module</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.geoenrichment.html">arcgis.geoenrichment module</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.geometry.html">arcgis.geometry module</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.geoprocessing.html">arcgis.geoprocessing module</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.mapping.toc.html">arcgis.mapping module</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.realtime.html">arcgis.realtime module</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.schematics.html">arcgis.schematics module</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.widgets.html">arcgis.widgets module</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.apps.html">arcgis.apps module</a></li>
<li class="toctree-l1"><a class="reference internal" href="arcgis.learn.html">arcgis.learn module</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">arcgis</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="arcgis.features.toc.html">arcgis.features module</a> &raquo;</li>
        
      <li>arcgis.features.analysis module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
<!-- This code block is inserted close near the <body> tag. See http://bit.ly/2BHUQzB -->
<!-- The point of this code block is to send us google analytics on website views -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NJGGV5"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

  <div class="section" id="arcgis-features-analysis-module">
<span id="featureinput"></span><h1>arcgis.features.analysis module<a class="headerlink" href="#arcgis-features-analysis-module" title="Permalink to this headline">¶</a></h1>
<p><strong>Feature Input</strong></p>
<blockquote>
<div><dl class="simple">
<dt>All standard spatial analysis tools accept features as input. Features can be specified in one of the following ways:</dt><dd><ul class="simple">
<li><p>Item (of type <a class="reference internal" href="arcgis.features.toc.html#arcgis.features.FeatureLayerCollection" title="arcgis.features.FeatureLayerCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Feature</span> <span class="pre">Layer</span> <span class="pre">Collection</span></code></a> or <a class="reference internal" href="arcgis.features.toc.html#arcgis.features.FeatureCollection" title="arcgis.features.FeatureCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Feature</span> <span class="pre">Collection</span></code></a>) - only the first feature layer is used</p></li>
<li><p>Instance of <a class="reference internal" href="arcgis.features.toc.html#arcgis.features.FeatureLayer" title="arcgis.features.FeatureLayer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Feature</span> <span class="pre">Layer</span></code></a>, <a class="reference internal" href="arcgis.features.toc.html#arcgis.features.FeatureLayerCollection" title="arcgis.features.FeatureLayerCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Feature</span> <span class="pre">Layer</span> <span class="pre">Collection</span></code></a>, or <a class="reference internal" href="arcgis.features.toc.html#arcgis.features.FeatureCollection" title="arcgis.features.FeatureCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Feature</span> <span class="pre">Collection</span></code></a></p></li>
<li><p>Feature Service URL as a string,</p></li>
<li><p>Python dict in the format outlined in the REST API <a class="reference external" href="https://developers.arcgis.com/rest/analysis/api-reference/feature-input.htm">featureCollection</a></p></li>
</ul>
</dd>
<dt>For point feature layers, the following inputs may additonally be used for convenience:</dt><dd><ul class="simple">
<li><p>(lat, long) pair for point feature layer</p></li>
<li><p>dict with ‘location’ as key (eg result from geocoding)</p></li>
</ul>
</dd>
</dl>
</div></blockquote>
<span class="target" id="module-arcgis.features.analysis"></span><p>All the spatial analysis tools from the analyze_patterns, enrich_data, find_locations, manage_data, summarize_data and
use_proximity submodules, in one place for convenience.</p>
<div class="section" id="aggregate-points">
<h2>aggregate_points<a class="headerlink" href="#aggregate-points" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="arcgis.features.analysis.aggregate_points">
<code class="sig-prename descclassname">arcgis.features.analysis.</code><code class="sig-name descname">aggregate_points</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">point_layer</span></em>, <em class="sig-param"><span class="n">polygon_layer</span></em>, <em class="sig-param"><span class="n">keep_boundaries_with_no_points</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">summary_fields</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">group_by_field</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">minority_majority</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">percent_points</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">output_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">context</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">estimate</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">future</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">bin_type</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">bin_size</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">bin_size_unit</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.features.analysis.aggregate_points" title="Permalink to this definition">¶</a></dt>
<dd><img alt="_images/aggregate_points.png" src="_images/aggregate_points.png" />
<p>The Aggregate Points task works with a layer of point features and a layer of polygon features. It first figures out which points fall within each polygon’s area.
After determining this point-in-polygon spatial relationship, statistics about all points in the polygon are calculated and assigned to the area. The most basic statistic is the count of the number of points within the polygon, but you can get other statistics as well.
For example, if your points represented coffee shops and each point has a TOTAL_SALES attribute, you can get statistics like the sum of all TOTAL_SALES within the polygon, or the minimum or maximum TOTAL_SALES value, or the standard deviation of all sales within the polygon.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 5%" />
<col style="width: 95%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Parameter</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>point_layer</p></td>
<td><p>Required point layer. The point features that will be aggregated into the polygons in the polygon_layer. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p>polygon_layer</p></td>
<td><p>Required polygon layer. The polygon features (areas) into which the input points will be aggregated. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p></td>
</tr>
<tr class="row-even"><td><p>keep_boundaries_with_no_points</p></td>
<td><p>Optional boolean. A Boolean value that specifies whether the polygons that have no points within them should be returned in the output. The default is true.</p></td>
</tr>
<tr class="row-odd"><td><p>summary_fields</p></td>
<td><p>Optional list of strings. A list of field names and statistical summary type that you wish to calculate for all points within each polygon.
Note that the count of points within each polygon is always returned.
summary type is one of the following:</p>
<ul class="simple">
<li><p>Sum - Adds the total value of all the points in each polygon</p></li>
<li><p>Mean - Calculates the average of all the points in each polygon.</p></li>
<li><p>Min - Finds the smallest value of all the points in each polygon.</p></li>
<li><p>Max - Finds the largest value of all the points in each polygon.</p></li>
<li><p>Stddev - Finds the standard deviation of all the points in each polygon.</p></li>
</ul>
<p>Example [fieldName1 summaryType1,fieldName2 summaryType2].</p>
</td>
</tr>
<tr class="row-even"><td><p>group_by_field</p></td>
<td><p>Optional string. A field name in the point_layer. Points that have the same value for the group by field will have their own counts and summary field statistics. You can create statistical groups using an attribute in the analysis layer. For example, if you are aggregating crimes to neighborhood boundaries, you may have an attribute Crime_type with five different crime types. Each unique crime type forms a group, and the statistics you choose will be calculated for each unique value of Crime_type. When you choose a grouping attribute, two results are created: the result layer and a related table containing the statistics.</p></td>
</tr>
<tr class="row-odd"><td><p>minority_majority</p></td>
<td><p>Optional boolean. This boolean parameter is applicable only when a group_by_field is specified. If true, the minority (least dominant) or the majority (most dominant) attribute values for each group field within each boundary are calculated. Two new fields are added to the aggregated_layer prefixed with <a href="#id10"><span class="problematic" id="id11">Majority_</span></a> and <a href="#id12"><span class="problematic" id="id13">Minority_</span></a>.
The default is false.</p></td>
</tr>
<tr class="row-even"><td><p>percent_points</p></td>
<td><p>Optional boolean. This boolean parameter is applicable only when a group_by_field is specified. If set to true, the percentage count of points for each unique group_by_field value is calculated. A new field is added to the group summary output table containing the percentages of each attribute value within each group. If minority_majority is true, two additional fields are added to the aggregated_layer containing the percentages of the minority and majority attribute values within each group.</p></td>
</tr>
<tr class="row-odd"><td><p>output_name</p></td>
<td><p>Optional string. Output Features Name (str). Optional parameter.</p></td>
</tr>
<tr class="row-even"><td><p>context</p></td>
<td><p>Optional string. Context contains additional settings that affect task execution. For Aggregate Points, there are two settings.</p>
<ol class="arabic simple">
<li><p>Extent (extent)-a bounding box that defines the analysis area. Only those points in the input pointLayer that intersect the bounding box will be analyzed.</p></li>
<li><p>Output Spatial Reference (outSR) the output features will be projected into the output spatial reference.</p></li>
</ol>
</td>
</tr>
<tr class="row-odd"><td><p>gis</p></td>
<td><p>Optional, the GIS on which this tool runs. If not specified, the active GIS is used.</p></td>
</tr>
<tr class="row-even"><td><p>estimate</p></td>
<td><p>Optional Boolean. If True, the number of credits to run the operation will be returned.</p></td>
</tr>
<tr class="row-odd"><td><p>future</p></td>
<td><p>Optional Boolean. When True, the task will be performed asynchronously.</p></td>
</tr>
<tr class="row-even"><td><p>bin_type</p></td>
<td><p>Optional String. The type of bin that will be generated and points will be aggregated into. Bin options are as follows: Hexagon and Square.
Square is the Default. When generating bins, for Square, the number and units specified determine the height and length of the square.
For Hexagon, the number and units specified determine the distance between parallel sides. Either <cite>bin_type</cite> or <cite>polygon_layer</cite> must be
specified. If <cite>bin_type</cite> is chosen, then <cite>bin_size</cite> and <cite>bin_size_unit</cite> specifying the size of the bins must be included.</p></td>
</tr>
<tr class="row-odd"><td><p>bin_size</p></td>
<td><p>Optional Float. The distance for the bins of type <cite>bin_type</cite> that the <cite>point_layer</cite> will be aggregated into.</p></td>
</tr>
<tr class="row-even"><td><p>bin_size_unit</p></td>
<td><p>Optional String. The linear unit to be used with the distance value specified in <cite>bin_size</cite>.
Values: <cite>Meters, Kilometers, Feet, Miles, NauticalMiles, or Yards</cite></p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>result_layer : feature layer Item if output_name is specified, else Feature Collection.</p>
</dd>
</dl>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">USAGE</span> <span class="n">EXAMPLE</span><span class="p">:</span> <span class="n">To</span> <span class="n">find</span> <span class="n">number</span> <span class="n">of</span> <span class="n">permits</span> <span class="n">issued</span> <span class="ow">in</span> <span class="n">each</span> <span class="nb">zip</span> <span class="n">code</span> <span class="n">of</span> <span class="n">US</span><span class="o">.</span>

<span class="n">agg_result</span> <span class="o">=</span> <span class="n">aggregate_points</span><span class="p">(</span><span class="n">point_layer</span><span class="o">=</span><span class="n">permits</span><span class="p">,</span>
                        <span class="n">polygon_layer</span><span class="o">=</span><span class="n">zip_codes</span><span class="p">,</span>
                        <span class="n">keep_boundaries_with_no_points</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                        <span class="n">summary_fields</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;DeclValNu mean&quot;</span><span class="p">,</span><span class="s2">&quot;DeclValNu2 mean&quot;</span><span class="p">],</span>
                        <span class="n">group_by_field</span><span class="o">=</span><span class="s1">&#39;Declared_V&#39;</span><span class="p">,</span>
                        <span class="n">minority_majority</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                        <span class="n">percent_points</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                        <span class="n">output_name</span><span class="o">=</span><span class="s2">&quot;aggregated_permits&quot;</span><span class="p">,</span>
                        <span class="n">context</span><span class="o">=</span><span class="s1">&#39;{&quot;extent&quot;:{&quot;xmin&quot;:-8609738.077325115,&quot;ymin&quot;:4743483.445485223,&quot;xmax&quot;:-8594030.268012533,&quot;ymax&quot;:4752206.821338257,&quot;spatialReference&quot;:{&quot;wkid&quot;:102100,&quot;latestWkid&quot;:3857}}}&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="calculate-density">
<h2>calculate_density<a class="headerlink" href="#calculate-density" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="arcgis.features.analysis.calculate_density">
<code class="sig-prename descclassname">arcgis.features.analysis.</code><code class="sig-name descname">calculate_density</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_layer</span></em>, <em class="sig-param"><span class="n">field</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cell_size</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cell_size_units</span><span class="o">=</span><span class="default_value">'Meters'</span></em>, <em class="sig-param"><span class="n">radius</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">radius_units</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">bounding_polygon_layer</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">area_units</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">classification_type</span><span class="o">=</span><span class="default_value">'EqualInterval'</span></em>, <em class="sig-param"><span class="n">num_classes</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">output_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">context</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">estimate</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">future</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.features.analysis.calculate_density" title="Permalink to this definition">¶</a></dt>
<dd><img alt="_images/calculate_density.png" src="_images/calculate_density.png" />
<p>The calculate_density function creates a density map from point or line features by spreading known quantities of
some phenomenon (represented as attributes of the points or lines) across the map. The result is a layer of areas
classified from least dense to most dense.</p>
<p>For point input, each point should represent the location of some event     or incident, and the result layer represents
a count of the incident per unit area. A higher density value in a new location means that there are more points near
that location. In many cases, the result layer can be interpreted as a risk surface for future events. For example,
if the input points represent locations of lightning strikes, the result layer can be interpreted as a risk surface
for future lightning strikes.</p>
<p>For line input, the line density surface represents the total amount of line that is near each location. The units of
the calculated density values are the length of line per unit area. For example, if the lines represent rivers, the
result layer will represent the total length of rivers that are within the search radius. This result can be used to
identify areas that are hospitable to grazing animals.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 6%" />
<col style="width: 94%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>input_layer</p></td>
<td><p>Required layer. The point or line features from which to calculate density. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p>field</p></td>
<td><p>Optional string. A numeric field name specifying the number of incidents at each location.  For example, if you have points that represent cities, you can use a field representing the population of the city as the count field, and the resulting population density layer will calculate larger population densities near cities with larger populations. If not specified, each location will be assumed to represent a single count.</p></td>
</tr>
<tr class="row-even"><td><p>cell_size</p></td>
<td><p>Optional float. This value is used to create a mesh of points where density values are calculated. The default is approximately 1/1000th of the smaller of the width and height of the analysis extent as defined in the context parameter. The smaller the value, the smoother the polygon boundaries will be. Conversely, with larger values, the polygon boundaries will be more coarse and jagged.</p></td>
</tr>
<tr class="row-odd"><td><p>cell_size_units</p></td>
<td><p>Optional string. The units of the cell_size value.
Choice list: [‘Miles’, ‘Feet’, ‘Kilometers’,  ‘Meters’]</p></td>
</tr>
<tr class="row-even"><td><p>radius</p></td>
<td><p>Optional float. A distance specifying how far to search to find point or line features when calculating density values.</p></td>
</tr>
<tr class="row-odd"><td><p>radius_units</p></td>
<td><p>Optional string. The units of the radius parameter. If no distance is provided, a default will be calculated that is based on the locations of the input features and the values in the count field (if a count field is provided).
Choice list: [‘Miles’, ‘Feet’, ‘Kilometers’,  ‘Meters’]</p></td>
</tr>
<tr class="row-even"><td><p>bounding_polygon_layer</p></td>
<td><p>Optional layer. A layer specifying the polygon(s) where you want densities to be calculated. For example, if you are interpolating densities of fish within a lake, you can use the boundary of the lake in this parameter and the output will only draw within the boundary of the lake. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p>area_units</p></td>
<td><p>Optional string. The units of the calculated density values.
Choice list: [‘areaUnits’, ‘SquareMiles’]</p></td>
</tr>
<tr class="row-even"><td><p>classification_type</p></td>
<td><p>Optional string. Determines how density values will be classified into polygons.
Choice list: [‘EqualInterval’, ‘GeometricInterval’, ‘NaturalBreaks’, ‘EqualArea’, ‘StandardDeviation’]</p>
<blockquote>
<div><ul class="simple">
<li><p>EqualInterval - Polygons are created such that the range of density values is equal for each area.</p></li>
<li><p>GeometricInterval - Polygons are based on class intervals that have a geometric series. This method ensures that each class range has approximately the same number of values within each class and that the change between intervals is consistent.</p></li>
<li><p>NaturalBreaks - Class intervals for polygons are based on natural groupings of the data. Class break values are identified that best group similar values and that maximize the differences between classes.</p></li>
<li><p>EqualArea - Polygons are created such that the size of each area is equal. For example, if the result has more high density values than low density values, more polygons will be created for high densities.</p></li>
<li><p>StandardDeviation - Polygons are created based upon the standard deviation of the predicted density values.</p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-odd"><td><p>num_classes</p></td>
<td><p>Optional int. This value is used to divide the range of predicted values into distinct classes. The range of values in each class is determined by the classification_type parameter.</p></td>
</tr>
<tr class="row-even"><td><p>output_name</p></td>
<td><p>Optional string. Additional properties such as output feature service name.</p></td>
</tr>
<tr class="row-odd"><td><p>context</p></td>
<td><p>Optional string. Additional settings such as processing extent and output spatial reference. For calculate_density, there are two settings.</p>
<ol class="arabic simple">
<li><p>Extent (extent)-a bounding box that defines the analysis area. Only those points in the input_layer that intersect the bounding box will be analyzed.</p></li>
<li><p>Output Spatial Reference (outSR) the output features will be projected into the output spatial reference.</p></li>
</ol>
</td>
</tr>
<tr class="row-even"><td><p>gis</p></td>
<td><p>Optional, the GIS on which this tool runs. If not specified, the active GIS is used.</p></td>
</tr>
<tr class="row-odd"><td><p>estimate</p></td>
<td><p>Optional Boolean. Is true, the number of credits needed to run the operation will be returned as a float.</p></td>
</tr>
<tr class="row-even"><td><p>future</p></td>
<td><p>Optional boolean. If True, the result will be a GPJob object and results will be returned asynchronously.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>result_layer : feature layer Item if output_name is specified, else Feature Collection.</p>
</dd>
</dl>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">USAGE</span> <span class="n">EXAMPLE</span><span class="p">:</span> <span class="n">To</span> <span class="n">create</span> <span class="n">a</span> <span class="n">layer</span> <span class="n">that</span> <span class="n">shows</span> <span class="n">density</span> <span class="n">of</span> <span class="n">collisions</span> <span class="n">within</span> <span class="mi">2</span> <span class="n">miles</span><span class="o">.</span>
               <span class="n">The</span> <span class="n">density</span> <span class="ow">is</span> <span class="n">classified</span> <span class="n">based</span> <span class="n">upon</span> <span class="n">the</span> <span class="n">standard</span> <span class="n">deviation</span><span class="o">.</span>
               <span class="n">The</span> <span class="nb">range</span> <span class="n">of</span> <span class="n">density</span> <span class="n">values</span> <span class="ow">is</span> <span class="n">divided</span> <span class="n">into</span> <span class="mi">5</span> <span class="n">classes</span><span class="o">.</span>

<span class="n">collision_density</span> <span class="o">=</span> <span class="n">calculate_density</span><span class="p">(</span><span class="n">input_layer</span><span class="o">=</span><span class="n">collisions</span><span class="p">,</span>
                                <span class="n">radius</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                                <span class="n">radius_units</span><span class="o">=</span><span class="s1">&#39;Miles&#39;</span><span class="p">,</span>
                                <span class="n">bounding_polygon_layer</span><span class="o">=</span><span class="n">zoning_lyr</span><span class="p">,</span>
                                <span class="n">area_units</span><span class="o">=</span><span class="s1">&#39;SquareMiles&#39;</span><span class="p">,</span>
                                <span class="n">classification_type</span><span class="o">=</span><span class="s1">&#39;StandardDeviation&#39;</span><span class="p">,</span>
                                <span class="n">num_classes</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
                                <span class="n">output_name</span><span class="o">=</span><span class="s1">&#39;density_of_incidents&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="connect-origins-to-destinations">
<h2>connect_origins_to_destinations<a class="headerlink" href="#connect-origins-to-destinations" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="arcgis.features.analysis.connect_origins_to_destinations">
<code class="sig-prename descclassname">arcgis.features.analysis.</code><code class="sig-name descname">connect_origins_to_destinations</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">origins_layer</span></em>, <em class="sig-param"><span class="n">destinations_layer</span></em>, <em class="sig-param"><span class="n">measurement_type</span><span class="o">=</span><span class="default_value">'DrivingTime'</span></em>, <em class="sig-param"><span class="n">origins_layer_route_id_field</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">destinations_layer_route_id_field</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">time_of_day</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">time_zone_for_time_of_day</span><span class="o">=</span><span class="default_value">'GeoLocal'</span></em>, <em class="sig-param"><span class="n">output_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">context</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">estimate</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">point_barrier_layer</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">line_barrier_layer</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">polygon_barrier_layer</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">future</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">route_shape</span><span class="o">=</span><span class="default_value">'FollowStreets'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.features.analysis.connect_origins_to_destinations" title="Permalink to this definition">¶</a></dt>
<dd><img alt="_images/connect_origins_to_destinations.png" src="_images/connect_origins_to_destinations.png" />
<p>The Connect Origins to Destinations task measures the travel time or distance between pairs of points. Using this tool, you can</p>
<ul class="simple">
<li><p>Calculate the total distance or time commuters travel on their home-to-work trips.</p></li>
<li><p>Measure how far customers are traveling to shop at your stores. Use this information to define your market reach, especially when targeting advertising campaigns or choosing new store locations.</p></li>
<li><p>Calculate the expected trip mileage for your fleet of vehicles. Afterward, run the Summarize Within tool to report mileage by state or other region.</p></li>
</ul>
<p>You provide starting and ending points, and the tool returns a layer containing route lines, including measurements, between the
paired origins and destinations.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11%" />
<col style="width: 89%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>origins_layer</p></td>
<td><p>Required layer. The starting point or points of the routes to be generated. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p>destinations_layer</p></td>
<td><p>Required layer. The routes end at points in the destinations layer. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p></td>
</tr>
<tr class="row-even"><td><p>measurement_type</p></td>
<td><p>Required string. The origins and destinations can be connected by measuring straight-line distance,
or by measuring travel time or travel distance along a street network using various modes of transportation
known as travel modes.</p>
<p>Valid values are a string, StraightLine, which indicates Euclidean distance to be used as distance measure or
a Python dictionary representing settings for a travel mode.</p>
<p>When using a travel mode for the measurement_type, you need to specify a dictionary
containing the settings for a travel mode supported by your organization. The code in the example section below generates
a valid Python dictionary and then passes it as the value for the measurement_type parameter.</p>
<p>Supported travel modes: [‘Driving Distance’, ‘Driving Time’, ‘Rural Driving Distance’, ‘Rural Driving Time’,
‘Trucking Distance’, ‘Trucking Time’, ‘Walking Distance’, ‘Walking Time’]</p>
</td>
</tr>
<tr class="row-odd"><td><p>origins_layer_route_id_field</p></td>
<td><p>Optional string. Specify the field in the origins layer containing the IDs that pair origins with destinations.</p>
<ul class="simple">
<li><p>The ID values must uniquely identify points in the origins layer.</p></li>
<li><p>Each ID value must also correspond with exactly one route ID value in the destinations layer. Route IDs that match
across the layers create origin-destination pairs, which the tool connects together.</p></li>
<li><p>Specifying origins_layer_route_id_field is optional when there is exactly one point feature in the origins or
destinations layer. The tool will connect all origins to the one destination or the one origin to all destinations,
depending on which layer contains one point.</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p>destinations_layer_route_id_field</p></td>
<td><p>Optional string. Specify the field in the destinations layer containing the IDs that pair origins with destinations.</p>
<ul class="simple">
<li><p>The ID values must uniquely identify points in the destinations layer.</p></li>
<li><p>Each ID value must also correspond with exactly one route ID value in the origins layer. Route IDs that match across the
layers create origin-destination pairs, which the tool connects together.</p></li>
<li><p>Specifying destinations_layer_route_id_field is optional when there is exactly one point feature in the origins or
destinations layer. The tool will connect all origins to the one destination or the one origin to all destinations,
depending on which layer contains one point.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>time_of_day</p></td>
<td><p>Optional datetime.datetime. Specify whether travel times should consider traffic conditions. To use traffic in the analysis,
set measurement_type to a travel mode object whose impedance_attribute_name property is set to travel_time and assign a value
to time_of_day. (A travel mode with other impedance_attribute_name values don’t support traffic.) The time_of_day value represents
the time at which travel begins, or departs, from the origin points. The time is specified as datetime.datetime.</p>
<p>The service supports two kinds of traffic: typical and live. Typical traffic references travel speeds that are made up of historical
averages for each five-minute interval spanning a week. Live traffic retrieves speeds from a traffic feed that processes phone probe
records, sensors, and other data sources to record actual travel speeds and predict speeds for the near future.</p>
<p>The <a class="reference external" href="http://www.arcgis.com/home/webmap/viewer.html?webmap=b7a893e8e1e04311bd925ea25cb8d7c7">data coverage</a> page shows the countries
Esri currently provides traffic data for.</p>
<p>Typical Traffic:</p>
<p>To ensure the task uses typical traffic in locations where it is available, choose a time and day of the week, and then convert the day
of the week to one of the following dates from 1990:</p>
<ul class="simple">
<li><p>Monday - 1/1/1990</p></li>
<li><p>Tuesday - 1/2/1990</p></li>
<li><p>Wednesday - 1/3/1990</p></li>
<li><p>Thursday - 1/4/1990</p></li>
<li><p>Friday - 1/5/1990</p></li>
<li><p>Saturday - 1/6/1990</p></li>
<li><p>Sunday - 1/7/1990</p></li>
</ul>
<p>Set the time and date as datetime.datetime.</p>
<p>For example, to solve for 1:03 p.m. on Thursdays, set the time and date to 1:03 p.m., 4 January 1990; and convert to
datetime eg. datetime.datetime(1990, 1, 4, 1, 3).</p>
<p>Live Traffic:</p>
<p>To use live traffic when and where it is available, choose a time and date and convert to datetime.</p>
<p>Esri saves live traffic data for 12 hours and references predictive data extending 12 hours into the future. If the time and date you
specify for this parameter is outside the 24-hour time window, or the travel time in the analysis continues past the predictive data window, the task falls back to typical traffic speeds.</p>
<p>Examples:
from datetime import datetime</p>
<ul class="simple">
<li><p>“time_of_day”: datetime(1990, 1, 4, 1, 3) # 13:03, 4 January 1990. Typical traffic on Thursdays at 1:03 p.m.</p></li>
<li><p>“time_of_day”: datetime(1990, 1, 7, 17, 0) # 17:00, 7 January 1990. Typical traffic on Sundays at 5:00 p.m.</p></li>
<li><p>“time_of_day”: datetime(2014, 10, 22, 8, 0) # 8:00, 22 October 2014. If the current time is between 8:00 p.m., 21 Oct. 2014 and 8:00 p.m., 22 Oct. 2014,
live traffic speeds are referenced in the analysis; otherwise, typical traffic speeds are referenced.</p></li>
<li><p>“time_of_day”: datetime(2015, 3, 18, 10, 20) # 10:20, 18 March 2015. If the current time is between 10:20 p.m., 17 Mar. 2015 and 10:20 p.m., 18 Mar. 2015,
live traffic speeds are referenced in the analysis; otherwise, typical traffic speeds are referenced.</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p>time_zone_for_time_of_day</p></td>
<td><p>Optional string. Specify the time zone or zones of the timeOfDay parameter.
Choice list: [‘GeoLocal’, ‘UTC’]</p>
<p>GeoLocal-refers to the time zone in which the originsLayer points are located.</p>
<p>UTC-refers to Coordinated Universal Time.</p>
</td>
</tr>
<tr class="row-odd"><td><p>include_route_layers</p></td>
<td><p>Optional Boolean. When include_route_layers is set to True, each route from the result is also saved as a route layer item. A route layer includes all the
information for a particular route such as the stops assigned to the route as well as the travel directions. Creating route layers is useful if you want
to share individual routes with other members in your organization. The route layers use the output feature service name provided in the outputName
parameter as a prefix and the route name generated as part of the analysis is added to create a unique name for each route layer.</p>
<p>Caution: Route layers cannot be created when the output is a feature collection. The task will raise an error if output_name is not specified
(which indicates feature collection output) and include_route_layers is True.</p>
<p>The maximum number of route layers that can be created is 1,000. If the result contains more than 1,000 routes and include_route_layers is True,
the task will only create the output feature service.</p>
</td>
</tr>
<tr class="row-even"><td><p>output_name</p></td>
<td><p>Optional string. If provided, the task will create a feature layer of the results. You define the name of the layer. If output_name is not supplied,
the task will return a feature collection.</p></td>
</tr>
<tr class="row-odd"><td><p>context</p></td>
<td><p>Optional string. Additional settings such as processing extent and output spatial reference. For calculate_density, there are two settings.</p>
<ol class="arabic simple">
<li><p>Extent (extent)-a bounding box that defines the analysis area. Only those points in the origins_layer and destinations_layer that intersect the
bounding box will be analyzed.</p></li>
<li><p>Output Spatial Reference (outSR)-If the output is a feature service, the spatial reference will be the same as originsLayer. Setting outSR for feature services has no effect.
If the output is a feature collection, the features will be in the spatial reference of the outSRvalue or the spatial reference of originsLayer when outSR is not specified.</p></li>
</ol>
</td>
</tr>
<tr class="row-even"><td><p>gis</p></td>
<td><p>Optional, the GIS on which this tool runs. If not specified, the active GIS is used.</p></td>
</tr>
<tr class="row-odd"><td><p>estimate</p></td>
<td><p>Optional Boolean. Is True, the number of credits needed to run the operation will be returned as a float.</p></td>
</tr>
<tr class="row-even"><td><p>point_barrier_layer</p></td>
<td><p>Optional layer. Specify one or more point features that act as temporary restrictions (in other words, barriers) when traveling on the underlying streets.</p>
<p>A point barrier can model a fallen tree, an accident, a downed electrical line, or anything that completely blocks traffic at a specific position along
the street. Travel is permitted on the street but not through the barrier. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p>
</td>
</tr>
<tr class="row-odd"><td><p>line_barrier_layer</p></td>
<td><p>Optional layer. Specify one or more line features that prohibit travel anywhere the lines intersect the streets.</p>
<p>A line barrier prohibits travel anywhere the barrier intersects the streets. For example, a parade or protest that blocks traffic across several street
segments can be modeled with a line barrier. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p>
</td>
</tr>
<tr class="row-even"><td><p>polygon_barrier_layer</p></td>
<td><p>Optional string. Specify one or more polygon features that completely restrict travel on the streets intersected by the polygons.</p>
<p>One use of this type of barrier is to model floods covering areas of the street network and making road travel there impossible. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p>
</td>
</tr>
<tr class="row-odd"><td><p>future</p></td>
<td><p>Optional boolean. If True, the result will be a GPJob object and results will be returned asynchronously.</p></td>
</tr>
<tr class="row-even"><td><p>route_shape</p></td>
<td><p>Optional String. Specify the shape of the route that connects each origin to it’s destination when using a travel mode.</p>
<p>Values: FollowStreets or StraightLine</p>
<p>Default: FollowStreets</p>
<blockquote>
<div><ul class="simple">
<li><p>FollowStreets - The shape is based on the underlying street network. This option is best when you want to generate the routes between origins and destinations. This is the default value when using a travel mode.</p></li>
<li><p>StraightLine - The shape is a straight line connecting the origin-destination pair. This option is best when you want to generate spider diagrams or desire lines (for example, to show which stores customers are visiting). This is the default value when not using a travel mode.</p></li>
</ul>
</div></blockquote>
<p>The best route between an origin and it’s matched destination is always calculated based on the travel mode, regardless of which route shape is chosen.</p>
</td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p>dict with the following keys:</p>
<p>”routes_layer” : layer (FeatureCollection)</p>
<p>”unassigned_origins_layer” : layer (FeatureCollection)</p>
<p>”unassigned_destinations_layer” : layer (FeatureCollection)</p>
</p>
</dd>
</dl>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">USAGE</span> <span class="n">EXAMPLE</span><span class="p">:</span> <span class="n">To</span> <span class="n">retrieve</span> <span class="n">trvel</span> <span class="n">modes</span> <span class="ow">and</span> <span class="n">run</span> <span class="n">connect_origins_to_destinations</span> <span class="n">tool</span><span class="o">.</span>

<span class="n">This</span> <span class="n">example</span> <span class="n">creates</span> <span class="n">route</span> <span class="n">between</span> <span class="n">esri</span> <span class="n">regional</span> <span class="n">offices</span> <span class="n">to</span> <span class="n">esri</span> <span class="n">headquarter</span><span class="o">.</span>

<span class="n">routes</span> <span class="o">=</span>  <span class="n">connect_origins_to_destinations</span><span class="p">(</span><span class="n">origins_layer</span><span class="o">=</span><span class="n">esri_regional</span><span class="p">,</span>
                                 <span class="n">destinations_layer</span><span class="o">=</span><span class="n">dest_layer</span><span class="p">,</span>
                                 <span class="n">measurement_type</span><span class="o">=</span><span class="s1">&#39;Rural Driving Distance&#39;</span><span class="p">,</span>
                                 <span class="n">time_of_day</span><span class="o">=</span><span class="n">datetime</span><span class="p">(</span><span class="mi">1990</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
                                 <span class="n">output_name</span><span class="o">=</span><span class="s2">&quot;routes_from_offices_to_hq&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="create-buffers">
<h2>create_buffers<a class="headerlink" href="#create-buffers" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="arcgis.features.analysis.create_buffers">
<code class="sig-prename descclassname">arcgis.features.analysis.</code><code class="sig-name descname">create_buffers</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_layer</span></em>, <em class="sig-param"><span class="n">distances</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">field</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">units</span><span class="o">=</span><span class="default_value">'Meters'</span></em>, <em class="sig-param"><span class="n">dissolve_type</span><span class="o">=</span><span class="default_value">'None'</span></em>, <em class="sig-param"><span class="n">ring_type</span><span class="o">=</span><span class="default_value">'Disks'</span></em>, <em class="sig-param"><span class="n">side_type</span><span class="o">=</span><span class="default_value">'Full'</span></em>, <em class="sig-param"><span class="n">end_type</span><span class="o">=</span><span class="default_value">'Round'</span></em>, <em class="sig-param"><span class="n">output_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">context</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">estimate</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">future</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.features.analysis.create_buffers" title="Permalink to this definition">¶</a></dt>
<dd><img alt="_images/create_buffers.png" src="_images/create_buffers.png" />
<p>The <code class="docutils literal notranslate"><span class="pre">create_buffers</span></code> task creates polygons that cover a given distance from a point,
line, or polygon feature. Buffers are typically used to create areas that can be
further analyzed using a tool such as <code class="docutils literal notranslate"><span class="pre">overlay_layers</span></code>. For example, if the question
is “What buildings are within one mile of the school?”, the answer can be found by
creating a one-mile buffer around the school and overlaying the buffer with the layer
containing building footprints. The end result is a layer of those buildings within
one mile of the school.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 84%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Parameter</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>input_layer</p></td>
<td><p>Required point, line or polygon feature layer. The input features to be buffered. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p>distances</p></td>
<td><p>Optional list of floats to buffer the input features. The distance(s) that will be buffered. You must supply values
for either the <code class="docutils literal notranslate"><span class="pre">distances</span></code> or <code class="docutils literal notranslate"><span class="pre">field</span></code> parameter. You can enter a single distance value or multiple values.
The units of the distance values is suppied by the units parameter.</p></td>
</tr>
<tr class="row-even"><td><p>field</p></td>
<td><p>Optional string. A field on the <code class="docutils literal notranslate"><span class="pre">input_layer</span></code> containing a buffer distance. Buffers will be created using field values.
Unlike the <code class="docutils literal notranslate"><span class="pre">distances</span></code> parameter, multiple distances are not supported on field input.</p></td>
</tr>
<tr class="row-odd"><td><p>units</p></td>
<td><p>Optional string. The linear unit to be used with the distance value(s) specified in distances or contained in the field value.</p>
<p>Choice list: [‘Meters’, ‘Kilometers’, ‘Feet’, ‘Miles’, ‘NauticalMiles’, ‘Yards’]</p>
<p>The default is ‘Meters’.</p>
</td>
</tr>
<tr class="row-even"><td><p>dissolve_type</p></td>
<td><p>Optional string. Determines how overlapping buffers are processed.</p>
<p>Choice list: [‘None’, ‘Dissolve’]</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 13%" />
<col style="width: 87%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><img alt="None" src="_images/None.png" /></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">None</span></code>-Overlapping areas are kept. This is the default.</p></td>
</tr>
<tr class="row-even"><td><p><img alt="Dissolve" src="_images/Dissolve.png" /></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Dissolve</span></code>-Overlapping areas are combined.</p></td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="row-odd"><td><p>ring_type</p></td>
<td><p>Optional string. Determines how multiple-distance buffers are processed.</p>
<p>Choice list: [‘Disks’, ‘Rings’]</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><img alt="Disks" src="_images/Disks.png" /></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Disks</span></code>-buffers are concentric and will overlap. For example, if your distances are 10 and 14,
the result will be two buffers, one from 0 to 10 and one from 0 to 14. This is the default.</p></td>
</tr>
<tr class="row-even"><td><p><img alt="Rings" src="_images/Rings.png" /></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Rings</span></code> buffers will not overlap. For example, if your distances are 10 and 14, the result will
be two buffers, one from 0 to 10 and one from 10 to 14.</p></td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="row-odd"><td><p>side_type</p></td>
<td><p>Optional string. When buffering line features, you can choose which side of the line to buffer.</p>
<p>Typically, you choose both sides (Full, which is the default). Left and right are determined as
if you were walking from the first x,y coordinate of the line (the start coordinate) to the last
x,y coordinate of the line (the end coordinate). Choosing left or right usually means you know
that your line features were created and stored in a particular direction (for example, upstream
or downstream in a river network).</p>
<p>When buffering polygon features, you can choose whether the buffer includes or excludes the polygon
being buffered.</p>
<p>Choice list: [‘Full’, ‘Left’, ‘Right’, ‘Outside’]</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 13%" />
<col style="width: 87%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><img alt="Full" src="_images/Full.png" /></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Full</span></code>-both sides of the line will be buffered. This is the default for line featuress.</p></td>
</tr>
<tr class="row-even"><td><p><img alt="Left" src="_images/Left.png" /></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Left</span></code>-only the right side of the line will be buffered.</p></td>
</tr>
<tr class="row-odd"><td><p><img alt="Right" src="_images/Right.png" /></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Right</span></code>-only the right side of the line will be buffered.</p></td>
</tr>
<tr class="row-even"><td><p><img alt="Outside" src="_images/Outside.png" /></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Outside</span></code> when buffering a polygon, the polygon being buffered is excluded in the result buffer.</p></td>
</tr>
<tr class="row-odd"><td><p><img alt="Unspecified" src="_images/Unspecified.png" /></p></td>
<td><p>If <code class="docutils literal notranslate"><span class="pre">side_type</span></code> not supplied, the polygon being buffered is included in the result buffer.
This is the  default for polygon features.</p></td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="row-even"><td><p>end_type</p></td>
<td><p>Optional string. The shape of the buffer at the end of line input features. This parameter is not
valid for polygon input features. At the ends of lines the buffer can be rounded (Round) or be
straight across (Flat).</p>
<p>Choice list: [‘Round’, ‘Flat’]</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><img alt="Round" src="_images/Round.png" /></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Round</span></code>-buffers will be rounded at the ends of lines. This is the default.</p></td>
</tr>
<tr class="row-even"><td><p><img alt="Flat" src="_images/Flat.png" /></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Flat</span></code>-buffers will be flat at the ends of lines.</p></td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="row-odd"><td><p>output_name</p></td>
<td><p>Optional string. Output feature service name. If not provided, a feature collection is returned.</p></td>
</tr>
<tr class="row-even"><td><p>context</p></td>
<td><p>Optional dict. Context contains additional settings that affect task execution. For <code class="docutils literal notranslate"><span class="pre">create_buffers</span></code>, there are two settings.</p>
<ol class="arabic simple">
<li><p>Extent (<code class="docutils literal notranslate"><span class="pre">extent</span></code>)-a bounding box that defines the analysis area. Only those points in the <code class="docutils literal notranslate"><span class="pre">input_layer</span></code>
that intersect the bounding box will be analyzed.</p></li>
<li><p>Output Spatial Reference (<code class="docutils literal notranslate"><span class="pre">outSR</span></code>) - the output features will be projected into the output spatial reference.</p></li>
</ol>
</td>
</tr>
<tr class="row-odd"><td><p>gis</p></td>
<td><p>Optional, the GIS on which this tool runs. If not specified, the active GIS is used.</p></td>
</tr>
<tr class="row-even"><td><p>estimate</p></td>
<td><p>Optional boolean. If True, the estimated number of credits required to run the operation will be returned.</p></td>
</tr>
<tr class="row-odd"><td><p>future</p></td>
<td><p>Optional boolean. If True, the result will be a GPJob object and results will be returned asynchronously.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>result_layer : feature layer Item if output_name is specified, else Feature Collection.</p>
</dd>
</dl>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">USAGE</span> <span class="n">EXAMPLE</span><span class="p">:</span> <span class="n">To</span> <span class="n">create</span> <span class="mi">5</span> <span class="n">mile</span> <span class="n">buffer</span> <span class="n">around</span> <span class="n">US</span> <span class="n">parks</span><span class="p">,</span> <span class="n">within</span> <span class="n">the</span> <span class="n">specified</span> <span class="n">extent</span><span class="o">.</span>

<span class="n">polygon_lyr_buffer</span> <span class="o">=</span> <span class="n">create_buffers</span><span class="p">(</span><span class="n">input_layer</span><span class="o">=</span><span class="n">parks_lyr</span><span class="p">,</span>
                         <span class="n">distances</span><span class="o">=</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>
                         <span class="n">units</span><span class="o">=</span><span class="s1">&#39;Miles&#39;</span><span class="p">,</span>
                         <span class="n">ring_type</span><span class="o">=</span><span class="s1">&#39;Rings&#39;</span><span class="p">,</span>
                         <span class="n">end_type</span><span class="o">=</span><span class="s1">&#39;Flat&#39;</span><span class="p">,</span>
                         <span class="n">output_name</span><span class="o">=</span><span class="s1">&#39;create_buffers&#39;</span><span class="p">,</span>
                         <span class="n">context</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;extent&quot;</span><span class="p">:{</span><span class="s2">&quot;xmin&quot;</span><span class="p">:</span><span class="o">-</span><span class="mf">12555831.656684224</span><span class="p">,</span><span class="s2">&quot;ymin&quot;</span><span class="p">:</span><span class="mf">5698027.566358956</span><span class="p">,</span><span class="s2">&quot;xmax&quot;</span><span class="p">:</span><span class="o">-</span><span class="mf">11835489.102124758</span><span class="p">,</span><span class="s2">&quot;ymax&quot;</span><span class="p">:</span><span class="mf">6104672.556836072</span><span class="p">,</span><span class="s2">&quot;spatialReference&quot;</span><span class="p">:{</span><span class="s2">&quot;wkid&quot;</span><span class="p">:</span><span class="mi">102100</span><span class="p">,</span><span class="s2">&quot;latestWkid&quot;</span><span class="p">:</span><span class="mi">3857</span><span class="p">}}})</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="create-drive-time-areas">
<h2>create_drive_time_areas<a class="headerlink" href="#create-drive-time-areas" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="arcgis.features.analysis.create_drive_time_areas">
<code class="sig-prename descclassname">arcgis.features.analysis.</code><code class="sig-name descname">create_drive_time_areas</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_layer</span></em>, <em class="sig-param"><span class="n">break_values</span><span class="o">=</span><span class="default_value">[5, 10, 15]</span></em>, <em class="sig-param"><span class="n">break_units</span><span class="o">=</span><span class="default_value">'Minutes'</span></em>, <em class="sig-param"><span class="n">travel_mode</span><span class="o">=</span><span class="default_value">'Driving'</span></em>, <em class="sig-param"><span class="n">overlap_policy</span><span class="o">=</span><span class="default_value">'Overlap'</span></em>, <em class="sig-param"><span class="n">time_of_day</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">time_zone_for_time_of_day</span><span class="o">=</span><span class="default_value">'GeoLocal'</span></em>, <em class="sig-param"><span class="n">output_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">context</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">estimate</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">point_barrier_layer</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">line_barrier_layer</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">polygon_barrier_layer</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">future</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">travel_direction</span><span class="o">=</span><span class="default_value">'AwayFromFacility'</span></em>, <em class="sig-param"><span class="n">show_holes</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.features.analysis.create_drive_time_areas" title="Permalink to this definition">¶</a></dt>
<dd><img alt="_images/create_drive_time_areas.png" src="_images/create_drive_time_areas.png" />
<p>The <code class="docutils literal notranslate"><span class="pre">create_drive_time_areas</span></code> method creates areas that can be reached within a
given drive time or drive distance. It can help you answer questions such as:</p>
<ul class="simple">
<li><p>How far can I drive from here in five minutes?</p></li>
<li><p>What areas are covered within a three-mile drive distance of my stores?</p></li>
<li><p>What areas are within four minutes of our fire stations?</p></li>
</ul>
<table class="docutils align-default">
<colgroup>
<col style="width: 5%" />
<col style="width: 95%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Parameter</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>input_layer</p></td>
<td><p>Required point feature layer. The points around which travel areas
based on a mode of transportation will be drawn.
See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p>travel_mode</p></td>
<td><p>Optional string or dict. Specify the mode of transportation for the analysis.</p>
<p>Choice list: [‘Driving Distance’, ‘Driving Time’, ‘Rural Driving Distance’, ‘Rural Driving Time’, ‘Trucking Distance’, ‘Trucking Time’, ‘Walking Distance’, ‘Walking Time’]</p>
<p>The default is ‘Driving Time’.</p>
</td>
</tr>
<tr class="row-even"><td><p>break_values</p></td>
<td><p>Optional list of floats. The size of the polygons to create.
The units for break_values is specified with the break_units parameter.</p>
<p>By setting many unique values in the list, polygons of different sizes are generated around each input location.</p>
<p>The default is [5, 10, 15].</p>
</td>
</tr>
<tr class="row-odd"><td><p>break_units</p></td>
<td><p>Optional string. The units of the break_values parameter.</p>
<p>To create areas showing how far you can go along roads or walkways within a given time, specify a time unit.
Alternatively, specify a distance unit to generate areas bounded by a maximum travel distance.</p>
<p>When the travel_mode is time based, a time unit should be specified for the break_units. When the
travel_mode is distance based, a distance unit should be specified for the break_units.</p>
<p>Choice list: [‘Seconds’, ‘Minutes’, Hours’, ‘Feet’, ‘Meters’, ‘Kilometers’, ‘Feet’, ‘Miles’, ‘Yards’]</p>
<p>The default is ‘Minutes’.</p>
</td>
</tr>
<tr class="row-even"><td><p>overlap_policy</p></td>
<td><p>Optional string. Determines how overlapping areas are processed.</p>
<p>Choice list: [‘Overlap’, ‘Dissolve’, ‘Split’]</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 13%" />
<col style="width: 87%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><img alt="Overlap" src="_images/Overlap.png" /></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Overlap</span></code>-Overlapping areas are kept. This is the default.</p></td>
</tr>
<tr class="row-even"><td><p><img alt="Dissolve" src="_images/Dissolve.png" /></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Dissolve</span></code>-Overlapping areas are combined by break value. Because the areas are dissolved,
use this option when you need to know the areas that can be reached within a
given time or distance, but you don’t need to know which input points are nearest.</p></td>
</tr>
<tr class="row-odd"><td><p><img alt="Split" src="_images/Split.png" /></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Split</span></code>-Overlapping areas are split in the middle. Use this option when you need to know
the one nearest input location to the covered area.</p></td>
</tr>
</tbody>
</table>
<p>The default is ‘Overlap’</p>
</td>
</tr>
<tr class="row-even"><td><p>time_of_day</p></td>
<td><p>Optional datetime.datetime. Specify whether travel times should consider traffic conditions. To use traffic in the analysis,
set measurement_type to a travel mode object whose impedance_attribute_name property is set to travel_time and assign a value
to time_of_day. (A travel mode with other impedance_attribute_name values don’t support traffic.) The time_of_day value represents
the time at which travel begins, or departs, from the origin points. The time is specified as datetime.datetime.</p>
<p>The service supports two kinds of traffic: typical and live. Typical traffic references travel speeds that are made up of historical
averages for each five-minute interval spanning a week. Live traffic retrieves speeds from a traffic feed that processes phone probe
records, sensors, and other data sources to record actual travel speeds and predict speeds for the near future.</p>
<p>The <a class="reference external" href="http://www.arcgis.com/home/webmap/viewer.html?webmap=b7a893e8e1e04311bd925ea25cb8d7c7">data coverage</a> page shows the countries
Esri currently provides traffic data for.</p>
<p>Typical Traffic:</p>
<p>To ensure the task uses typical traffic in locations where it is available, choose a time and day of the week, and then convert the day
of the week to one of the following dates from 1990:</p>
<ul class="simple">
<li><p>Monday - 1/1/1990</p></li>
<li><p>Tuesday - 1/2/1990</p></li>
<li><p>Wednesday - 1/3/1990</p></li>
<li><p>Thursday - 1/4/1990</p></li>
<li><p>Friday - 1/5/1990</p></li>
<li><p>Saturday - 1/6/1990</p></li>
<li><p>Sunday - 1/7/1990</p></li>
</ul>
<p>Set the time and date as datetime.datetime.</p>
<p>For example, to solve for 1:03 p.m. on Thursdays, set the time and date to 1:03 p.m., 4 January 1990; and convert to
datetime eg. datetime.datetime(1990, 1, 4, 1, 3).</p>
<p>Live Traffic:</p>
<p>To use live traffic when and where it is available, choose a time and date and convert to datetime.</p>
<p>Esri saves live traffic data for 12 hours and references predictive data extending 12 hours into the future. If the time and date you
specify for this parameter is outside the 24-hour time window, or the travel time in the analysis continues past the predictive data window, the task falls back to typical traffic speeds.</p>
<p>Examples:
from datetime import datetime</p>
<ul class="simple">
<li><p>“time_of_day”: datetime(1990, 1, 4, 1, 3) # 13:03, 4 January 1990. Typical traffic on Thursdays at 1:03 p.m.</p></li>
<li><p>“time_of_day”: datetime(1990, 1, 7, 17, 0) # 17:00, 7 January 1990. Typical traffic on Sundays at 5:00 p.m.</p></li>
<li><p>“time_of_day”: datetime(2014, 10, 22, 8, 0) # 8:00, 22 October 2014. If the current time is between 8:00 p.m., 21 Oct. 2014 and 8:00 p.m., 22 Oct. 2014,
live traffic speeds are referenced in the analysis; otherwise, typical traffic speeds are referenced.</p></li>
<li><p>“time_of_day”: datetime(2015, 3, 18, 10, 20) # 10:20, 18 March 2015. If the current time is between 10:20 p.m., 17 Mar. 2015 and 10:20 p.m., 18 Mar. 2015,
live traffic speeds are referenced in the analysis; otherwise, typical traffic speeds are referenced.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>time_zone_for_time_of_day</p></td>
<td><p>Optional string. Specify the time zone or zones of the time_of_day parameter.</p>
<p>Choice list: [‘GeoLocal’, ‘UTC’]</p>
<p>GeoLocal-refers to the time zone in which the originsLayer points are located.</p>
<p>UTC-refers to Coordinated Universal Time.</p>
<p>The default is ‘GeoLocal’.</p>
</td>
</tr>
<tr class="row-even"><td><p>output_name</p></td>
<td><p>Optional string. Output feature service name. If not provided, a feature collection is returned.</p></td>
</tr>
<tr class="row-odd"><td><p>context</p></td>
<td><p>Optional dict. Context contains additional settings that affect task execution. For <code class="docutils literal notranslate"><span class="pre">create_drive_time_areas</span></code>, there are two settings.</p>
<ol class="arabic simple">
<li><p>Extent (<code class="docutils literal notranslate"><span class="pre">extent</span></code>)-a bounding box that defines the analysis area. Only those points in the <code class="docutils literal notranslate"><span class="pre">input_layer</span></code>
that intersect the bounding box will be analyzed.</p></li>
<li><p>Output Spatial Reference (<code class="docutils literal notranslate"><span class="pre">outSR</span></code>) - the output features will be projected into the output spatial reference.</p></li>
</ol>
</td>
</tr>
<tr class="row-even"><td><p>gis</p></td>
<td><p>Optional, the GIS on which this tool runs. If not specified, the active GIS is used.</p></td>
</tr>
<tr class="row-odd"><td><p>estimate</p></td>
<td><p>Optional boolean. If True, the estimated number of credits required to run the operation will be returned.</p></td>
</tr>
<tr class="row-even"><td><p>point_barrier_layer</p></td>
<td><p>Optional layer. Specify one or more point features that act as temporary restrictions (in other words, barriers)
when traveling on the underlying streets.</p>
<p>A point barrier can model a fallen tree, an accident, a downed electrical line, or anything that completely blocks
traffic at a specific position along the street. Travel is permitted on the street but not through the barrier. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p>
</td>
</tr>
<tr class="row-odd"><td><p>line_barrier_layer</p></td>
<td><p>Optional layer. Specify one or more line features that prohibit travel anywhere the lines intersect the streets.</p>
<p>A line barrier prohibits travel anywhere the barrier intersects the streets. For example, a parade or protest that blocks traffic across several street
segments can be modeled with a line barrier. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p>
</td>
</tr>
<tr class="row-even"><td><p>polygon_barrier_layer</p></td>
<td><p>Optional string. Specify one or more polygon features that completely restrict travel on the streets intersected by the polygons.</p>
<p>One use of this type of barrier is to model floods covering areas of the street network and making road travel there impossible. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p>
</td>
</tr>
<tr class="row-odd"><td><p>future</p></td>
<td><p>Optional boolean. If True, the result will be a GPJob object and results will be returned asynchronously.</p></td>
</tr>
<tr class="row-even"><td><p>travel_direction</p></td>
<td><p>Optiona String. Specify whether the direction of travel used to generate the travel areas is toward or away from the input locations.</p>
<p>Values: AwayFromFacility or TowardsFacility</p>
<p>The travel direction can influence how the areas are generated. CreateDriveTimeAreas will obey one-way streets, avoid illegal turns, and follow other rules based on the direction of travel. You should select the direction of travel based on the type of input locations and the context of your analysis. For example, the drive-time area for a pizza delivery store should be created away from the facility, whereas the drive-time area for a hospital should be created toward the facility.</p>
</td>
</tr>
<tr class="row-odd"><td><p>show_holes</p></td>
<td><p>Optional boolean. When set to true, the output areas will include holes if some streets couldn’t be reached without exceeding the cutoff or due to travel restrictions imposed by the travel mode.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>result_layer : feature layer Item if output_name is specified, else Feature Collection.</p>
</dd>
</dl>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">USAGE</span> <span class="n">EXAMPLE</span><span class="p">:</span> <span class="n">To</span> <span class="n">create</span> <span class="n">drive</span> <span class="n">time</span> <span class="n">areas</span> <span class="n">around</span> <span class="n">USA</span> <span class="n">airports</span><span class="p">,</span> <span class="n">within</span> <span class="n">the</span> <span class="n">specified</span> <span class="n">extent</span><span class="o">.</span>

<span class="n">target_area4</span> <span class="o">=</span> <span class="n">create_drive_time_areas</span><span class="p">(</span><span class="n">airport_lyr</span><span class="p">,</span>
                               <span class="n">break_values</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span>
                               <span class="n">break_units</span><span class="o">=</span><span class="s1">&#39;Hours&#39;</span><span class="p">,</span>
                               <span class="n">travel_mode</span><span class="o">=</span><span class="s1">&#39;Trucking Time&#39;</span><span class="p">,</span>
                               <span class="n">overlap_policy</span><span class="o">=</span><span class="s1">&#39;Split&#39;</span><span class="p">,</span>
                               <span class="n">time_of_day</span><span class="o">=</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2019</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">52</span><span class="p">),</span>
                               <span class="n">output_name</span><span class="o">=</span><span class="s1">&#39;create_drive_time_areas&#39;</span><span class="p">,</span>
                               <span class="n">context</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;extent&quot;</span><span class="p">:{</span><span class="s2">&quot;xmin&quot;</span><span class="p">:</span><span class="o">-</span><span class="mf">11134400.655784884</span><span class="p">,</span><span class="s2">&quot;ymin&quot;</span><span class="p">:</span><span class="mf">3368261.7800108367</span><span class="p">,</span><span class="s2">&quot;xmax&quot;</span><span class="p">:</span><span class="o">-</span><span class="mf">10682810.692676282</span><span class="p">,</span><span class="s2">&quot;ymax&quot;</span><span class="p">:</span><span class="mf">3630899.409198575</span><span class="p">,</span><span class="s2">&quot;spatialReference&quot;</span><span class="p">:{</span><span class="s2">&quot;wkid&quot;</span><span class="p">:</span><span class="mi">102100</span><span class="p">,</span><span class="s2">&quot;latestWkid&quot;</span><span class="p">:</span><span class="mi">3857</span><span class="p">}}})</span> 
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="create-route-layers">
<h2>create_route_layers<a class="headerlink" href="#create-route-layers" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="arcgis.features.analysis.create_route_layers">
<code class="sig-prename descclassname">arcgis.features.analysis.</code><code class="sig-name descname">create_route_layers</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">route_data_item</span></em>, <em class="sig-param"><span class="n">delete_route_data_item</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">tags</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">summary</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">route_name_prefix</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">folder_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">estimate</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">future</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.features.analysis.create_route_layers" title="Permalink to this definition">¶</a></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="pre">create_route_layers</span></code> method creates route layer items on the portal from the input route data.</p>
<p>A route layer includes all the information for a particular route such as the stops assigned to
the route as well as the travel directions. Creating route layers is useful if you want to share
individual routes with other members in your organization.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Parameter</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>route_data</p></td>
<td><p>Required item. The item id for the route data item that is used to create route layer items.
Before running this task, the route data must be added to your portal as an item.</p></td>
</tr>
<tr class="row-odd"><td><p>delete_route_data_item</p></td>
<td><p>Required boolean. Indicates if the input route data item should be deleted. You may want to
delete the route data in case it is no longer required after the route layers have been created from it.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">delete_route_data_item</span></code> is set to true and the task fails to delete the route data item,
it will return a warning message but still continue execution.</p>
<p>The default value is False.</p>
</td>
</tr>
<tr class="row-even"><td><p>tags</p></td>
<td><p>Optional string. Tags used to describe and identify the route layer items.
Individual tags are separated using a comma. The route name is always
added as a tag even when a value for this argument is not specified.</p></td>
</tr>
<tr class="row-odd"><td><p>summary</p></td>
<td><p>Optional string. The summary displayed as part of the item information for the route layer item.
If a value for this argument is not specified, a default summary text “Route and directions for &lt;Route Name&gt;” is used.</p></td>
</tr>
<tr class="row-even"><td><p>route_name_prefix</p></td>
<td><p>Optional string. A qualifier added to the title of every route layer item. This can be used to designate all routes that are shared for a
specific purpose to have the same prefix in the title. The name of the route is always appended after this qualifier.
If a value for the route_name_prefix is not specified, the title for the route layer item is created using only the route name.</p></td>
</tr>
<tr class="row-odd"><td><p>folder_name</p></td>
<td><p>Optional string. The folder within your personal online workspace (My Content in your ArcGIS Online or Portal for ArcGIS organization) where the
route layer items will be created. If a folder with the specified name does not exist, a new folder will be created.
If a folder with the specified name exists, the items will be created in the existing folder.
If a value for folder_name is not specified, the route layer items are created in the root folder of your online workspace.</p></td>
</tr>
<tr class="row-even"><td><p>gis</p></td>
<td><p>Optional, the GIS on which this tool runs. If not specified, the active GIS is used.</p></td>
</tr>
<tr class="row-odd"><td><p>estimate</p></td>
<td><p>Optional boolean. If True, the estimated number of credits required to run the operation will be returned.</p></td>
</tr>
<tr class="row-even"><td><p>future</p></td>
<td><p>Optional boolean. If True, the result will be a GPJob object and results will be returned asynchronously.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>result_layer : A list (items) or Item</p>
</dd>
</dl>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">USAGE</span> <span class="n">EXAMPLE</span><span class="p">:</span> <span class="n">To</span> <span class="n">create</span> <span class="n">route</span> <span class="n">layers</span> <span class="kn">from</span> <span class="nn">geodatabase</span> <span class="n">item</span><span class="o">.</span>
<span class="n">route</span> <span class="o">=</span> <span class="n">create_route_layers</span><span class="p">(</span><span class="n">route_data_item</span><span class="o">=</span><span class="n">route_item</span><span class="p">,</span>
                    <span class="n">delete_route_data_item</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                    <span class="n">tags</span><span class="o">=</span><span class="s2">&quot;datascience&quot;</span><span class="p">,</span>
                    <span class="n">summary</span><span class="o">=</span><span class="s2">&quot;example of create route layers method&quot;</span><span class="p">,</span>
                    <span class="n">route_name_prefix</span><span class="o">=</span><span class="s2">&quot;santa_ana&quot;</span><span class="p">,</span>
                    <span class="n">folder_name</span><span class="o">=</span><span class="s2">&quot;create route layers&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="create-viewshed">
<h2>create_viewshed<a class="headerlink" href="#create-viewshed" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="arcgis.features.analysis.create_viewshed">
<code class="sig-prename descclassname">arcgis.features.analysis.</code><code class="sig-name descname">create_viewshed</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_layer</span></em>, <em class="sig-param"><span class="n">dem_resolution</span><span class="o">=</span><span class="default_value">'Finest'</span></em>, <em class="sig-param"><span class="n">maximum_distance</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">max_distance_units</span><span class="o">=</span><span class="default_value">'Meters'</span></em>, <em class="sig-param"><span class="n">observer_height</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">observer_height_units</span><span class="o">=</span><span class="default_value">'Meters'</span></em>, <em class="sig-param"><span class="n">target_height</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">target_height_units</span><span class="o">=</span><span class="default_value">'Meters'</span></em>, <em class="sig-param"><span class="n">generalize</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">output_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">context</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">estimate</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">future</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.features.analysis.create_viewshed" title="Permalink to this definition">¶</a></dt>
<dd><img alt="_images/create_viewshed.png" src="_images/create_viewshed.png" />
<p>The create_viewshed method identifies visible areas based on the observer locations you provide.
The results are areas where the observers can see the observed objects (and the observed objects can see the observers).</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11%" />
<col style="width: 89%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Parameter</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>input_layer</p></td>
<td><p>Required point feature layer. The features to use as the observer locations. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p>dem_resolution</p></td>
<td><p>Optional string. The approximate spatial resolution (cell size) of the source elevation data used for the calculation.</p>
<p>The resolution values are an approximation of the spatial resolution of the digital elevation model.
While many elevation sources are distributed in units of arc seconds, the keyword is an approximation
of those resolutions in meters for easier understanding.</p>
<p>Choice list: [‘FINEST’, ‘10m’, ‘24m’, ‘30m’, ‘90m’]</p>
<p>The default is the finest resolution available.</p>
</td>
</tr>
<tr class="row-even"><td><p>maximum_distance</p></td>
<td><p>Optional float. This is a cutoff distance where the computation of visible areas stops. Beyond this distance, it is unknown whether the analysis points and the other objects can see each other.</p>
<p>It is useful for modeling current weather conditions or a given time of day, such as dusk. Large values increase computation time.</p>
<p>Unless specified, a default maximum distance will be computed based on the resolution and extent of the source DEM. The allowed maximum value is 50 kilometers.
Use max_distance_units to set the units for maximum_distance.</p>
</td>
</tr>
<tr class="row-odd"><td><p>max_distance_units</p></td>
<td><p>Optional string. The units for the maximum_distance parameter.</p>
<p>Choice list: [‘Meters’, ‘Kilometers’, ‘Feet’, ‘Miles’, ‘Yards’]</p>
<p>The default is ‘Meters’.</p>
</td>
</tr>
<tr class="row-even"><td><p>observer_height</p></td>
<td><p>Optional float. This is the height above the ground of the observer locations.</p>
<p>The default is 1.75 meters, which is approximately the average height of a person. If you are looking from an elevated location, such as an observation tower or a tall building, use that height instead.</p>
<p>Use observer_height_units to set the units for observer_height.</p>
</td>
</tr>
<tr class="row-odd"><td><p>observer_height_units</p></td>
<td><p>Optional string. The units for the observer_height parameter.</p>
<p>Choice list: [‘Meters’, ‘Kilometers’, ‘Feet’, ‘Miles’, ‘Yards’]</p>
<p>The default is ‘Meters’.</p>
</td>
</tr>
<tr class="row-even"><td><p>target_height</p></td>
<td><p>Optional float. This is the height of structures or people on the ground used to
establish visibility. The result viewshed are those areas where an input point can see these other objects.
The converse is also true; the other objects can see an input point.</p>
<ul class="simple">
<li><p>If your input points represent wind turbines and you want to determine where people standing on the
ground can see the turbines, enter the average height of a person (approximately 6 feet).
The result is those areas where a person standing on the ground can see the wind turbines.</p></li>
<li><p>If your input points represent fire lookout towers and you want to determine which lookout
towers can see a smoke plume 20 feet high or higher, enter 20 feet for the height. The result
is those areas where a fire lookout tower can see a smoke plume at least 20 feet high.</p></li>
<li><p>If your input points represent scenic overlooks along roads and trails and you want to determine
where wind turbines 400 feet high or higher can be seen, enter 400 feet for the height. The result
is those areas where a person standing at a scenic overlook can see a wind turbine at least 400 feet high.</p></li>
<li><p>If your input points represent scenic overlooks and you want to determine how much area on the ground
people standing at the overlook can see, enter zero. The result is those areas that can be seen from the scenic overlook.</p></li>
</ul>
<p>Use target_height_units to set the units for target_height.</p>
</td>
</tr>
<tr class="row-odd"><td><p>target_height_units</p></td>
<td><p>Optional string. The units for the target_height parameter.</p>
<p>Choice list: [‘Meters’, ‘Kilometers’, ‘Feet’, ‘Miles’, ‘Yards’]</p>
<p>The default is ‘Meters’.</p>
</td>
</tr>
<tr class="row-even"><td><p>generalize</p></td>
<td><p>Optional boolean. Determines whether or not the viewshed polygons are to be generalized.</p>
<p>The viewshed calculation is based on a raster elevation model that creates a result with stair-stepped edges.
To create a more pleasing appearance and improve performance, the default behavior is to generalize the polygons.
The generalization process smooths the boundary of the visible areas and may remove some single-cell visible areas.</p>
<p>The default value is True.</p>
</td>
</tr>
<tr class="row-odd"><td><p>output_name</p></td>
<td><p>Optional string. Output feature service name. If not provided, a feature collection is returned.</p></td>
</tr>
<tr class="row-even"><td><p>context</p></td>
<td><p>Optional dict. Context contains additional settings that affect task execution. For <code class="docutils literal notranslate"><span class="pre">create_viewshed</span></code>, there are two settings.</p>
<ol class="arabic simple">
<li><p>Extent (<code class="docutils literal notranslate"><span class="pre">extent</span></code>)-a bounding box that defines the analysis area. Only those points in the <code class="docutils literal notranslate"><span class="pre">input_layer</span></code>
that intersect the bounding box will be analyzed.</p></li>
<li><p>Output Spatial Reference (<code class="docutils literal notranslate"><span class="pre">outSR</span></code>) - the output features will be projected into the output spatial reference.</p></li>
</ol>
</td>
</tr>
<tr class="row-odd"><td><p>gis</p></td>
<td><p>Optional, the GIS on which this tool runs. If not specified, the active GIS is used.</p></td>
</tr>
<tr class="row-even"><td><p>estimate</p></td>
<td><p>Optional boolean. If True, the estimated number of credits required to run the operation will be returned.</p></td>
</tr>
<tr class="row-odd"><td><p>future</p></td>
<td><p>Optional boolean. If True, the result will be a GPJob object and results will be returned asynchronously.</p></td>
</tr>
</tbody>
</table>
<p>:returns result_layer : feature layer Item if output_name is specified, else Feature Collection.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">USAGE</span> <span class="n">EXAMPLE</span><span class="p">:</span> <span class="n">To</span> <span class="n">create</span> <span class="n">viewshed</span> <span class="n">around</span> <span class="n">esri</span> <span class="n">headquarter</span> <span class="n">office</span><span class="o">.</span>

<span class="n">viewshed3</span> <span class="o">=</span> <span class="n">create_viewshed</span><span class="p">(</span><span class="n">hq_lyr</span><span class="p">,</span>
                    <span class="n">maximum_distance</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span>
                    <span class="n">max_distance_units</span><span class="o">=</span><span class="s1">&#39;Miles&#39;</span><span class="p">,</span>
                    <span class="n">target_height</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span>
                    <span class="n">target_height_units</span><span class="o">=</span><span class="s1">&#39;Feet&#39;</span><span class="p">,</span>
                    <span class="n">output_name</span><span class="o">=</span><span class="s2">&quot;create Viewshed&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="create-watersheds">
<h2>create_watersheds<a class="headerlink" href="#create-watersheds" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="arcgis.features.analysis.create_watersheds">
<code class="sig-prename descclassname">arcgis.features.analysis.</code><code class="sig-name descname">create_watersheds</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_layer</span></em>, <em class="sig-param"><span class="n">search_distance</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">search_units</span><span class="o">=</span><span class="default_value">'Meters'</span></em>, <em class="sig-param"><span class="n">source_database</span><span class="o">=</span><span class="default_value">'FINEST'</span></em>, <em class="sig-param"><span class="n">generalize</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">output_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">context</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">estimate</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">future</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.features.analysis.create_watersheds" title="Permalink to this definition">¶</a></dt>
<dd><img alt="_images/create_watersheds.png" src="_images/create_watersheds.png" />
<p>The <code class="docutils literal notranslate"><span class="pre">create_watersheds</span></code> method determines the watershed, or upstream contributing area, for each point
in your analysis layer. For example, suppose you have point features representing locations
of waterborne contamination, and you want to find the likely sources of the contamination.
Since the source of the contamination must be somewhere within the watershed upstream of the
point, you would use this tool to define the watersheds containing the sources of the contaminant.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 84%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Parameter</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>input_layer</p></td>
<td><p>Required point feature layer. The point features used for calculating watersheds.
These are referred to as pour points, because it is the location at which water pours out of the watershed.
See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p>search_distance</p></td>
<td><p>Optional float. The maximum distance to move the location of an input point.
Use search_units to set the units for search_distance.</p>
<p>If your input points are located away from a drainage line, the resulting watersheds
are likely to be very small and not of much use in determining the upstream source of
contamination. In most cases, you want your input points to snap to the nearest drainage
line in order to find the watersheds that flows to a point located on the drainage line.
To find the closest drainage line, specify a search distance. If you do not specify a
search distance, the tool will compute and use a conservative search distance.</p>
<p>To use the exact location of your input point, specify a search distance of zero.</p>
<p>For analysis purposes, drainage lines have been precomputed by Esri using standard
hydrologic models. If there is no drainage line within the search distance, the location
containing the highest flow accumulation within the search distance is used.</p>
</td>
</tr>
<tr class="row-even"><td><p>search_units</p></td>
<td><p>Optional string. The linear units specified for the search distance.</p>
<p>Choice list: [‘Meters’, ‘Kilometers’, ‘Feet’, ‘Miles’, ‘Yards’]</p>
</td>
</tr>
<tr class="row-odd"><td><p>source_database</p></td>
<td><p>Optional string. Keyword indicating the data source resolution that will be used in the analysis.</p>
<p>Choice list: [‘Finest’, ‘30m’, ‘90m’]</p>
<ul class="simple">
<li><p>Finest (Default): Finest resolution available at each location from all possible data sources.</p></li>
<li><p>30m: The hydrologic source was built from 1 arc second - approximately 30 meter resolution, elevation data.</p></li>
<li><p>90m: The hydrologic source was built from 3 arc second - approximately 90 meter resolution, elevation data.</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p>generalize</p></td>
<td><p>Optional boolean. Determines if the output watersheds will be smoothed into simpler shapes or conform
to the cell edges of the original DEM.</p>
<ul class="simple">
<li><p>True: The polygons will be smoothed into simpler shapes. This is the default.</p></li>
<li><p>False: The edge of the polygons will conform to the edges of the original DEM.</p></li>
</ul>
<p>The default value is True.</p>
</td>
</tr>
<tr class="row-odd"><td><p>output_name</p></td>
<td><p>Optional string. Output feature service name. If not provided, a feature collection is returned.</p></td>
</tr>
<tr class="row-even"><td><p>context</p></td>
<td><p>Optional dict. Context contains additional settings that affect task execution. For <code class="docutils literal notranslate"><span class="pre">create_watersheds</span></code>, there are two settings.</p>
<ol class="arabic simple">
<li><p>Extent (<code class="docutils literal notranslate"><span class="pre">extent</span></code>)-a bounding box that defines the analysis area. Only those points in the <code class="docutils literal notranslate"><span class="pre">input_layer</span></code>
that intersect the bounding box will be analyzed.</p></li>
<li><p>Output Spatial Reference (<code class="docutils literal notranslate"><span class="pre">outSR</span></code>) - the output features will be projected into the output spatial reference.</p></li>
</ol>
</td>
</tr>
<tr class="row-odd"><td><p>gis</p></td>
<td><p>Optional, the GIS on which this tool runs. If not specified, the active GIS is used.</p></td>
</tr>
<tr class="row-even"><td><p>estimate</p></td>
<td><p>Optional boolean. If True, the estimated number of credits required to run the operation will be returned.</p></td>
</tr>
<tr class="row-odd"><td><p>future</p></td>
<td><p>Optional boolean. If True, the result will be a GPJob object and results will be returned asynchronously.</p></td>
</tr>
</tbody>
</table>
<p>:returns result_layer : feature layer Item if output_name is specified, else Feature Collection.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">USAGE</span> <span class="n">EXAMPLE</span><span class="p">:</span> <span class="n">To</span> <span class="n">create</span> <span class="n">watersheds</span> <span class="k">for</span> <span class="n">Chennai</span> <span class="n">lakes</span><span class="o">.</span>

<span class="n">lakes_watershed</span> <span class="o">=</span> <span class="n">create_watersheds</span><span class="p">(</span><span class="n">lakes_lyr</span><span class="p">,</span>
                                    <span class="n">search_distance</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
                                    <span class="n">search_units</span><span class="o">=</span><span class="s1">&#39;Kilometers&#39;</span><span class="p">,</span>
                                    <span class="n">source_database</span><span class="o">=</span><span class="s1">&#39;90m&#39;</span><span class="p">,</span>
                                    <span class="n">output_name</span><span class="o">=</span><span class="s1">&#39;create watersheds&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="derive-new-locations">
<h2>derive_new_locations<a class="headerlink" href="#derive-new-locations" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="arcgis.features.analysis.derive_new_locations">
<code class="sig-prename descclassname">arcgis.features.analysis.</code><code class="sig-name descname">derive_new_locations</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_layers</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">expressions</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">output_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">context</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">estimate</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">future</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.features.analysis.derive_new_locations" title="Permalink to this definition">¶</a></dt>
<dd><img alt="_images/derive_new_locations.png" src="_images/derive_new_locations.png" />
<p>The <code class="docutils literal notranslate"><span class="pre">derive_new_locations</span></code> method derives new features from the input layers that meet a query you specify. A query is
made up of one or more expressions. There are two types of expressions: attribute and spatial. An example of an
attribute expression is that a parcel must be vacant, which is an attribute of the Parcels layer
(STATUS = ‘VACANT’). An example of a spatial expression is that the parcel must also be within a certain
distance of a river (Parcels within a distance of 0.75 Miles from Rivers).</p>
<p>The <code class="docutils literal notranslate"><span class="pre">derive_new_locations</span></code> method is very similar to the <code class="docutils literal notranslate"><span class="pre">find_existing_locations</span></code> method, the main difference is that
the result of <code class="docutils literal notranslate"><span class="pre">derive_new_locations</span></code> can contain partial features.</p>
<ul class="simple">
<li><p>In both methods, the attribute expression  <code class="docutils literal notranslate"><span class="pre">where</span></code> and the spatial relationships within and contains return the same result.
This is because these relationships return entire features.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">intersects</span></code> or <code class="docutils literal notranslate"><span class="pre">within_distance</span></code> is used, <code class="docutils literal notranslate"><span class="pre">derive_new_locations</span></code> creates new features
in the result. For example, when intersecting a parcel feature and a flood zone area that partially overlap each other,
<code class="docutils literal notranslate"><span class="pre">find_existing_locations</span></code> will return the entire parcel whereas <code class="docutils literal notranslate"><span class="pre">derive_new_locations</span></code> will return just the portion of
the parcel that is within the flood zone.</p></li>
</ul>
<table class="docutils align-default">
<colgroup>
<col style="width: 14%" />
<col style="width: 86%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>input_layers</p></td>
<td><p>Required list of feature layers. A list of layers that will be used in the expressions parameter.
Each layer in the list can be:</p>
<ul class="simple">
<li><p>a feature service layer with an optional filter to select specific features, or</p></li>
<li><p>a feature collection</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>expressions</p></td>
<td><p>Required dict. There are two types of expressions, attribute and spatial.</p>
<p>Example attribute expression:</p>
<dl class="simple">
<dt>{</dt><dd><p>“operator”: “and”,
“layer”: 0,
“where”: “STATUS = ‘VACANT’”</p>
</dd>
</dl>
<p>}</p>
<p><strong>Note</strong>
* operator can be either <code class="docutils literal notranslate"><span class="pre">and</span></code> or <code class="docutils literal notranslate"><span class="pre">or</span></code>
* layer is the index of the layer in the <code class="docutils literal notranslate"><span class="pre">input_layers</span></code> parameter.
* The where clause must be surrounded by double quotes.
* When dealing with text fields, values must be single-quoted (‘VACANT’).
* Date fields support all queries except LIKE. Dates are strings in YYYY:MM:DD hh:mm:ss format. Here’s an example using the date field ObsDate:</p>
<blockquote>
<div><p>“where”: “ObsDate &gt;= ‘1998-04-30 13:30:00’ “</p>
</div></blockquote>
<table class="docutils align-default">
<colgroup>
<col style="width: 13%" />
<col style="width: 87%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>=</p></td>
<td><p>Equal</p></td>
</tr>
<tr class="row-even"><td><p>&gt;</p></td>
<td><p>Greater than</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;</p></td>
<td><p>Less than</p></td>
</tr>
<tr class="row-even"><td><p>&gt;=</p></td>
<td><p>Greater than or equal to</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;=</p></td>
<td><p>Less than or equal to</p></td>
</tr>
<tr class="row-even"><td><p>&lt;&gt;</p></td>
<td><p>Not equal</p></td>
</tr>
<tr class="row-odd"><td><p>LIKE ‘%
&lt;string&gt;’</p></td>
<td><p>A percent symbol (%) signifies a wildcard, meaning that
anything is acceptable in its place-one character, a
hundred characters, or no character. This expression
would select Mississippi and Missouri among USA
state names: STATE_NAME LIKE ‘Miss%’</p></td>
</tr>
<tr class="row-even"><td><p>BETWEEN
&lt;value1&gt;
AND
&lt;value2&gt;</p></td>
<td><p>Selects a record if it has a value greater than or equal
to &lt;value1&gt; and less than or equal to &lt;value2&gt;.
For example, this expression selects all records with
an HHSIZE value greater than or equal to 3 and less
than or equal to 10:</p>
<p>HHSIZE BETWEEN 3 AND 10</p>
<p>The above is equivalent to:</p>
<p>HHSIZE &gt;= 3 AND HHSIZE &lt;= 10
This operator applies to numeric or date fields.
Here is an example of a date query on the field ObsDate:</p>
<p>ObsDate BETWEEN ‘1998-04-30 00:00:00’ AND ‘1998-04-30 23:59:59’</p>
<p>Time is optional.</p>
</td>
</tr>
<tr class="row-odd"><td><p>NOT
BETWEEN
&lt;value1&gt;
AND
&lt;value2&gt;</p></td>
<td><p>Selects a record if it has a value outside the range between
&lt;value1&gt; and less than or equal to &lt;value2&gt;.
For example, this expression selects all records whose
HHSIZE value is less than 5 and greater than 7.</p>
<p>HHSIZE NOT BETWEEN 5 AND 7</p>
<p>The above is equivalent to:</p>
<p>HHSIZE &lt; 5 OR HHSIZE &gt; 7
This operator applies to numeric or date fields.</p>
<p><strong>Note</strong></p>
<p>You can use the contains relationship with points and lines.
For example, you have a layer of street centerlines (lines) and
a layer of manhole covers (points), and you want to find streets
that contain a manhole cover. You could use contains to find
streets that contain manhole covers, but in order for a line to
contain a point, the point must be exactly on the line (that is,
in GIS terms, they are snapped to each other). If there is any
doubt about this, use the withinDistance relationship with a
suitable distance value.</p>
</td>
</tr>
</tbody>
</table>
<p>Example spatial expression:
{</p>
<blockquote>
<div><p>“operator”: “and”,
“layer”: 0,
“spatialRel”: “withinDistance”,
“selectingLayer”: 1,
“distance”: 10,
“units”: “miles”</p>
</div></blockquote>
<p>}</p>
<ul class="simple">
<li><p>operator can be either <code class="docutils literal notranslate"><span class="pre">and</span></code> or <code class="docutils literal notranslate"><span class="pre">or</span></code></p></li>
<li><p>layer is the index of the layer in <code class="docutils literal notranslate"><span class="pre">the</span> <span class="pre">input_layers</span></code> parameter. The result of the expression is features in this layer.</p></li>
<li><p>spatialRel is the spatial relationship. There are nine spatial relationships.</p></li>
<li><p>distance is the distance to use for the withinDistance and notWithinDistance spatial relationship.</p></li>
<li><p>units is the units for distance.</p></li>
</ul>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 82%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>spatialRel</p></td>
<td><p>Description</p></td>
</tr>
<tr class="row-even"><td><p>intersects</p>
<p>notIntersects</p>
</td>
<td><p><img alt="intersect" src="_images/intersect.png" /></p>
<p>A feature in layer passes the intersect test if it overlaps
any part of a feature in selectingLayer, including touches
(where features share a common point).</p>
<ul class="simple">
<li><p>intersects-If a feature in layer intersects a feature in
selectingLayer, the portion of the feature in layer that
intersects the feature in selectingLayer is included in
the output.</p></li>
<li><p>notintersects-If a feature in layer intersects a feature in
selectingLayer, the portion of the feature in layer that
intersects the feature in selectingLayer is excluded from
the output.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>withinDistance</p>
<p>notWithinDistance</p>
</td>
<td><p><img alt="distance" src="_images/distance.png" /></p>
<p>The within a distance relationship uses the straight-line
distance between features in layer to those in selectingLayer.
withinDistance-The portion of the feature in layer that is
within the specified distance of a feature in selectingLayer
is included in the output.
notwithinDistance-The portion of the feature in layer that is
within the specified distance of a feature in selectingLayer is
excluded from output. You can think of this relationship as
“is farther away than”.</p>
</td>
</tr>
<tr class="row-even"><td><p>contains</p>
<p>notContains</p>
</td>
<td><p><img alt="intersect" src="_images/intersect.png" /></p>
<p>A feature in layer passes this test if it completely
surrounds a feature in selectingLayer. No portion of the
containing feature; however, the contained feature is allowed
to touch the containing feature (that is, share a common
point along its boundary).</p>
<p>contains-If a feature in layer contains a feature in
selectingLayer, the feature in layer is included in the output.
notcontains-If a feature in layer contains a feature in
selectingLayer, the feature in the first layer is excluded</p>
</td>
</tr>
<tr class="row-odd"><td><p>within</p>
<p>notWithin</p>
</td>
<td><p><img alt="within" src="_images/within.png" /></p>
<p>A feature in layer passes this test if it is completely
surrounded by a feature in selectingLayer. The entire feature
layer must be within the containing feature; however, the two
features are allowed to touch (that is, share a common point
along its boundary).</p>
<ul class="simple">
<li><p>within-If a feature in layer is completely within a feature in
selectingLayer, the feature in layer is included in the output.</p></li>
<li><p>notwithin-If a feature in layer is completely within a feature
in selectingLayer, the feature in layer is excluded from the
output.</p></li>
</ul>
<p><strong>Note:</strong></p>
<p>can use the within relationship for points and lines, just as
you can with the contains relationship. For example, your first
layer contains points representing manhole covers and you want
to find the manholes that are on street centerlines (as opposed
to parking lots or other non-street features). You could use
within to find manhole points within street centerlines, but
in order for a point to contain a line, the point must be exactly
on the line (that is, in GIS terms, they are snapped to each
other). If there is any doubt about this, use the withinDistance
relationship with a suitable distance value.</p>
</td>
</tr>
<tr class="row-even"><td><p>nearest</p></td>
<td><p><img alt="nearest" src="_images/nearest.png" /></p>
<p>feature in the first layer passes this test if it is nearest
to a feature in the second layer.</p>
<ul class="simple">
<li><p>nearest-If a feature in the first layer is nearest to a
feature in the second layer, the feature in the first layer
is included in the output.</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="row-odd"><td><p>output_name</p></td>
<td><p>Optional string. If provided, the task will create a feature layer of the results. You define the name of the layer.                                           If output_name is not supplied, the task will return a feature collection.</p></td>
</tr>
<tr class="row-even"><td><p>context</p></td>
<td><p>Optional string. Additional settings such as processing extent and output spatial reference. For                                                               <code class="docutils literal notranslate"><span class="pre">derive_new_locations</span></code>, there are two settings.</p>
<ol class="arabic simple">
<li><p>Extent (extent)-a bounding box that defines the analysis area. Only those points in the input_layers that intersect the bounding box will be analyzed.</p></li>
<li><p>Output Spatial Reference (outSR)</p></li>
</ol>
</td>
</tr>
<tr class="row-odd"><td><p>gis</p></td>
<td><p>Optional, the GIS on which this tool runs. If not specified, the active GIS is used.</p></td>
</tr>
<tr class="row-even"><td><p>estimate</p></td>
<td><p>Optional boolean. Is true, the number of credits needed to run the operation will be returned as a float.</p></td>
</tr>
<tr class="row-odd"><td><p>future</p></td>
<td><p>Optional boolean. If True, the result will be a GPJob object and results will be returned asynchronously.</p></td>
</tr>
</tbody>
</table>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">USAGE</span> <span class="n">EXAMPLE</span><span class="p">:</span> <span class="n">To</span> <span class="n">Identify</span> <span class="n">areas</span> <span class="n">that</span> <span class="n">are</span> <span class="n">suitable</span> <span class="n">cougar</span> <span class="n">habitat</span> <span class="n">using</span> <span class="n">the</span> <span class="n">criteria</span> <span class="n">defined</span> <span class="n">by</span> <span class="n">experts</span><span class="o">.</span>

<span class="n">new_loaction</span> <span class="o">=</span> <span class="n">derive_new_locations</span><span class="p">(</span><span class="n">input_layers</span><span class="o">=</span><span class="p">[</span><span class="n">slope</span><span class="p">,</span> <span class="n">vegetation</span><span class="p">,</span> <span class="n">streams</span><span class="p">,</span> <span class="n">highways</span><span class="p">],</span>
                            <span class="n">expressions</span><span class="o">=</span><span class="p">[{</span><span class="s2">&quot;operator&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;layer&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;selectingLayer&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;spatialRel&quot;</span><span class="p">:</span><span class="s2">&quot;intersects&quot;</span><span class="p">},</span>
                                         <span class="p">{</span><span class="s2">&quot;operator&quot;</span><span class="p">:</span><span class="s2">&quot;and&quot;</span><span class="p">,</span><span class="s2">&quot;layer&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;selectingLayer&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="s2">&quot;spatialRel&quot;</span><span class="p">:</span><span class="s2">&quot;withinDistance&quot;</span><span class="p">,</span><span class="s2">&quot;distance&quot;</span><span class="p">:</span><span class="mi">500</span><span class="p">,</span><span class="s2">&quot;units&quot;</span><span class="p">:</span><span class="s2">&quot;Feet&quot;</span><span class="p">},</span>
                                         <span class="p">{</span><span class="s2">&quot;operator&quot;</span><span class="p">:</span><span class="s2">&quot;and&quot;</span><span class="p">,</span><span class="s2">&quot;layer&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;selectingLayer&quot;</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="s2">&quot;spatialRel&quot;</span><span class="p">:</span><span class="s2">&quot;notWithinDistance&quot;</span><span class="p">,</span><span class="s2">&quot;distance&quot;</span><span class="p">:</span><span class="mi">1500</span><span class="p">,</span><span class="s2">&quot;units&quot;</span><span class="p">:</span><span class="s2">&quot;Feet&quot;</span><span class="p">},</span>
                                         <span class="p">{</span><span class="s2">&quot;operator&quot;</span><span class="p">:</span><span class="s2">&quot;and&quot;</span><span class="p">,</span><span class="s2">&quot;layer&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;where&quot;</span><span class="p">:</span><span class="s2">&quot;GRIDCODE = 1&quot;</span><span class="p">}],</span>
                            <span class="n">output_name</span><span class="o">=</span><span class="s1">&#39;derive_new_loactions&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="dissolve-boundaries">
<h2>dissolve_boundaries<a class="headerlink" href="#dissolve-boundaries" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="arcgis.features.analysis.dissolve_boundaries">
<code class="sig-prename descclassname">arcgis.features.analysis.</code><code class="sig-name descname">dissolve_boundaries</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_layer</span></em>, <em class="sig-param"><span class="n">dissolve_fields</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">summary_fields</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">output_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">context</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">estimate</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">multi_part_features</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">future</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.features.analysis.dissolve_boundaries" title="Permalink to this definition">¶</a></dt>
<dd><img alt="_images/dissolve_boundaries.png" src="_images/dissolve_boundaries.png" />
<p>The dissolve_boundaries method finds polygons that overlap or share a common boundary and merges them together to form a single polygon.</p>
<p>You can control which boundaries are merged by specifying a field. For example, if you have a layer of counties, and each county
has a State_Name attribute, you can dissolve boundaries using the State_Name attribute. Adjacent counties will be merged together
if they have the same value for State_Name. The end result is a layer of state boundaries.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 81%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Parameter</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>input_layer</p></td>
<td><p>Required layer. The layer containing polygon features that will be dissolved. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p>dissolve_fields</p></td>
<td><p>Optional list of strings. One or more fields on the input_layer that control which polygons
are merged. If you don’t supply dissolve_fields , or you supply an empty list of fields, polygons
that share a common border (that is, they are adjacent) or polygon areas that overlap will be dissolved into one polygon.</p>
<p>If you do supply values for the dissolve_fields parameter, polygons that share a common border
and contain the same value in one or more fields will be dissolved. For example, if you have a layer of counties,
and each county has a State_Name attribute, you can dissolve boundaries using the State_Name attribute.
Adjacent counties will be merged together if they have the same value for State_Name. The end result is a layer of
state boundaries.If two or more fields are specified, the values in these fields must be the same for the boundary to be dissolved.</p>
</td>
</tr>
<tr class="row-even"><td><p>summary_fields</p></td>
<td><p>Optional list of strings. A list of field names and statistical summary type that you wish to calculate from the polygons
that are dissolved together. For example, if you are dissolving counties based on State_Name, and each county had a Population field, you can sum Population.
The result would be a layer of state boundaries with total population.</p>
<p>fieldName is the name of one of the numeric fields found in the input_layer.
summary type is one of the following:</p>
<ul class="simple">
<li><p>Sum - Adds the total value of all the points in each polygon</p></li>
<li><p>Mean - Calculates the average of all the points in each polygon.</p></li>
<li><p>Min - Finds the smallest value of all the points in each polygon.</p></li>
<li><p>Max - Finds the largest value of all the points in each polygon.</p></li>
<li><p>Stddev - Finds the standard deviation of all the points in each polygon.</p></li>
</ul>
<p>Example [fieldName1 summaryType1,fieldName2 summaryType2].</p>
</td>
</tr>
<tr class="row-odd"><td><p>output_name</p></td>
<td><p>Optional string. If provided, the task will create a feature service of the results.
You define the name of the service. If output_name is not supplied, the task will return a feature collection.</p></td>
</tr>
<tr class="row-even"><td><p>context</p></td>
<td><p>Optional string. Context contains additional settings that affect task execution. For dissolve_boundaries Points, there are two settings.</p>
<ol class="arabic simple">
<li><p>Extent (extent)-a bounding box that defines the analysis area. Only those features in the input_layer that intersect the bounding box will be analyzed.</p></li>
<li><p>Output Spatial Reference (outSR) the output features will be projected into the output spatial reference.</p></li>
</ol>
</td>
</tr>
<tr class="row-odd"><td><p>gis</p></td>
<td><p>Optional, the GIS on which this tool runs. If not specified, the active GIS is used.</p></td>
</tr>
<tr class="row-even"><td><p>estimate</p></td>
<td><p>Optional Boolean. If True, the number of credits to run the operation will be returned.</p></td>
</tr>
<tr class="row-odd"><td><p>multi_part_features</p></td>
<td><p>Optional boolean. Specifies whether multipart features (i.e. features which share a common
attribute table but are not visibly connected) are allowed in the output feature class.</p>
<p>Choice list: [‘True’, ‘False’].</p>
<p>True: Specifies multipart features are allowed.</p>
<p>False: Specifies multipart features are not allowed. Instead of creating multipart features, individual features will be created for each part.</p>
<p>The default value is True.</p>
</td>
</tr>
<tr class="row-even"><td><p>future</p></td>
<td><p>Optional boolean. If True, the result will be a GPJob object and results will be returned asynchronously.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>result_layer : feature layer Item if output_name is specified, else Feature Collection.</p>
</dd>
</dl>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">USAGE</span> <span class="n">EXAMPLE</span><span class="p">:</span> <span class="n">To</span> <span class="n">dissolve</span> <span class="n">boundaries</span> <span class="n">of</span> <span class="n">polygons</span> <span class="k">with</span> <span class="n">same</span> <span class="n">state</span> <span class="n">name</span><span class="o">.</span> <span class="n">The</span> <span class="n">dissolved</span> <span class="n">polygons</span> <span class="n">are</span> <span class="n">summarized</span> <span class="n">using</span> <span class="n">population</span> <span class="k">as</span> <span class="n">summary</span> <span class="n">field</span> <span class="ow">and</span> <span class="n">standard</span> <span class="n">deviation</span> <span class="k">as</span> <span class="n">summary</span> <span class="nb">type</span><span class="o">.</span>
<span class="n">diss_counties</span> <span class="o">=</span> <span class="n">dissolve_boundaries</span><span class="p">(</span><span class="n">input_layer</span><span class="o">=</span><span class="n">usa_counties</span><span class="p">,</span>
                                    <span class="n">dissolve_fields</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;STATE_NAME&quot;</span><span class="p">],</span>
                                    <span class="n">summary_fields</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;POPULATION STDDEV&quot;</span><span class="p">],</span>
                                    <span class="n">output_name</span><span class="o">=</span><span class="s2">&quot;DissolveBoundaries&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="enrich-layer">
<h2>enrich_layer<a class="headerlink" href="#enrich-layer" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="arcgis.features.analysis.enrich_layer">
<code class="sig-prename descclassname">arcgis.features.analysis.</code><code class="sig-name descname">enrich_layer</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_layer</span></em>, <em class="sig-param"><span class="n">data_collections</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">analysis_variables</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">country</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">buffer_type</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">distance</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">units</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">output_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">context</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">estimate</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">return_boundaries</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">future</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.features.analysis.enrich_layer" title="Permalink to this definition">¶</a></dt>
<dd><img alt="_images/enrich_layer.png" src="_images/enrich_layer.png" />
<p>The <code class="docutils literal notranslate"><span class="pre">enrich_layer</span></code> method enriches your data by getting facts about the people, places, and businesses that surround
your data locations. For example: What kind of people live here? What do people like to do in this area? What are
their habits and lifestyles? What kind of businesses are there in this area?</p>
<p>The result will be a new layer of input features that includes all demographic and geographic information from given data collections.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 75%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Parameter</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>input_layer</p></td>
<td><p>Required layer. The features to enrich with new data. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p>data_collections</p></td>
<td><p>Optional list of strings. This optional parameter defines the collections of data you want to use to enrich your features.
Its value is a list of strings. If you don’t provide this parameter, you must provide the analysis_variables parameter.</p>
<p>For more information about data collections and the values for this parameter, visit the <a class="reference external" href="http://doc.arcgis.com/en/esri-demographics/data/data-browser.htm">Esri Demographics site</a>.</p>
</td>
</tr>
<tr class="row-even"><td><p>analysis_variables</p></td>
<td><p>Optional list of strings. The parameter defines the specific variables within a data collection you want to use to
your features. Its value is a list of strings in the form of “dataCollection.VariableName”. If you don’t provide
this parameter, you must provide the dataCollections parameter. You can provide both parameters.
For example, if you want all variables in the KeyGlobalFacts data collection, specify it in the dataCollections
parameter and use this parameter for specific variables in other collections.</p>
<p>For more information about variables in data collections, visit the <a class="reference external" href="http://doc.arcgis.com/en/esri-demographics/data/data-browser.htm">Esri Demographics site</a>. Each data collection
has a PDF file describing variables and their names.</p>
</td>
</tr>
<tr class="row-odd"><td><p>country</p></td>
<td><p>Optional string. This optional parameter further defines what is returned from data collection.
For example, your input features may be countries in Western Europe, and you want to enrich them with the
KeyWEFacts data collection. However, you only want data for France, not every country in your input layer.
The value is the two-character country code.</p>
<p>For more information about data collections and the values for this parameter, visit the <a class="reference external" href="http://doc.arcgis.com/en/esri-demographics/data/data-browser.htm">Esri Demographics site</a>.</p>
</td>
</tr>
<tr class="row-even"><td><p>buffer_type (Required if input_layer contains point or line features)</p></td>
<td><p>Optional string. If your input features are points or lines, you must define an area around your features that you want to enrich. Features that are within (or equal to) the distances you enter will be enriched.</p>
<p>Choice list: [‘StraightLine’, ‘Driving Distance’, ‘Driving Time ‘, ‘Rural Driving Distance’, ‘Rural Driving Time’, ‘Trucking Distance’, ‘Trucking Time’, ‘Walking Distance’, ‘Walking Time’]</p>
</td>
</tr>
<tr class="row-odd"><td><p>distance (Required if input_layer contains point or line features)</p></td>
<td><p>Optional float. A value that defines the search distance or time. The units of the distance value is supplied by the units parameter.</p></td>
</tr>
<tr class="row-even"><td><p>units</p></td>
<td><p>Optional string. The linear unit to be used with the distance value(s) specified in the distance parameter.</p>
<p>Choice list: [‘Meters’, ‘Kilometers’, ‘Feet’, ‘Yards’, ‘Miles’, ‘Seconds’, ‘Minutes’. ‘Hours’]</p>
</td>
</tr>
<tr class="row-odd"><td><p>output_name</p></td>
<td><p>Optional string. If provided, the task will create a feature service of the results.
You define the name of the service. If output_name is not supplied, the task will return a feature collection.</p></td>
</tr>
<tr class="row-even"><td><p>context</p></td>
<td><p>Optional string. Context contains additional settings that affect task execution. For <code class="docutils literal notranslate"><span class="pre">enrich_layer</span></code> method, there are two settings.</p>
<ol class="arabic simple">
<li><p>Extent (extent)-a bounding box that defines the analysis area. Only those features in the input_layer that intersect the bounding box will be analyzed.</p></li>
<li><p>Output Spatial Reference (outSR) the output features will be projected into the output spatial reference.</p></li>
</ol>
</td>
</tr>
<tr class="row-odd"><td><p>gis</p></td>
<td><p>Optional, the GIS on which this tool runs. If not specified, the active GIS is used.</p></td>
</tr>
<tr class="row-even"><td><p>estimate</p></td>
<td><p>Optional Boolean. If True, the number of credits to run the operation will be returned.</p></td>
</tr>
<tr class="row-odd"><td><p>return_boundaries</p></td>
<td><p>Optional boolean. Applies only for point and line input features. If True, a result layer of areas is returned.
The returned areas are defined by the specified buffer_type. For example, if using a buffer_type of StraightLine with
a distance of 5 miles, your result will contain areas with a 5 mile radius around the input features and requested
analysis_variables variables. If False, the resulting layer will return the same features as the input layer with
analysis_variables variables.</p>
<p>The default value is False.</p>
</td>
</tr>
<tr class="row-even"><td><p>future</p></td>
<td><p>Optional boolean. If True, the result will be a GPJob object and results will be returned asynchronously.</p></td>
</tr>
</tbody>
</table>
<p>:returns result_layer : feature layer Item if output_name is specified, else Feature Collection.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">USAGE</span> <span class="n">EXAMPLE</span><span class="p">:</span> <span class="n">To</span> <span class="n">enrich</span> <span class="n">US</span> <span class="n">block</span> <span class="n">groups</span> <span class="k">with</span> <span class="n">population</span> <span class="k">as</span> <span class="n">analysis</span> <span class="n">variable</span><span class="o">.</span>
<span class="n">blkgrp_enrich</span> <span class="o">=</span> <span class="n">enrich_layer</span><span class="p">(</span><span class="n">block_groups</span><span class="p">,</span>
                             <span class="n">analysis_variables</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;AtRisk.MP27002A_B&quot;</span><span class="p">],</span>
                             <span class="n">country</span><span class="o">=</span><span class="s1">&#39;US&#39;</span><span class="p">,</span>
                             <span class="n">output_name</span><span class="o">=</span><span class="s1">&#39;enrich layer&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="extract-data">
<h2>extract_data<a class="headerlink" href="#extract-data" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="arcgis.features.analysis.extract_data">
<code class="sig-prename descclassname">arcgis.features.analysis.</code><code class="sig-name descname">extract_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_layers</span></em>, <em class="sig-param"><span class="n">extent</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">clip</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">data_format</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">output_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">estimate</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">future</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.features.analysis.extract_data" title="Permalink to this definition">¶</a></dt>
<dd><img alt="_images/extract_data.png" src="_images/extract_data.png" />
<p>The <code class="docutils literal notranslate"><span class="pre">extract_data</span></code> method is used to extract data from one or more layers within a given extent.
The extracted data format can be a file geodatabase, shapefiles, csv, or kml.
File geodatabases and shapefiles are added to a zip file that can be downloaded.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 85%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>input_layers</p></td>
<td><p>Required list of strings. A list of input layers to be extracted. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p>extent</p></td>
<td><p>Optional layer. The extent is the area of interest used to extract the input features. If not specified, all features from each input layer are extracted. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p></td>
</tr>
<tr class="row-even"><td><p>clip</p></td>
<td><p>Optional boolean. A Boolean value that specifies whether the features within the input layer are clipped
within the extent. By default, features are not clipped and all features intersecting the extent are returned.</p>
<p>The default is false.</p>
</td>
</tr>
<tr class="row-odd"><td><p>data_format</p></td>
<td><p>Optional string. A keyword defining the output data format for your extracted data.</p>
<p>Choice list: <code class="docutils literal notranslate"><span class="pre">['FileGeodatabase',</span> <span class="pre">'ShapeFile',</span> <span class="pre">'KML',</span> <span class="pre">'CSV']</span></code></p>
<p>The default is ‘CSV’.</p>
<p>If <em>FileGeodatase</em> is specified <em>and</em> the input layer has <a class="reference external" href="https://enterprise.arcgis.com/en/portal/latest/use/manage-hosted-layers.htm#ESRI_SECTION2_EF4F7A72F7B74E47B5CBCC1F343445E2">attachments:</a></p>
<blockquote>
<div><ul class="simple">
<li><p>if <em>clip=False</em>, the attachments will be extracted to the output file</p></li>
<li><p>if <em>clip=True</em>, the attachments will not be extracted</p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td><p>output_name</p></td>
<td><p>Optional string or dict.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">output_name</span></code> is a string, the output item in your My contents page
will be named by the value. Other item properties will receive default values.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">output_name</span> <span class="o">=</span> <span class="s2">&quot;my_extracted_item&quot;</span>
</pre></div>
</div>
<p>To explicitly provide other item properties, use a dict with the following Syntax.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">output_name</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;title&gt;&quot;</span><span class="p">,</span>
               <span class="s2">&quot;tag&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;tags&gt;&quot;</span><span class="p">,</span>
               <span class="s2">&quot;snippet&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;snippet&gt;&quot;</span><span class="p">,</span>
               <span class="s2">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;description&gt;&quot;</span><span class="p">}</span>
</pre></div>
</div>
<p>For more information on these and other item properties, see the Item resource page in the <a class="reference external" href="https://developers.arcgis.com/rest/users-groups-and-items/item.htm">ArcGIS REST API.</a></p>
</td>
</tr>
<tr class="row-odd"><td><p>gis</p></td>
<td><p>Optional, the GIS on which this tool runs. If not specified, the active GIS is used.</p></td>
</tr>
<tr class="row-even"><td><p>estimate</p></td>
<td><p>Optional boolean. If True, the number of credits to run the operation will be returned.</p></td>
</tr>
<tr class="row-odd"><td><p>future</p></td>
<td><p>Optional boolean. If True, the result will be a GPJob object and results will be returned asynchronously.</p></td>
</tr>
</tbody>
</table>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># USAGE EXAMPLE: To extract data from highways layer with the extent of a state boundary.</span>

<span class="n">ext_state_highway</span> <span class="o">=</span> <span class="n">extract_data</span><span class="p">(</span><span class="n">input_layers</span><span class="o">=</span><span class="p">[</span><span class="n">highways</span><span class="o">.</span><span class="n">layers</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
                         <span class="n">extent</span><span class="o">=</span><span class="n">state_area_boundary</span><span class="o">.</span><span class="n">layers</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                         <span class="n">clip</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                         <span class="n">data_format</span><span class="o">=</span><span class="s1">&#39;ShapeFile&#39;</span><span class="p">,</span>
                         <span class="n">output_name</span><span class="o">=</span><span class="s1">&#39;state highway extracted&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="find-existing-locations">
<h2>find_existing_locations<a class="headerlink" href="#find-existing-locations" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="arcgis.features.analysis.find_existing_locations">
<code class="sig-prename descclassname">arcgis.features.analysis.</code><code class="sig-name descname">find_existing_locations</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_layers</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">expressions</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">output_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">context</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">estimate</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">future</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.features.analysis.find_existing_locations" title="Permalink to this definition">¶</a></dt>
<dd><img alt="_images/find_existing_locations.png" src="_images/find_existing_locations.png" />
<p>The <code class="docutils literal notranslate"><span class="pre">find_existing_locations</span></code> method selects features in the input layer that meet a query you specify.
A query is made up of one or more expressions. There are two types of expressions: attribute and spatial.
An example of an attribute expression is that a parcel must be vacant, which is an attribute of the Parcels layer (where STATUS = ‘VACANT’).
An example of a spatial expression is that the parcel must also be within a certain distance of a river (Parcels within a distance of 0.75 Miles from Rivers).</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 81%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>input_layers</p></td>
<td><p>Required list of feature layers. A list of layers that will be used in the expressions parameter.
Each layer in the list can be:</p>
<ul class="simple">
<li><p>a feature service layer with an optional filter to select specific features, or</p></li>
<li><p>a feature collection</p></li>
</ul>
<p>See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p>
</td>
</tr>
<tr class="row-odd"><td><p>expressions</p></td>
<td><p>Required dict. There are two types of expressions, attribute and spatial.</p>
<p>Example attribute expression:</p>
<dl class="simple">
<dt>{</dt><dd><p>“operator”: “and”,
“layer”: 0,
“where”: “STATUS = ‘VACANT’”</p>
</dd>
</dl>
<p>}</p>
<p><strong>Note</strong></p>
<ul class="simple">
<li><p>operator can be either <code class="docutils literal notranslate"><span class="pre">and</span></code> or <code class="docutils literal notranslate"><span class="pre">or</span></code></p></li>
<li><p>layer is the index of the layer in the <code class="docutils literal notranslate"><span class="pre">input_layers</span></code> parameter.</p></li>
<li><p>The where clause must be surrounded by double quotes.</p></li>
<li><p>When dealing with text fields, values must be single-quoted (‘VACANT’).</p></li>
<li><p>Date fields support all queries except LIKE. Dates are strings in YYYY:MM:DD hh:mm:ss format.</p></li>
</ul>
<blockquote>
<div><p>Here’s an example using the date field ObsDate:</p>
<p>“where”: “ObsDate &gt;= ‘1998-04-30 13:30:00’ “</p>
</div></blockquote>
<table class="docutils align-default">
<colgroup>
<col style="width: 13%" />
<col style="width: 87%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>=</p></td>
<td><p>Equal</p></td>
</tr>
<tr class="row-even"><td><p>&gt;</p></td>
<td><p>Greater than</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;</p></td>
<td><p>Less than</p></td>
</tr>
<tr class="row-even"><td><p>&gt;=</p></td>
<td><p>Greater than or equal to</p></td>
</tr>
<tr class="row-odd"><td><p>&lt;=</p></td>
<td><p>Less than or equal to</p></td>
</tr>
<tr class="row-even"><td><p>&lt;&gt;</p></td>
<td><p>Not equal</p></td>
</tr>
<tr class="row-odd"><td><p>LIKE ‘%
&lt;string&gt;’</p></td>
<td><p>A percent symbol (%) signifies a wildcard, meaning that
anything is acceptable in its place-one character, a
hundred characters, or no character. This expression
would select Mississippi and Missouri among USA
state names: STATE_NAME LIKE ‘Miss%’</p></td>
</tr>
<tr class="row-even"><td><p>BETWEEN
&lt;value1&gt;
AND
&lt;value2&gt;</p></td>
<td><p>Selects a record if it has a value greater than or equal
to &lt;value1&gt; and less than or equal to &lt;value2&gt;.
For example, this expression selects all records with
an HHSIZE value greater than or equal to 3 and less
than or equal to 10:</p>
<p>HHSIZE BETWEEN 3 AND 10</p>
<p>The above is equivalent to:</p>
<p>HHSIZE &gt;= 3 AND HHSIZE &lt;= 10
This operator applies to numeric or date fields.
Here is an example of a date query on the field ObsDate:</p>
<p>ObsDate BETWEEN ‘1998-04-30 00:00:00’ AND ‘1998-04-30 23:59:59’</p>
<p>Time is optional.</p>
</td>
</tr>
<tr class="row-odd"><td><p>NOT
BETWEEN
&lt;value1&gt;
AND
&lt;value2&gt;</p></td>
<td><p>Selects a record if it has a value outside the range between
&lt;value1&gt; and less than or equal to &lt;value2&gt;.
For example, this expression selects all records whose
HHSIZE value is less than 5 and greater than 7.</p>
<p>HHSIZE NOT BETWEEN 5 AND 7</p>
<p>The above is equivalent to:</p>
<p>HHSIZE &lt; 5 OR HHSIZE &gt; 7
This operator applies to numeric or date fields.</p>
<p><strong>Note</strong></p>
<p>You can use the contains relationship with points and lines.
For example, you have a layer of street centerlines (lines) and
a layer of manhole covers (points), and you want to find streets
that contain a manhole cover. You could use contains to find
streets that contain manhole covers, but in order for a line to
contain a point, the point must be exactly on the line (that is,
in GIS terms, they are snapped to each other). If there is any
doubt about this, use the withinDistance relationship with a
suitable distance value.</p>
</td>
</tr>
</tbody>
</table>
<p>Example spatial expression:
{</p>
<blockquote>
<div><p>“operator”: “and”,
“layer”: 0,
“spatialRel”: “withinDistance”,
“selectingLayer”: 1,
“distance”: 10,
“units”: “miles”</p>
</div></blockquote>
<p>}</p>
<ul class="simple">
<li><p>operator can be either <code class="docutils literal notranslate"><span class="pre">and</span></code> or <code class="docutils literal notranslate"><span class="pre">or</span></code></p></li>
<li><p>layer is the index of the layer in <code class="docutils literal notranslate"><span class="pre">the</span> <span class="pre">input_layers</span></code> parameter. The result of the expression is features in this layer.</p></li>
<li><p>spatialRel is the spatial relationship. There are nine spatial relationships.</p></li>
<li><p>distance is the distance to use for the withinDistance and notWithinDistance spatial relationship.</p></li>
<li><p>units is the units for distance.</p></li>
</ul>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 82%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>spatialRel</p></td>
<td><p>Description</p></td>
</tr>
<tr class="row-even"><td><p>intersects</p>
<p>notIntersects</p>
</td>
<td><p><img alt="intersect" src="_images/intersect.png" /></p>
<p>A feature in layer passes the intersect test if it overlaps
any part of a feature in selectingLayer, including touches
(where features share a common point).</p>
<ul class="simple">
<li><p>intersects-If a feature in layer intersects a feature in
selectingLayer, the portion of the feature in layer that
intersects the feature in selectingLayer is included in
the output.</p></li>
<li><p>notintersects-If a feature in layer intersects a feature in
selectingLayer, the portion of the feature in layer that
intersects the feature in selectingLayer is excluded from
the output.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>withinDistance</p>
<p>notWithinDistance</p>
</td>
<td><p><img alt="distance" src="_images/distance.png" /></p>
<p>The within a distance relationship uses the straight-line
distance between features in layer to those in selectingLayer.
withinDistance-The portion of the feature in layer that is
within the specified distance of a feature in selectingLayer
is included in the output.
notwithinDistance-The portion of the feature in layer that is
within the specified distance of a feature in selectingLayer is
excluded from output. You can think of this relationship as
“is farther away than”.</p>
</td>
</tr>
<tr class="row-even"><td><p>contains</p>
<p>notContains</p>
</td>
<td><p><img alt="intersect" src="_images/intersect.png" /></p>
<p>A feature in layer passes this test if it completely
surrounds a feature in selectingLayer. No portion of the
containing feature; however, the contained feature is allowed
to touch the containing feature (that is, share a common
point along its boundary).</p>
<p>contains-If a feature in layer contains a feature in
selectingLayer, the feature in layer is included in the output.
notcontains-If a feature in layer contains a feature in
selectingLayer, the feature in the first layer is excluded</p>
</td>
</tr>
<tr class="row-odd"><td><p>within</p>
<p>notWithin</p>
</td>
<td><p><img alt="within" src="_images/within.png" /></p>
<p>A feature in layer passes this test if it is completely
surrounded by a feature in selectingLayer. The entire feature
layer must be within the containing feature; however, the two
features are allowed to touch (that is, share a common point
along its boundary).</p>
<ul class="simple">
<li><p>within-If a feature in layer is completely within a feature in
selectingLayer, the feature in layer is included in the output.</p></li>
<li><p>notwithin-If a feature in layer is completely within a feature
in selectingLayer, the feature in layer is excluded from the
output.</p></li>
</ul>
<p><strong>Note:</strong></p>
<p>can use the within relationship for points and lines, just as
you can with the contains relationship. For example, your first
layer contains points representing manhole covers and you want
to find the manholes that are on street centerlines (as opposed
to parking lots or other non-street features). You could use
within to find manhole points within street centerlines, but
in order for a point to contain a line, the point must be exactly
on the line (that is, in GIS terms, they are snapped to each
other). If there is any doubt about this, use the withinDistance
relationship with a suitable distance value.</p>
</td>
</tr>
<tr class="row-even"><td><p>nearest</p></td>
<td><p><img alt="nearest" src="_images/nearest.png" /></p>
<p>feature in the first layer passes this test if it is nearest
to a feature in the second layer.</p>
<ul class="simple">
<li><p>nearest-If a feature in the first layer is nearest to a
feature in the second layer, the feature in the first layer
is included in the output.</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">distance</span></code> is the distance to use for the withinDistance and notWithinDistance spatial relationship.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">units</span></code> is the units for distance.</p></li>
</ul>
<p>Choice list: [‘Meters’, ‘Kilometers’, ‘Feet’, ‘Yards’, ‘Miles’]</p>
<p>An expression may be a list, which denotes a group. The first operator in the group indicates how the group expression
is added to the previous expression. Grouping expressions is only necessary when you need to create two or more distinct
sets of features from the same layer. One way to think of grouping is that without grouping, you would have to execute
<code class="docutils literal notranslate"><span class="pre">find_existing_locations</span></code> multiple times and merge the results.</p>
</td>
</tr>
<tr class="row-odd"><td><p>output_name</p></td>
<td><p>Optional string. If provided, the method will create a feature layer of the results. You define the name of the layer.
If <code class="docutils literal notranslate"><span class="pre">output_name</span></code> is not supplied, the task will return a feature collection.</p></td>
</tr>
<tr class="row-even"><td><p>context</p></td>
<td><p>Optional string. Additional settings such as processing extent and output spatial reference. For <code class="docutils literal notranslate"><span class="pre">find_existing_locations</span></code>, there are two settings.</p>
<ol class="arabic simple">
<li><p>Extent (<code class="docutils literal notranslate"><span class="pre">extent</span></code>)-a bounding box that defines the analysis area. Only those points in the input_layers that intersect the bounding box will be analyzed.</p></li>
<li><p>Output Spatial Reference (<code class="docutils literal notranslate"><span class="pre">outSR</span></code>)-the output features will be projected into the output spatial reference.</p></li>
</ol>
</td>
</tr>
<tr class="row-odd"><td><p>gis</p></td>
<td><p>Optional, the GIS on which this tool runs. If not specified, the active GIS is used.</p></td>
</tr>
<tr class="row-even"><td><p>estimate</p></td>
<td><p>Optional boolean. Is true, the number of credits needed to run the operation will be returned as a float.</p></td>
</tr>
<tr class="row-odd"><td><p>future</p></td>
<td><p>Optional boolean. If True, the result will be a GPJob object and results will be returned asynchronously.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>result_layer : feature layer Item if output_name is specified, else Feature Collection.</p>
</dd>
</dl>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#USAGE EXAMPLE: To find busy (where SEGMENT_TY is 1 and where ARTERIAL_C is 1) streets from the existing seattle streets layer.</span>

<span class="n">arterial_streets</span> <span class="o">=</span> <span class="n">find_existing_locations</span><span class="p">(</span><span class="n">input_layers</span><span class="o">=</span><span class="p">[</span><span class="n">bike_route_streets</span><span class="p">],</span>
                <span class="n">expressions</span><span class="o">=</span><span class="p">[{</span><span class="s2">&quot;operator&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;layer&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;where&quot;</span><span class="p">:</span><span class="s2">&quot;SEGMENT_TY = 1&quot;</span><span class="p">},</span>
                             <span class="p">{</span><span class="s2">&quot;operator&quot;</span><span class="p">:</span><span class="s2">&quot;and&quot;</span><span class="p">,</span><span class="s2">&quot;layer&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;where&quot;</span><span class="p">:</span><span class="s2">&quot;ARTERIAL_C = 1&quot;</span><span class="p">}],</span>
                               <span class="n">output_name</span><span class="o">=</span><span class="s1">&#39;ArterialStreets&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="find-hot-spots">
<h2>find_hot_spots<a class="headerlink" href="#find-hot-spots" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="arcgis.features.analysis.find_hot_spots">
<code class="sig-prename descclassname">arcgis.features.analysis.</code><code class="sig-name descname">find_hot_spots</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">analysis_layer</span></em>, <em class="sig-param"><span class="n">analysis_field</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">divided_by_field</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">bounding_polygon_layer</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">aggregation_polygon_layer</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">output_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">context</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">estimate</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">shape_type</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cell_size</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">cell_size_unit</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">distance_band</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">distance_band_unit</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">future</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.features.analysis.find_hot_spots" title="Permalink to this definition">¶</a></dt>
<dd><img alt="_images/find_hot_spots.png" src="_images/find_hot_spots.png" />
<p>The <code class="docutils literal notranslate"><span class="pre">find_hot_spots</span></code> method analyzes point data (such as crime incidents, traffic accidents, or trees) or field values associated with
points or area features (such as the number of people in each census tract or the total sales for retail stores). It finds statistically
significant spatial clusters of high values (hot spots) and low values (cold spots). For point data when no field is specified, hot spots
are locations with lots of points and cold spots are locations with very few points.</p>
<p>The result map layer shows hot spots in red and cold spots in blue. The darkest red features indicate the strongest clustering of high values
or point densities; you can be 99 percent confident that the clustering associated with these features could not be the result of random chance.
Similarly, the darkest blue features are associated with the strongest spatial clustering of low values or the lowest point densities.
Features that are beige are not part of a statistically significant cluster; the spatial pattern associated with these features could very likely
be the result of random processes and random chance.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 28%" />
<col style="width: 72%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>analysis_layer (Required if the analysis_layer contains polygons)</p></td>
<td><p>Required layer. The point or polygon feature layer for which hot spots will be calculated. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p>analysis_field</p></td>
<td><p>Optional string. The numeric field that will be analyzed. The field you select might represent:</p>
<blockquote>
<div><ul class="simple">
<li><p>counts (such as the number of traffic accidents)</p></li>
<li><p>rates (such as the number of crimes per square mile)</p></li>
<li><p>averages (such as the mean math test score)</p></li>
<li><p>indices (such as a customer satisfaction score)</p></li>
</ul>
</div></blockquote>
<p>If an <code class="docutils literal notranslate"><span class="pre">analysis_field</span></code> is not supplied, hot spot results are based on point densities only.</p>
</td>
</tr>
<tr class="row-even"><td><p>divided_by_field</p></td>
<td><p>Optional string. The numeric field in the <code class="docutils literal notranslate"><span class="pre">analysis_layer</span></code> that will be used to normalize your data.
For example, if your points represent crimes, dividing by total population would result in an analysis of crimes per capita rather than raw crime counts.</p>
<p>You can use esriPopulation to geoenrich each area feature with the most recent population values, which will then be
used as the attribute to divide by. This option will use credits.</p>
</td>
</tr>
<tr class="row-odd"><td><p>bounding_polygon_layer</p></td>
<td><p>Optional layer. When the analysis layer is points and no <code class="docutils literal notranslate"><span class="pre">analysis_field</span></code> is specified, you can provide polygons features that define where incidents could have occurred.
For example, if you are analyzing boating accidents in a harbor, the outline of the harbor might provide a good boundary for where accidents could occur.
When no bounding areas are provided, only locations with at least one point will be included in the analysis. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p></td>
</tr>
<tr class="row-even"><td><p>aggregation_polygon_layer</p></td>
<td><p>Optional layer. When the <code class="docutils literal notranslate"><span class="pre">analysis_layer</span></code> contains points and no <code class="docutils literal notranslate"><span class="pre">analysis_field</span></code> is specified,
you can provide polygon features into which the points will be aggregated and analyzed, such as administrative units.
The number of points that fall within each polygon are counted, and the point count in each polygon is analyzed. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p>output_name</p></td>
<td><p>Optional string. If provided, the task will create a feature service of the results.
You define the name of the service. If <code class="docutils literal notranslate"><span class="pre">output_name</span></code> is not supplied, the task will return a feature collection.</p></td>
</tr>
<tr class="row-even"><td><p>context</p></td>
<td><p>Optional string. Context contains additional settings that affects method execution. For <code class="docutils literal notranslate"><span class="pre">find_hot_spots</span></code>, there are two settings.</p>
<ol class="arabic simple">
<li><p>Extent (<code class="docutils literal notranslate"><span class="pre">extent</span></code>) - a bounding box that defines the analysis area. Only those features in the <code class="docutils literal notranslate"><span class="pre">analysis_layer</span></code> that intersect the bounding box will be analyzed.</p></li>
<li><p>Output Spatial Reference (<code class="docutils literal notranslate"><span class="pre">outSR</span></code>) - the data will be projected into the output spatial reference prior to analysis.</p></li>
</ol>
</td>
</tr>
<tr class="row-odd"><td><p>gis</p></td>
<td><p>Optional, the GIS on which this tool runs. If not specified, the active GIS is used.</p></td>
</tr>
<tr class="row-even"><td><p>estimate</p></td>
<td><p>Optional Boolean. Is true, the number of credits needed to run the operation will be returned as a float.</p></td>
</tr>
<tr class="row-odd"><td><p>shape_type</p></td>
<td><p>Optional string. The shape of the polygon mesh the input features will be aggregated into.</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Fishnet</span></code>-The input features will be aggregated into a grid of square (fishnet) cells.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Hexagon</span></code>-The input features will be aggregated into a grid of hexagonal cells.</p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td><p>cell_size</p></td>
<td><p>Optional float. The size of the grid cells used to aggregate your features.
When aggregating into a hexagon grid, this distance is used as the height to construct the hexagon polygons.</p></td>
</tr>
<tr class="row-odd"><td><p>cell_size_unit</p></td>
<td><p>Optional string. The units of the <code class="docutils literal notranslate"><span class="pre">cell_size</span></code> value. You must provide a value if <code class="docutils literal notranslate"><span class="pre">cell_size</span></code> has been set.</p>
<p>Choice list: [‘Meters’, ‘Miles’, ‘Feet’, ‘Kilometers’]</p>
</td>
</tr>
<tr class="row-even"><td><p>distance_band</p></td>
<td><p>Optional float. The spatial extent of the analysis neighborhood. This value determines which features are analyzed together
in order to assess local clustering.</p></td>
</tr>
<tr class="row-odd"><td><p>distance_band_unit</p></td>
<td><p>Optional string. The units of the <code class="docutils literal notranslate"><span class="pre">distance_band</span></code> value. You must provide a value if <code class="docutils literal notranslate"><span class="pre">distance_band</span></code> has been set.</p></td>
</tr>
<tr class="row-even"><td><p>future</p></td>
<td><p>Optional boolean. If True, the result will be a GPJob object and results will be returned asynchronously.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>result_layer : feature layer Item if output_name is specified, else a dictionary with a Feature Collection and processing messages.</p>
</dd>
</dl>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">USAGE</span> <span class="n">EXAMPLE</span><span class="p">:</span> <span class="n">To</span> <span class="n">find</span> <span class="n">significant</span> <span class="n">hot</span> <span class="n">ot</span> <span class="n">cold</span> <span class="n">spots</span> <span class="n">of</span> <span class="n">collisions</span> <span class="n">involving</span> <span class="n">a</span> <span class="n">bicycle</span> <span class="n">within</span> <span class="n">a</span> <span class="n">specific</span> <span class="n">boundary</span><span class="o">.</span>
<span class="n">collision_hot_spots</span> <span class="o">=</span> <span class="n">find_hot_spots</span><span class="p">(</span><span class="n">collisions</span><span class="p">,</span>
                                     <span class="n">bounding_polygon_layer</span><span class="o">=</span><span class="n">boundry_lyr</span><span class="p">,</span>
                                     <span class="n">output_name</span><span class="o">=</span><span class="s1">&#39;collision_hexagon_hot_spots&#39;</span><span class="p">,</span>
                                     <span class="n">shape_type</span><span class="o">=</span><span class="s1">&#39;hexagon&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="find-nearest">
<h2>find_nearest<a class="headerlink" href="#find-nearest" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="arcgis.features.analysis.find_nearest">
<code class="sig-prename descclassname">arcgis.features.analysis.</code><code class="sig-name descname">find_nearest</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">analysis_layer</span></em>, <em class="sig-param"><span class="n">near_layer</span></em>, <em class="sig-param"><span class="n">measurement_type</span><span class="o">=</span><span class="default_value">'StraightLine'</span></em>, <em class="sig-param"><span class="n">max_count</span><span class="o">=</span><span class="default_value">100</span></em>, <em class="sig-param"><span class="n">search_cutoff</span><span class="o">=</span><span class="default_value">2147483647</span></em>, <em class="sig-param"><span class="n">search_cutoff_units</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">time_of_day</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">time_zone_for_time_of_day</span><span class="o">=</span><span class="default_value">'GeoLocal'</span></em>, <em class="sig-param"><span class="n">output_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">context</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">estimate</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">include_route_layers</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">point_barrier_layer</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">line_barrier_layer</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">polygon_barrier_layer</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">future</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.features.analysis.find_nearest" title="Permalink to this definition">¶</a></dt>
<dd><img alt="_images/find_nearest.png" src="_images/find_nearest.png" />
<p>The <code class="docutils literal notranslate"><span class="pre">find_nearest</span></code> method measures the straight-line distance, driving distance, or driving time from
features in the analysis layer to features in the near layer, and copies the nearest features in the near
layer to a new layer. Connecting lines showing the measured path are returned as well. <code class="docutils literal notranslate"><span class="pre">find_nearest</span></code> also
reports the measurement and relative rank of each nearest feature. There are options to limit the number
of nearest features to find or the search range in which to find them. The results from this method can help
you answer the following kinds of questions:</p>
<ul class="simple">
<li><p>What is the nearest park from here?</p></li>
<li><p>Which hospital can I reach in the shortest drive time? And how long would the trip take on a Tuesday at 5:30 p.m. during rush hour?</p></li>
<li><p>What are the road distances between major European cities?</p></li>
<li><p>Which of these patients reside within two miles of these chemical plants?</p></li>
</ul>
<p>Find Nearest returns a layer containing the nearest features and a line layer that links the start locations to their nearest locations.
The connecting line layer contains information about the start and nearest locations and the distances between.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 5%" />
<col style="width: 95%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Parameter</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>analysis_layer</p></td>
<td><p>Required layer. The features from which the nearest locations are found. This layer can have point, line, or polygon features. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p>near_layer</p></td>
<td><p>Required layer. The nearest features are chosen from this layer. This layer can have point, line, or polygon features. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p></td>
</tr>
<tr class="row-even"><td><p>measurement_type</p></td>
<td><p>Required string. Specify the mode of transportation for the analysis.</p>
<p>Choice list: [‘StraightLine’, ‘Driving Distance’, ‘Driving Time ‘, ‘Rural Driving Distance’, ‘Rural Driving Time’, ‘Trucking Distance’, ‘Trucking Time’, ‘Walking Distance’, ‘Walking Time’]</p>
<p>The default is ‘StraightLine’.</p>
</td>
</tr>
<tr class="row-odd"><td><p>max_count</p></td>
<td><p>Optional string. The maximum number of nearest locations to find for each feature in <code class="docutils literal notranslate"><span class="pre">analysis_layer</span></code>. The default is the maximum cutoff allowed by the service, which is 100.</p>
<p>Note that setting a maxCount for this parameter doesn’t guarantee that many features will be found. The <code class="docutils literal notranslate"><span class="pre">search_cutoff</span></code> and other constraints may also reduce the number of features found.</p>
</td>
</tr>
<tr class="row-even"><td><p>search_cutoff</p></td>
<td><p>Optional float. The maximum range to search for nearest locations from each feature in the <code class="docutils literal notranslate"><span class="pre">analysis_layer</span></code>.
The units for this parameter is always minutes when <code class="docutils literal notranslate"><span class="pre">measurement_type</span></code> is set to a time based travel mode;
otherwise the units are set in the <code class="docutils literal notranslate"><span class="pre">search_cutoff_units</span></code> parameter.</p>
<p>The default is to search without bounds.</p>
</td>
</tr>
<tr class="row-odd"><td><p>search_cutoff_units</p></td>
<td><p>The units of the <code class="docutils literal notranslate"><span class="pre">search_cutoff</span></code> parameter. This parameter is ignored when <code class="docutils literal notranslate"><span class="pre">measurement_type</span></code> is set to a time based travel
mode because the units for <code class="docutils literal notranslate"><span class="pre">search_cutoff</span></code> are always minutes in those cases. If <code class="docutils literal notranslate"><span class="pre">measurement_type</span></code> is set to StraightLine or another distance-based travel mode, and a value for <code class="docutils literal notranslate"><span class="pre">search_cutoff</span></code> is specified, set the cutoff units using this parameter.</p>
<p>Choice list: [‘Kilometers’, ‘Meters’, ‘Miles’, ‘Feet’, ‘’]</p>
<p>The default value is null, which causes the service to choose either miles or kilometers according to the units property of the user making the request.</p>
</td>
</tr>
<tr class="row-even"><td><p>time_of_day</p></td>
<td><p>Optional datetime.datetime. Specify whether travel times should consider traffic conditions. To use traffic in the analysis, set <code class="docutils literal notranslate"><span class="pre">measurement_type</span></code> to a travel mode object whose impedance_attribute_name property is set to travel_time and assign a value to <code class="docutils literal notranslate"><span class="pre">time_of_day</span></code>. (A travel mode with other impedance_attribute_name values don’t support traffic.) The <code class="docutils literal notranslate"><span class="pre">time_of_day</span></code> value represents the time at which travel begins, or departs, from the origin points. The time is specified as datetime.datetime.</p>
<p>The service supports two kinds of traffic: typical and live. Typical traffic references travel speeds that are made up of historical averages for each five-minute interval spanning a week. Live traffic retrieves speeds from a traffic feed that processes phone probe records, sensors, and other data sources to record actual travel speeds and predict speeds for the near future.</p>
<p>The <a class="reference external" href="http://www.arcgis.com/home/webmap/viewer.html?webmap=b7a893e8e1e04311bd925ea25cb8d7c7">data coverage</a> page shows the countries Esri currently provides traffic data for.</p>
<p>Typical Traffic:</p>
<p>To ensure the task uses typical traffic in locations where it is available, choose a time and day of the week, and then convert the day of the week to one of the following dates from 1990:</p>
<ul class="simple">
<li><p>Monday - 1/1/1990</p></li>
<li><p>Tuesday - 1/2/1990</p></li>
<li><p>Wednesday - 1/3/1990</p></li>
<li><p>Thursday - 1/4/1990</p></li>
<li><p>Friday - 1/5/1990</p></li>
<li><p>Saturday - 1/6/1990</p></li>
<li><p>Sunday - 1/7/1990</p></li>
</ul>
<p>Set the time and date as datetime.datetime.</p>
<p>For example, to solve for 1:03 p.m. on Thursdays, set the time and date to 1:03 p.m., 4 January 1990; and convert to datetime eg. datetime.datetime(1990, 1, 4, 1, 3).</p>
<p>Live Traffic:</p>
<p>To use live traffic when and where it is available, choose a time and date and convert to datetime.</p>
<p>Esri saves live traffic data for 12 hours and references predictive data extending 12 hours into the future. If the time and date you specify for this parameter is outside the 24-hour time window, or the travel time in the analysis continues past the predictive data window, the task falls back to typical traffic speeds.</p>
<p>Examples:
from datetime import datetime</p>
<ul class="simple">
<li><p>“time_of_day”: datetime(1990, 1, 4, 1, 3) # 13:03, 4 January 1990. Typical traffic on Thursdays at 1:03 p.m.</p></li>
<li><p>“time_of_day”: datetime(1990, 1, 7, 17, 0) # 17:00, 7 January 1990. Typical traffic on Sundays at 5:00 p.m.</p></li>
<li><p>“time_of_day”: datetime(2014, 10, 22, 8, 0) # 8:00, 22 October 2014. If the current time is between 8:00 p.m., 21 Oct. 2014 and 8:00 p.m., 22 Oct. 2014, live traffic speeds are referenced in the analysis; otherwise, typical traffic speeds are referenced.</p></li>
<li><p>“time_of_day”: datetime(2015, 3, 18, 10, 20) # 10:20, 18 March 2015. If the current time is between 10:20 p.m., 17 Mar. 2015 and 10:20 p.m., 18 Mar. 2015, live traffic speeds are referenced in the analysis; otherwise, typical traffic speeds are referenced.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>time_zone_for_time_of_day</p></td>
<td><p>Optional string. Specify the time zone or zones of the <code class="docutils literal notranslate"><span class="pre">time_of_day</span></code> parameter.</p>
<p>Choice list: [‘GeoLocal’, ‘UTC’]</p>
<p><code class="docutils literal notranslate"><span class="pre">GeoLocal</span></code>-refers to the time zone in which the origins_layer points are located.</p>
<p><code class="docutils literal notranslate"><span class="pre">UTC</span></code>-refers to Coordinated Universal Time.</p>
</td>
</tr>
<tr class="row-even"><td><p>include_route_layers</p></td>
<td><p>Optional boolean. When <code class="docutils literal notranslate"><span class="pre">include_route_layers</span></code> is set to True, each route from the result is also saved as a route layer item.
A route layer includes all the information for a particular route such as the stops assigned to the route as well
as the travel directions. Creating route layers is useful if you want to share individual routes with other members in your organization.
The route layers use the output feature service name provided in the <code class="docutils literal notranslate"><span class="pre">output_name</span></code> parameter as a prefix and the route name generated as part
of the analysis is added to create a unique name for each route layer.</p>
<p><strong>Caution:</strong></p>
<p>Route layers cannot be created when the output is a feature collection. The task will raise an error if <code class="docutils literal notranslate"><span class="pre">output_name</span></code> is not
specified (which indicates feature collection output) and <code class="docutils literal notranslate"><span class="pre">include_route_layers</span></code> is True.</p>
<p>The maximum number of route layers that can be created is 1,000. If the result contains more than 1,000 routes
and <code class="docutils literal notranslate"><span class="pre">include_route_layers</span></code> is True, the task will only create the output feature service.</p>
</td>
</tr>
<tr class="row-odd"><td><p>point_barrier_layer</p></td>
<td><p>Optional layer. Specify one or more point features that act as temporary restrictions (in other words, barriers) when traveling on the underlying streets.</p>
<p>A point barrier can model a fallen tree, an accident, a downed electrical line, or anything that completely blocks traffic at a specific
position along the street. Travel is permitted on the street but not through the barrier.</p>
</td>
</tr>
<tr class="row-even"><td><p>line_barrier_layer</p></td>
<td><p>Optional layer. Specify one or more line features that prohibit travel anywhere the lines intersect the streets.</p>
<p>A line barrier prohibits travel anywhere the barrier intersects the streets. For example, a parade or protest that blocks traffic across
several street segments can be modeled with a line barrier.</p>
</td>
</tr>
<tr class="row-odd"><td><p>polygon_barrier_layer</p></td>
<td><p>Optional layer. Specify one or more polygon features that completely restrict travel on the streets intersected by the polygons.</p>
<p>One use of this type of barrier is to model floods covering areas of the street network and making road travel there impossible.</p>
</td>
</tr>
<tr class="row-even"><td><p>output_name</p></td>
<td><p>Optional string. Output feature layer collection. If not provided, a feature collection is returned.</p></td>
</tr>
<tr class="row-odd"><td><p>context</p></td>
<td><p>Optional dict. Context contains additional settings that affect task execution. For <code class="docutils literal notranslate"><span class="pre">find_nearest</span></code>, there are two settings.</p>
<ol class="arabic simple">
<li><p>Extent (<code class="docutils literal notranslate"><span class="pre">extent</span></code>)-a bounding box that defines the analysis area. Only those points in the <code class="docutils literal notranslate"><span class="pre">input_layer</span></code>
that intersect the bounding box will be analyzed.</p></li>
<li><p>Output Spatial Reference (<code class="docutils literal notranslate"><span class="pre">outSR</span></code>) - the output features will be projected into the output spatial reference.</p></li>
</ol>
</td>
</tr>
<tr class="row-even"><td><p>gis</p></td>
<td><p>Optional, the GIS on which this tool runs. If not specified, the active GIS is used.</p></td>
</tr>
<tr class="row-odd"><td><p>estimate</p></td>
<td><p>Optional boolean. If True, the estimated number of credits required to run the operation will be returned.</p></td>
</tr>
<tr class="row-even"><td><p>future</p></td>
<td><p>Optional boolean. If True, the result will be a GPJob object and results will be returned asynchronously.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p></p></dd>
</dl>
<p>dict with the following keys:</p>
<blockquote>
<div><p>“nearest_layer” : layer (FeatureCollection)</p>
<p>“connecting_lines_layer” : layer (FeatureCollection)</p>
</div></blockquote>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#USAGE EXAMPLE: To find which regional office can be reached in the shortest drive time from esri headquarter.</span>

<span class="n">result1</span> <span class="o">=</span> <span class="n">find_nearest</span><span class="p">(</span><span class="n">analysis_layer</span><span class="o">=</span><span class="n">esri_hq_lyr</span><span class="p">,</span>
                       <span class="n">near_layer</span><span class="o">=</span><span class="n">regional_offices_lyr</span><span class="p">,</span>
                       <span class="n">measurement_type</span><span class="o">=</span><span class="s2">&quot;Driving Time&quot;</span><span class="p">,</span>
                       <span class="n">output_name</span><span class="o">=</span><span class="s2">&quot;find nearest office&quot;</span><span class="p">,</span>
                       <span class="n">include_route_layers</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                       <span class="n">point_barrier_layer</span><span class="o">=</span><span class="n">road_closures_lyr</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="find-point-clusters">
<h2>find_point_clusters<a class="headerlink" href="#find-point-clusters" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="arcgis.features.analysis.find_point_clusters">
<code class="sig-prename descclassname">arcgis.features.analysis.</code><code class="sig-name descname">find_point_clusters</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">analysis_layer</span></em>, <em class="sig-param"><span class="n">min_features_cluster</span></em>, <em class="sig-param"><span class="n">search_distance</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">search_distance_unit</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">output_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">context</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">estimate</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">future</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.features.analysis.find_point_clusters" title="Permalink to this definition">¶</a></dt>
<dd><img alt="_images/find_point_clusters.png" src="_images/find_point_clusters.png" />
<p>The <code class="docutils literal notranslate"><span class="pre">find_point_clusters</span></code> method finds clusters of point features within surrounding
noise based on their spatial distribution.</p>
<p>This method uses unsupervised machine learning clustering algorithms to detect
patterns of point features based purely on spatial location and, optionally,
the distance to a specified number of features.</p>
<p>The result map shows each cluster identified as well as features considered
noise. Multiple clusters will be assigned each color. Colors will be assigned
and repeated so that each cluster is visually distinct from its neighboring clusters.</p>
<p>This method utilizes two related algorithms. By default the HDBSCAN algorithm is
used to find clusters. If a <code class="docutils literal notranslate"><span class="pre">search_distance</span></code> is specified, the DBSCAN algorithm
is used. DBSCAN is only appropriate if there is a very clear search distance to use
for your analysis and will return clusters with similar densities. When
no <code class="docutils literal notranslate"><span class="pre">search_distance</span></code> is specified, HDBSCAN will use a range of distances to separate clusters
of varying densities from sparser noise resulting in more data-driven clusters.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11%" />
<col style="width: 89%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>analysis_layer</p></td>
<td><p>Required layer. The point feature layer for which
density-based clustering will be calculated.
See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p>min_features_cluster</p></td>
<td><p>Required integer. The minimum number of features to be
considered a cluster. Any cluster with fewer features
than the number provided will be considered noise.</p></td>
</tr>
<tr class="row-even"><td><p>search_distance</p></td>
<td><p>Optional float. The maximum distance to consider. The
Minimum Features per Cluster specified must be found
within this distance for cluster membership. Individual
clusters will be separated by at least this distance. If
a feature is located further than this distance from the
next closest feature in the cluster, it will not be
included in the cluster.</p></td>
</tr>
<tr class="row-odd"><td><p>search_distance_unit</p></td>
<td><p>Optional string. The linear unit to be used with the distance
value specified for <code class="docutils literal notranslate"><span class="pre">search_distance</span></code>. You must provide a
value if <code class="docutils literal notranslate"><span class="pre">search_distance</span></code> has been set.</p>
<p>Choice list: [‘Feet’, ‘Miles’, ‘Meters’, ‘Kilometers’]</p>
<p>The default is ‘Miles’.</p>
</td>
</tr>
<tr class="row-even"><td><p>output_name</p></td>
<td><p>Optional string. If provided, the method will create a
feature service of the results. You define the name of
the service. If <code class="docutils literal notranslate"><span class="pre">output_name</span></code> is not supplied, the method
will return a feature collection.</p></td>
</tr>
<tr class="row-odd"><td><p>context</p></td>
<td><p>Optional string. Context contains additional settings that affect method execution. For <code class="docutils literal notranslate"><span class="pre">find_point_clusters</span></code>, there are two settings.</p>
<ol class="arabic simple">
<li><p>Extent (<code class="docutils literal notranslate"><span class="pre">extent</span></code>) - a bounding box that defines the analysis area. Only those features in the input layer that intersect the bounding box will be buffered.</p></li>
<li><p>Output Spatial Reference (<code class="docutils literal notranslate"><span class="pre">outSR</span></code>) - the output features will be projected into the output spatial reference.</p></li>
</ol>
</td>
</tr>
<tr class="row-even"><td><p>gis</p></td>
<td><p>Optional, the GIS on which this tool runs. If not
specified, the active GIS is used.</p></td>
</tr>
<tr class="row-odd"><td><p>estimate</p></td>
<td><p>Optional Boolean. If True, the number of credits to run the operation will be returned.</p></td>
</tr>
<tr class="row-even"><td><p>future</p></td>
<td><p>Optional boolean. If True, the result will be a GPJob object and results will be returned asynchronously.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>result_layer : feature layer Item if <code class="docutils literal notranslate"><span class="pre">output_name</span></code> is specified, else Feature collection.</p>
</dd>
</dl>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">USAGE</span> <span class="n">EXAMPLE</span><span class="p">:</span> <span class="n">To</span> <span class="n">find</span> <span class="n">patterns</span> <span class="n">of</span> <span class="n">taffic</span> <span class="n">accidents</span> <span class="n">purely</span> <span class="n">on</span> <span class="n">spatial</span> <span class="n">location</span><span class="o">.</span>
<span class="n">clusters</span><span class="o">=</span> <span class="n">find_point_clusters</span><span class="p">(</span><span class="n">collision</span><span class="p">,</span>
                              <span class="n">min_features_cluster</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>
                              <span class="n">search_distance</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                              <span class="n">search_distance_unit</span><span class="o">=</span><span class="s1">&#39;Kilometers&#39;</span><span class="p">,</span>
                              <span class="n">output_name</span><span class="o">=</span><span class="s1">&#39;find point clusters&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="find-similar-locations">
<h2>find_similar_locations<a class="headerlink" href="#find-similar-locations" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="arcgis.features.analysis.find_similar_locations">
<code class="sig-prename descclassname">arcgis.features.analysis.</code><code class="sig-name descname">find_similar_locations</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_layer</span></em>, <em class="sig-param"><span class="n">search_layer</span></em>, <em class="sig-param"><span class="n">analysis_fields</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">input_query</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">number_of_results</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">output_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">context</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">estimate</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">future</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.features.analysis.find_similar_locations" title="Permalink to this definition">¶</a></dt>
<dd><img alt="_images/find_similar_locations.png" src="_images/find_similar_locations.png" />
<p>The <code class="docutils literal notranslate"><span class="pre">find_similar_locations</span></code> method measures the similarity of candidate locations to one or more reference locations.</p>
<p>Based on criteria you specify, Find <code class="docutils literal notranslate"><span class="pre">find_similar_locations</span></code> can answer questions such as the following:</p>
<p>Which of your stores are most similar to your top performers with regard to customer profiles?
Based on characteristics of villages hardest hit by the disease, which other villages are high risk?
To answer questions such as these, you provide the reference locations (the <code class="docutils literal notranslate"><span class="pre">input_layer</span></code> parameter), the candidate
locations (the <code class="docutils literal notranslate"><span class="pre">search_layer</span></code> parameter), and the fields representing the criteria you want to match. For example,
the <code class="docutils literal notranslate"><span class="pre">input_layer</span></code> might be a layer containing your top performing stores or the villages hardest hit by the disease.
The <code class="docutils literal notranslate"><span class="pre">search_layer</span></code> contains your candidate locations to search. This might be all of your stores or all other villages.
Finally, you supply a list of fields to use for measuring similarity. <code class="docutils literal notranslate"><span class="pre">find_similar_locations</span></code> will rank all of the
candidate locations by how closely they match your reference locations across all of the fields you have selected.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 84%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>input_layer</p></td>
<td><p>Required feature layer. The <code class="docutils literal notranslate"><span class="pre">input_layer</span></code> contains one or more
reference locations against which features in the <code class="docutils literal notranslate"><span class="pre">search_layer</span></code>
will be evaluated for similarity. For example, the <code class="docutils literal notranslate"><span class="pre">input_layer</span></code>
might contain your top performing stores or the villages hardest
hit by a disease.
It is not uncommon that the <code class="docutils literal notranslate"><span class="pre">input_layer</span></code> and <code class="docutils literal notranslate"><span class="pre">search_layer</span></code> are the
same feature service. For example, the feature service contains
locations of all stores, one of which is your top performing store.
If you want to rank the remaining stores from most to least similar
to your top performing store, you can provide a filter for both the
inputLayer and the <code class="docutils literal notranslate"><span class="pre">search_layer</span></code>. The filter on the <code class="docutils literal notranslate"><span class="pre">input_layer</span></code> would
select the top performing store while the filter on the <code class="docutils literal notranslate"><span class="pre">search_layer</span></code>
would select all stores except for the top performing store. You can
also use the optional <code class="docutils literal notranslate"><span class="pre">input_query</span></code> parameter to specify reference locations.</p>
<p>If there is more than one reference location, similarity will be based
on averages for the fields you specify in the <code class="docutils literal notranslate"><span class="pre">analysis_fields</span></code> parameter.
So, for example, if there are two reference locations and you are
interested in matching population, the task will look for candidate
locations in the <code class="docutils literal notranslate"><span class="pre">search_layer</span></code> with populations that are most like the
average population for both reference locations. If the values for the
reference locations are 100 and 102, for example, the method will look
for candidate locations with populations near 101. Consequently, you
will want to use fields for the reference locations fields that have
similar values. If, for example, the population values for one reference
location is 100 and the other is 100,000, the tool will look for candidate
locations with population values near the average of those two values: 50,050.
Notice that this averaged value is nothing like the population for either
of the reference locations. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p>
</td>
</tr>
<tr class="row-odd"><td><p>search_layer</p></td>
<td><p>Required feature layer. The layer containing candidate locations that
will be evaluated against the reference locations. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p></td>
</tr>
<tr class="row-even"><td><p>analysis_fields</p></td>
<td><p>Required list of strings. A list of fields whose values are used to determine similarity.
They must be numeric fields and the fields must exist on both the <code class="docutils literal notranslate"><span class="pre">input_layer</span></code> and
the <code class="docutils literal notranslate"><span class="pre">search_layer</span></code>. The method will find features in the <code class="docutils literal notranslate"><span class="pre">search_layer</span></code> that have field
values closest to those of the features in your <code class="docutils literal notranslate"><span class="pre">input_layer</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p>input_query</p></td>
<td><p>Optional string. In the situation where the <code class="docutils literal notranslate"><span class="pre">input_layer</span></code> and the <code class="docutils literal notranslate"><span class="pre">search_layer</span></code> are the same feature service,
this parameter allows you to input a query on the <code class="docutils literal notranslate"><span class="pre">input_layer</span></code> to specify which features are the reference locations.
The reference locations specified by this query will not be analyzed as candidates.
The syntax of <code class="docutils literal notranslate"><span class="pre">input_query</span></code> is the same as a filter.</p></td>
</tr>
<tr class="row-even"><td><p>number_of_results</p></td>
<td><p>Optional int. The number of ranked candidate locations output to the <code class="docutils literal notranslate"><span class="pre">similar_result_layer</span></code>.
If <code class="docutils literal notranslate"><span class="pre">number_of_results</span></code> is not specified, or set to zero, all candidate locations will be ranked and output.</p></td>
</tr>
<tr class="row-odd"><td><p>output_name</p></td>
<td><p>Optional string. If provided, the method will create a feature service of the results.
You define the name of the service. If <code class="docutils literal notranslate"><span class="pre">output_name</span></code> is not supplied, the method will return a feature collection.</p></td>
</tr>
<tr class="row-even"><td><p>context</p></td>
<td><p>Optional string. Context contains additional settings that affect method execution.
For <code class="docutils literal notranslate"><span class="pre">find_similar_locations</span></code>, there are two settings.</p>
<ol class="arabic simple">
<li><p>Extent (<code class="docutils literal notranslate"><span class="pre">extent</span></code>) - a bounding box that defines the analysis area. Only those features</p></li>
</ol>
<blockquote>
<div><p>in the <code class="docutils literal notranslate"><span class="pre">input_layer</span></code> that intersect the bounding box will be analyzed.</p>
</div></blockquote>
<ol class="arabic simple">
<li><p>Output Spatial Reference (<code class="docutils literal notranslate"><span class="pre">outSR</span></code>) - the output features will be projected into the output spatial reference.</p></li>
</ol>
</td>
</tr>
<tr class="row-odd"><td><p>estimate</p></td>
<td><p>Optional boolean. If True, the number of credits to run the operation will be returned.</p></td>
</tr>
<tr class="row-even"><td><p>future</p></td>
<td><p>Optional boolean. If True, the result will be a GPJob object and results will be returned asynchronously.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p>result_layer : feature layer Item if <code class="docutils literal notranslate"><span class="pre">output_name</span></code> is specified, else Python dictionary with the following keys:</p>
<p>”similar_result_layer” : layer (FeatureCollection)</p>
<p>”process_info” : list of message</p>
</p>
</dd>
</dl>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#USAGE EXAMPLE: To find top 4 most locations from the candidates layer that are similar to the target location.</span>
<span class="n">top_4_most_similar_locations</span> <span class="o">=</span> <span class="n">find_similar_locations</span><span class="p">(</span><span class="n">target_lyr</span><span class="p">,</span> <span class="n">candidates_lyr</span><span class="p">,</span>
                                            <span class="n">analysis_fields</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;THH17&#39;</span><span class="p">,</span><span class="s1">&#39;THH35&#39;</span><span class="p">,</span><span class="s1">&#39;THH02&#39;</span><span class="p">,</span><span class="s1">&#39;THH05&#39;</span><span class="p">,</span><span class="s1">&#39;POPDENS14&#39;</span><span class="p">,</span><span class="s1">&#39;FAMGRW10_14&#39;</span><span class="p">,</span><span class="s1">&#39;UNEMPRT_CY&#39;</span><span class="p">],</span>
                                            <span class="n">output_name</span> <span class="o">=</span> <span class="s2">&quot;top 4 similar locations&quot;</span><span class="p">,</span>
                                            <span class="n">number_of_results</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="find-centroids">
<h2>find_centroids<a class="headerlink" href="#find-centroids" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="arcgis.features.analysis.find_centroids">
<code class="sig-prename descclassname">arcgis.features.analysis.</code><code class="sig-name descname">find_centroids</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_layer</span></em>, <em class="sig-param"><span class="n">point_location</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">output_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">context</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">estimate</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">future</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.features.analysis.find_centroids" title="Permalink to this definition">¶</a></dt>
<dd><img alt="_images/find_centroids.png" src="_images/find_centroids.png" />
<p>The <code class="docutils literal notranslate"><span class="pre">find_centroids</span></code> method that finds and generates points from the representative center (centroid) of
each input multipoint, line, or area feature. Finding the centroid of a feature is very common for many analytical
workflows where the resulting points can then be used in other analytic workflows.</p>
<p>For example, polygon features that contain demographic data can be converted to centroids that can be used in network analysis.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 7%" />
<col style="width: 93%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>input_layer</p></td>
<td><p>Required feature layer. The multipoint, line, or polygon features that will be used to generate centroid point features. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p>point_location</p></td>
<td><p>Optional boolean. A Boolean value that determines the output location of the points.</p>
<blockquote>
<div><ul class="simple">
<li><p>True - Output points will be the nearest point to the actual centroid, but located inside or contained by the bounds of the input feature.</p></li>
<li><p>False - Output point locations will be determined by the calculated geometric center of each input feature. This is the default.</p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td><p>output_name</p></td>
<td><p>Optional string. If provided, the method will create a feature service of the results. You define the name of the service. If <code class="docutils literal notranslate"><span class="pre">output_name</span></code> is not supplied, the method will return a feature collection.</p></td>
</tr>
<tr class="row-odd"><td><p>context</p></td>
<td><p>Optional string. Context contains additional settings that affect method execution. For <code class="docutils literal notranslate"><span class="pre">find_centroids</span></code>, there are two settings.</p>
<ol class="arabic simple">
<li><p>Extent (<code class="docutils literal notranslate"><span class="pre">extent</span></code>) - a bounding box that defines the analysis area. Only those features in the <code class="docutils literal notranslate"><span class="pre">input_layer</span></code> that intersect the bounding box will be buffered.</p></li>
<li><p>Output Spatial Reference (<code class="docutils literal notranslate"><span class="pre">outSR</span></code>) - the output features will be projected into the output spatial reference.</p></li>
</ol>
</td>
</tr>
<tr class="row-even"><td><p>estimate</p></td>
<td><p>Optional boolean. If True, the number of credits to run the operation will be returned.</p></td>
</tr>
<tr class="row-odd"><td><p>future</p></td>
<td><p>Optional boolean. If True, the result will be a GPJob object and results will be returned asynchronously.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>result_layer : feature layer Item if <code class="docutils literal notranslate"><span class="pre">output_name</span></code> is specified, else Feature Collection.</p>
</dd>
</dl>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># USAGE EXAMPLE: To find centroids of madison fields nearest to the actual centroids.</span>

<span class="n">centroid</span> <span class="o">=</span> <span class="n">find_centroids</span><span class="p">(</span><span class="n">madison_fields</span><span class="p">,</span>
                          <span class="n">point_location</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                          <span class="n">output_name</span><span class="o">=</span><span class="s1">&#39;find centroids&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="interpolate-points">
<h2>interpolate_points<a class="headerlink" href="#interpolate-points" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="arcgis.features.analysis.interpolate_points">
<code class="sig-prename descclassname">arcgis.features.analysis.</code><code class="sig-name descname">interpolate_points</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_layer</span></em>, <em class="sig-param"><span class="n">field</span></em>, <em class="sig-param"><span class="n">interpolate_option</span><span class="o">=</span><span class="default_value">'5'</span></em>, <em class="sig-param"><span class="n">output_prediction_error</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">classification_type</span><span class="o">=</span><span class="default_value">'GeometricInterval'</span></em>, <em class="sig-param"><span class="n">num_classes</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">class_breaks</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">bounding_polygon_layer</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">predict_at_point_layer</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">output_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">context</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">estimate</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">future</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.features.analysis.interpolate_points" title="Permalink to this definition">¶</a></dt>
<dd><img alt="_images/interpolate_points.png" src="_images/interpolate_points.png" />
<p>The <code class="docutils literal notranslate"><span class="pre">interpolate_points</span></code> method allows you to predict values at new locations based on measurements
from a collection of points. The method takes point data with values at each point and returns
areas classified by predicted values. For example:</p>
<ul class="simple">
<li><p>An air quality management district has sensors that measure pollution levels.
<code class="docutils literal notranslate"><span class="pre">interpolate_points</span></code> can be used to predict pollution levels at locations that don’t have sensors,
such as locations with at-risk populations, schools, or hospitals, for example.</p></li>
<li><p>Predict heavy metal concentrations in crops based on samples taken from individual plants.</p></li>
<li><p>Predict soil nutrient levels (nitrogen, phosphorus, potassium, and so on) and other
indicators (such as electrical conductivity) in order to study their relationships to crop yield
and prescribe precise amounts of fertilizer for each location in the field.</p></li>
<li><p>Meteorological applications include prediction of temperatures, rainfall,
and associated variables (such as acid rain).</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">interpolate_points</span></code> uses the <a class="reference external" href="http://desktop.arcgis.com/en/arcmap/latest/tools/geostatistical-analyst-toolbox/empirical-bayesian-kriging.htm">Empirical Bayesian
Kriging</a>
geoprocessing tool to perform the interpolation. The parameters that are supplied to
the Empirical Bayesian Kriging tool are controlled by the <code class="docutils literal notranslate"><span class="pre">interpolate_option</span></code> request parameter.</p>
<p>If a value of 1 is provided for <code class="docutils literal notranslate"><span class="pre">interpolate_option</span></code>, empirical Bayesian kriging will
use the following parameters:</p>
<ul class="simple">
<li><p>transformation_type - NONE</p></li>
<li><p>semivariogram_model_type - POWER</p></li>
<li><p>max_local_points - 50</p></li>
<li><p>overlap_factor - 1</p></li>
<li><p>number_semivariograms - 30</p></li>
<li><p>nbrMin - 8</p></li>
<li><p>nbrMax - 8</p></li>
</ul>
<p>If a value of 5 is provided for <code class="docutils literal notranslate"><span class="pre">interpolate_option</span></code>, empirical Bayesian kriging
will use the following parameters:</p>
<ul class="simple">
<li><p>transformation_type - NONE</p></li>
<li><p>semivariogram_model_type - POWER</p></li>
<li><p>max_local_points 75</p></li>
<li><p>overlap_factor - 1.5</p></li>
<li><p>number_semivariograms - 100</p></li>
<li><p>nbrMin - 10</p></li>
<li><p>nbrMax - 10</p></li>
</ul>
<p>If a value of 9 is provided for <code class="docutils literal notranslate"><span class="pre">interpolate_option</span></code>, empirical Bayesian kriging
will use the following parameters:</p>
<ul class="simple">
<li><p>transformation_type - EMPIRICAL</p></li>
<li><p>semivariogram_model_type - K_BESSEL</p></li>
<li><p>max_local_points - 200</p></li>
<li><p>overlap_factor - 3</p></li>
<li><p>number_semivariograms - 200</p></li>
<li><p>nbrMin - 15</p></li>
<li><p>nbrMax - 15</p></li>
</ul>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 84%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>input_layer</p></td>
<td><p>Required layer. The point layer whose features will be interpolated. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p>field</p></td>
<td><p>Required string. Name of the numeric field containing the values you wish to interpolate.</p></td>
</tr>
<tr class="row-even"><td><p>interpolate_option</p></td>
<td><p>Optional integer. Integer value declaring your preference for speed versus accuracy, from 1 (fastest) to 9 (most accurate).
More accurate predictions take longer to calculate.</p>
<p>Choice list: [1, 5, 9].</p>
<p>The default is 5.</p>
</td>
</tr>
<tr class="row-odd"><td><p>output_prediction_error</p></td>
<td><p>Optional boolean. If True, a polygon layer of standard errors for the interpolation
predictions will be returned in the <code class="docutils literal notranslate"><span class="pre">prediction_error</span></code> output parameter.</p>
<p>Standard errors are useful because they provide information about the reliability of the predicted values.
A simple rule of thumb is that the true value will fall within two standard errors of the predicted
value 95 percent of the time. For example, suppose a new location gets a predicted value of 50 with a
standard error of 5. This means that this task’s best guess is that the true value at that location is 50,
but it reasonably could be as low as 40 or as high as 60. To calculate this range of reasonable values,
multiply the standard error by 2, add this value to the predicted value to get the upper end of the range,
and subtract it from the predicted value to get the lower end of the range.</p>
</td>
</tr>
<tr class="row-even"><td><p>classification_type</p></td>
<td><p>Optional string. Determines how predicted values will be classified into areas.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">EqualArea</span></code> - Polygons are created such that the number of data values in each area is equal.
For example, if the data has more large values than small values, more areas will be created for large values.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">EqualInterval</span></code> - Polygons are created such that the range of predicted values is equal for each area.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GeometricInterval</span></code> - Polygons are based on class intervals that have a geometrical series.
This method ensures that each class range has approximately the same number of values within
each class and that the change between intervals is consistent.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Manual</span></code> - You to define your own range of values for areas. These values will be entered in
the <code class="docutils literal notranslate"><span class="pre">class_breaks</span></code> parameter below.</p></li>
</ul>
<p>Choice list: [‘EqualArea’, ‘EqualInterval’, ‘GeometricInterval’, ‘Manual’]</p>
<p>The default is ‘GeometricInterval’.</p>
</td>
</tr>
<tr class="row-odd"><td><p>num_classes</p></td>
<td><p>Optional integer. This value is used to divide the range of interpolated values into distinct classes.
The range of values in each class is determined by the <code class="docutils literal notranslate"><span class="pre">classification_type</span></code> parameter.
Each class defines the boundaries of the result polygons.</p>
<p>The default is 10. The maximum value is 32.</p>
</td>
</tr>
<tr class="row-even"><td><p>class_breaks</p></td>
<td><p>Optional list of floats. If <code class="docutils literal notranslate"><span class="pre">classification_type</span></code> is Manual, supply desired class break values separated by spaces.
These values define the upper limit of each class, so the number of classes will equal the number of entered values.
Areas will not be created for any locations with predicted values above the largest entered break value.
You must enter at least two values and no more than 32.</p></td>
</tr>
<tr class="row-odd"><td><p>bounding_polygon_layer</p></td>
<td><p>Optional layer. A layer specifying the polygon(s) where you want values to be interpolated.  For example,
if you are interpolating densities of fish within a lake, you can use the boundary of the lake in this
parameter and the output will only contain polygons within the boundary of the lake. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p></td>
</tr>
<tr class="row-even"><td><p>predict_at_point_layer</p></td>
<td><p>Optional layer. An optional layer specifying point locations to calculate prediction values.
This allows you to make predictions at specific locations of interest. For example, if the <code class="docutils literal notranslate"><span class="pre">input_layer</span></code> represents
measurements of pollution levels, you can use this parameter to predict the pollution levels of locations with large
at-risk populations, such as schools or hospitals. You can then use this information to give recommendations to health
officials in those locations.</p>
<p>If supplied, the output <code class="docutils literal notranslate"><span class="pre">predicted_point_layer</span></code> will contain predictions at the specified locations. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p>
</td>
</tr>
<tr class="row-odd"><td><p>output_name</p></td>
<td><p>Optional string. If provided, the method will create a feature service of the results.
You define the name of the service. If <code class="docutils literal notranslate"><span class="pre">output_name</span></code> is not supplied, the method will return a feature collection.</p></td>
</tr>
<tr class="row-even"><td><p>context</p></td>
<td><p>Optional string. Additional settings such as processing extent and output spatial reference.</p></td>
</tr>
<tr class="row-odd"><td><p>gis</p></td>
<td><p>Optional, the GIS on which this tool runs. If not specified, the active GIS is used.</p></td>
</tr>
<tr class="row-even"><td><p>estimate</p></td>
<td><p>Optional boolean. If True, the number of credits to run the operation will be returned.</p></td>
</tr>
<tr class="row-odd"><td><p>future</p></td>
<td><p>Optional boolean. If True, the result will be a GPJob object and results will be returned asynchronously.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p>result_layer : feature layer Item if <code class="docutils literal notranslate"><span class="pre">output_name</span></code> is specified, else Python dictionary with the following keys:</p>
<p>”result_layer” : layer (FeatureCollection)</p>
<p>”prediction_error” : layer (FeatureCollection)</p>
<p>”predicted_point_layer” : layer (FeatureCollection)</p>
</p>
</dd>
</dl>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#USAGE EXAMPLE: To predict mine production in US at new locations.</span>
<span class="n">interpolated</span> <span class="o">=</span> <span class="n">interpolate_points</span><span class="p">(</span><span class="n">coal_mines_us</span><span class="p">,</span>
                                  <span class="n">field</span><span class="o">=</span><span class="s1">&#39;Total_Prod&#39;</span><span class="p">,</span>
                                  <span class="n">interpolate_option</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
                                  <span class="n">output_prediction_error</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                  <span class="n">classification_type</span><span class="o">=</span><span class="s1">&#39;GeometricInterval&#39;</span><span class="p">,</span>
                                  <span class="n">num_classes</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
                                  <span class="n">output_name</span><span class="o">=</span><span class="s1">&#39;interpolate coal mines production&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="join-features">
<h2>join_features<a class="headerlink" href="#join-features" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="arcgis.features.analysis.join_features">
<code class="sig-prename descclassname">arcgis.features.analysis.</code><code class="sig-name descname">join_features</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">target_layer</span></em>, <em class="sig-param"><span class="n">join_layer</span></em>, <em class="sig-param"><span class="n">spatial_relationship</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">spatial_relationship_distance</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">spatial_relationship_distance_units</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">attribute_relationship</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">join_operation</span><span class="o">=</span><span class="default_value">'JoinOneToOne'</span></em>, <em class="sig-param"><span class="n">summary_fields</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">output_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">context</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">estimate</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">future</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.features.analysis.join_features" title="Permalink to this definition">¶</a></dt>
<dd><img alt="_images/join_features.png" src="_images/join_features.png" />
<p>The <code class="docutils literal notranslate"><span class="pre">join_features</span></code> method works with two layers and joins the attributes
from one feature to another based on spatial and attribute relationships.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 36%" />
<col style="width: 64%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Parameter</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>target_layer</p></td>
<td><p>Required layer. The point, line, polygon or table layer that will have attributes from
the <code class="docutils literal notranslate"><span class="pre">join_layer</span></code> appended to its table. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p>join_layer</p></td>
<td><p>Required layer. The point, line, polygon or table layer that will be joined to the <code class="docutils literal notranslate"><span class="pre">target_layer</span></code>. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p></td>
</tr>
<tr class="row-even"><td><p>spatial_relationship</p></td>
<td><p>Required string. Defines the spatial relationship used to spatially join features.</p>
<p>Choice list: [‘identicalto’, ‘intersects’, ‘completelycontains’, ‘completelywithin’, ‘withindistance’]</p>
</td>
</tr>
<tr class="row-odd"><td><p>spatial_relationship_distance (Required if <code class="docutils literal notranslate"><span class="pre">spatial_relationship</span></code> is withindistance)</p></td>
<td><p>Optional float. A float value used for the search distance to determine if the target features are near or within a
specified distance of the join features.
This is only applied if Within a distance of is the selected <code class="docutils literal notranslate"><span class="pre">spatial_relationship</span></code>.
You can only enter a single distance value. The units of the distance values are supplied by the
<code class="docutils literal notranslate"><span class="pre">spatial_relationship_distance_units</span></code> parameter.</p></td>
</tr>
<tr class="row-even"><td><p>spatial_relationship_distance_units (Required if <code class="docutils literal notranslate"><span class="pre">spatial_relationship</span></code> is withindistance)</p></td>
<td><p>Optional string. The linear unit to be used with the distance value specified in <code class="docutils literal notranslate"><span class="pre">spatial_relationship_distance</span></code>.</p>
<p>Choice list: [‘Miles’, ‘Yards’, ‘Feet’, ‘NauticalMiles’, ‘Meters’, ‘Kilometers’]</p>
<p>The default is ‘Miles’.</p>
</td>
</tr>
<tr class="row-odd"><td><p>attribute_relationship</p></td>
<td><p>Optional list of dicts. Defines an attribute relationship used to join features. Features are matched when the field
values in the join layer are equal to field values in the target layer.</p></td>
</tr>
<tr class="row-even"><td><p>join_operation</p></td>
<td><p>Optional string. A string representing the type of join that will be applied.</p>
<p>Choice list: [‘JoinOneToOne’, ‘JoinOneToMany’]</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">JoinOneToOne</span></code> - If multiple join features are found that have the same relationships with a
single target feature, the attributes from the multiple join features will be aggregated using
the specified summary statistics. For example, if a point target feature is found within two
separate polygon join features, the attributes from the two polygons will be aggregated before
being transferred to the output point feature class. If one polygon has an attribute value of
3 and the other has a value of 7, and a SummaryField of sum is selected, the aggregated value
in the output feature class will be 10. There will always be a Count field calculated, with a
value of 2, for the number of features specified. This is the default.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">JoinOneToMany</span></code> - If multiple join features are found that have the same relationship with
a single target feature, the output feature class will contain multiple copies (records) of
the target feature. For example, if a single point target feature is found within two separate
polygon join features, the output feature class will contain two copies of the target feature:
one record with the attributes of the first polygon, and another record with the attributes of
the second polygon. There are no summary statistics calculated with this method.</p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-odd"><td><p>summary_fields</p></td>
<td><p>Optional list of dicts. A list of field names and statistical summary types that you want to calculate.
Note that the count is always returned by default.</p>
<p>fieldName is the name of one of the numeric fields found in the input join layer.</p>
<p>statisticType is one of the following:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SUM</span></code> - Adds the total value of all the points in each polygon</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MEAN</span></code> - Calculates the average of all the points in each polygon</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MIN</span></code> - Finds the smallest value of all the points in each polygon</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MAX</span></code> - Finds the largest value of all the points in each polygon</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">STDDEV</span></code> - Finds the standard deviation of all the points in each polygon</p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td><p>output_name</p></td>
<td><p>Optional string. If provided, the method will create a feature service of the results. You define the name of the service.
If <code class="docutils literal notranslate"><span class="pre">output_name</span></code> is not supplied, the task will return a feature collection.</p></td>
</tr>
<tr class="row-odd"><td><p>context</p></td>
<td><p>Optional string. Context contains additional settings that affect method execution. For <code class="docutils literal notranslate"><span class="pre">join_features</span></code>, there are the following two settings:</p>
<ol class="arabic simple">
<li><p>Extent (<code class="docutils literal notranslate"><span class="pre">extent</span></code>) - a bounding box that defines the analysis area. Only those features in the input layer that intersect the bounding box will be analyzed.</p></li>
<li><p>Output Spatial Reference (<code class="docutils literal notranslate"><span class="pre">outSR</span></code>) - the output features will be projected into the output spatial reference.</p></li>
</ol>
</td>
</tr>
<tr class="row-even"><td><p>estimate</p></td>
<td><p>Optional boolean. If True, the number of credits to run the operation will be returned.</p></td>
</tr>
<tr class="row-odd"><td><p>future</p></td>
<td><p>Optional boolean. If True, the result will be a GPJob object and results will be returned asynchronously.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>result_layer : feature layer Item if <code class="docutils literal notranslate"><span class="pre">output_name</span></code> is specified, else feature collection.</p>
</dd>
</dl>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">USAGE</span> <span class="n">EXAMPLE</span><span class="p">:</span> <span class="n">To</span> <span class="n">summarize</span> <span class="n">traffic</span> <span class="n">accidents</span> <span class="n">within</span> <span class="n">each</span> <span class="n">parcel</span> <span class="n">using</span> <span class="n">spatial</span> <span class="n">relationship</span><span class="o">.</span>
<span class="n">accident_count_in_each_parcel</span> <span class="o">=</span> <span class="n">join_features</span><span class="p">(</span><span class="n">target_layer</span><span class="o">=</span><span class="n">parcel_lyr</span><span class="p">,</span>
                                              <span class="n">join_layer</span><span class="o">=</span><span class="n">traffic_accidents_lyr</span><span class="p">,</span>
                                              <span class="n">spatial_relationship</span><span class="o">=</span><span class="s1">&#39;intersects&#39;</span><span class="p">,</span>
                                              <span class="n">summary_fields</span><span class="o">=</span><span class="p">[{</span><span class="s2">&quot;statisticType&quot;</span><span class="p">:</span> <span class="s2">&quot;Mean&quot;</span><span class="p">,</span> <span class="s2">&quot;onStatisticField&quot;</span><span class="p">:</span> <span class="s2">&quot;Population&quot;</span><span class="p">},</span>
                                              <span class="n">output_name</span><span class="o">=</span><span class="s1">&#39;join features&#39;</span><span class="p">,</span>
                                              <span class="n">context</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;extent&quot;</span><span class="p">:{</span><span class="s2">&quot;xmin&quot;</span><span class="p">:</span><span class="o">-</span><span class="mf">9375809.87305117</span><span class="p">,</span><span class="s2">&quot;ymin&quot;</span><span class="p">:</span><span class="mf">4031882.3806860778</span><span class="p">,</span><span class="s2">&quot;xmax&quot;</span><span class="p">:</span><span class="o">-</span><span class="mf">9370182.196843527</span><span class="p">,</span><span class="s2">&quot;ymax&quot;</span><span class="p">:</span><span class="mf">4034872.9794178144</span><span class="p">,</span><span class="s2">&quot;spatialReference&quot;</span><span class="p">:{</span><span class="s2">&quot;wkid&quot;</span><span class="p">:</span><span class="mi">102100</span><span class="p">,</span><span class="s2">&quot;latestWkid&quot;</span><span class="p">:</span><span class="mi">3857</span><span class="p">}}},</span> <span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="merge-layers">
<h2>merge_layers<a class="headerlink" href="#merge-layers" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="arcgis.features.analysis.merge_layers">
<code class="sig-prename descclassname">arcgis.features.analysis.</code><code class="sig-name descname">merge_layers</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_layer</span></em>, <em class="sig-param"><span class="n">merge_layer</span></em>, <em class="sig-param"><span class="n">merging_attributes</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">output_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">context</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">estimate</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">future</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.features.analysis.merge_layers" title="Permalink to this definition">¶</a></dt>
<dd><img alt="_images/merge_layers.png" src="_images/merge_layers.png" />
<p>The <code class="docutils literal notranslate"><span class="pre">merge_layers</span></code> method copies features from two layers into a new layer.
The layers to be merged must all contain the same feature types (points, lines, or polygons).
You can control how the fields from the input layers are joined and copied. For example:</p>
<ul class="simple">
<li><p>I have three layers for England, Wales, and Scotland and I want a single layer of Great Britain.</p></li>
<li><p>I have two layers containing parcel information for contiguous townships. I want to join them together into a single layer, keeping only the fields that have the same name and type on the two layers.</p></li>
</ul>
<table class="docutils align-default">
<colgroup>
<col style="width: 7%" />
<col style="width: 93%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>input_layer</p></td>
<td><p>Required feature layer. The point, line or polygon features with the <code class="docutils literal notranslate"><span class="pre">merge_layer</span></code>. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p>merge_layer</p></td>
<td><p>Required feature layer. The point, line, or polygon features to merge with the <code class="docutils literal notranslate"><span class="pre">input_layer</span></code>.
The <code class="docutils literal notranslate"><span class="pre">merge_layer</span></code> must contain the same feature type (point, line, or polygon) as the <code class="docutils literal notranslate"><span class="pre">input_layer</span></code>. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p></td>
</tr>
<tr class="row-even"><td><p>merge_attributes</p></td>
<td><p>Optional list. Defines how the fields in <code class="docutils literal notranslate"><span class="pre">merge_layer</span></code> will be
modified. By default, all fields from both inputs will be
included in the output layer.</p>
<p>If a field exists in one layer but not the other, the output
layer will still contain the field. The output field will
contain null values for the input features that did not have the
field. For example, if the <code class="docutils literal notranslate"><span class="pre">input_layer</span></code> contains a field named
TYPE but the <code class="docutils literal notranslate"><span class="pre">merge_layer</span></code> does not contain TYPE, the output will
contain TYPE, but its values will be null for all the features
copied from the <code class="docutils literal notranslate"><span class="pre">merge_layer</span></code>.</p>
<p>You can control how fields in the <code class="docutils literal notranslate"><span class="pre">merge_layer</span></code> are written to the
output layer using the following merge types that operate on a
specified <code class="docutils literal notranslate"><span class="pre">merge_layer</span></code> field:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Remove</span></code> - The field in the <code class="docutils literal notranslate"><span class="pre">merge_layer</span></code> will be removed from the output layer.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Rename</span></code> - The field in the <code class="docutils literal notranslate"><span class="pre">merge_layer</span></code> will be renamed in the output layer.
You cannot rename a field in the <code class="docutils literal notranslate"><span class="pre">merge_layer</span></code> to a field in the <code class="docutils literal notranslate"><span class="pre">input_layer</span></code>. If you want to make field names equivalent, use Match.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Match</span></code> - A field in the <code class="docutils literal notranslate"><span class="pre">merge_layer</span></code> is made equivalent to a field in the <code class="docutils literal notranslate"><span class="pre">input_layer</span></code> specified by merge value.
For example, the <code class="docutils literal notranslate"><span class="pre">input_layer</span></code> has a field named CODE and the <code class="docutils literal notranslate"><span class="pre">merge_layer</span></code> has a field named STATUS.
You can match STATUS to CODE, and the output will contain the CODE field with values of the STATUS field used for features copied from the <code class="docutils literal notranslate"><span class="pre">merge_layer</span></code>.
Type casting is supported (for example, float to integer, integer to string) except for string to numeric.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>output_name</p></td>
<td><p>Optional string. If provided, the method will create a feature service of the results. You define the name of the service. If <code class="docutils literal notranslate"><span class="pre">output_name</span></code> is not supplied, the method will return a feature collection.</p></td>
</tr>
<tr class="row-even"><td><p>context</p></td>
<td><p>Optional dict. Context contains additional settings that affect task execution. For <code class="docutils literal notranslate"><span class="pre">merge_layers</span></code>, there are two settings.</p>
<ol class="arabic simple">
<li><p>Extent (<code class="docutils literal notranslate"><span class="pre">extent</span></code>)-a bounding box that defines the analysis area. Only those features in the <code class="docutils literal notranslate"><span class="pre">input_layer</span></code> and the <code class="docutils literal notranslate"><span class="pre">merge_layer</span></code> that intersect the bounding box will be merged into the output layer.</p></li>
<li><p>Output Spatial Reference (<code class="docutils literal notranslate"><span class="pre">outSR</span></code>) - the output features will be projected into the output spatial reference.</p></li>
</ol>
</td>
</tr>
<tr class="row-odd"><td><p>gis</p></td>
<td><p>Optional, the GIS on which this tool runs. If not specified, the active GIS is used.</p></td>
</tr>
<tr class="row-even"><td><p>estimate</p></td>
<td><p>Optional boolean. If True, the estimated number of credits required to run the operation will be returned.</p></td>
</tr>
<tr class="row-odd"><td><p>future</p></td>
<td><p>Optional boolean. If True, the result will be a GPJob object and results will be returned asynchronously.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>result_layer : feature layer Item if <code class="docutils literal notranslate"><span class="pre">output_name</span></code> is specified, else Feature Collection.</p>
</dd>
</dl>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#USAGE EXAMPLE: To merge two layers into a new layer using merge attributes.</span>
<span class="n">merged</span> <span class="o">=</span> <span class="n">merge_layers</span><span class="p">(</span><span class="n">input_layer</span><span class="o">=</span><span class="n">esri_offices</span><span class="p">,</span>
                      <span class="n">merge_layer</span><span class="o">=</span><span class="n">satellite_soffice_lyr</span><span class="p">,</span>
                      <span class="n">merging_attributes</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;State Match Place_Name&quot;</span><span class="p">],</span>
                      <span class="n">output_name</span><span class="o">=</span><span class="s2">&quot;merge layers&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="overlay-layers">
<h2>overlay_layers<a class="headerlink" href="#overlay-layers" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="arcgis.features.analysis.overlay_layers">
<code class="sig-prename descclassname">arcgis.features.analysis.</code><code class="sig-name descname">overlay_layers</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_layer</span></em>, <em class="sig-param"><span class="n">overlay_layer</span></em>, <em class="sig-param"><span class="n">overlay_type</span><span class="o">=</span><span class="default_value">'Intersect'</span></em>, <em class="sig-param"><span class="n">snap_to_input</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">output_type</span><span class="o">=</span><span class="default_value">'Input'</span></em>, <em class="sig-param"><span class="n">tolerance</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">output_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">context</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">estimate</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">future</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.features.analysis.overlay_layers" title="Permalink to this definition">¶</a></dt>
<dd><img alt="_images/overlay_layers.png" src="_images/overlay_layers.png" />
<p>The <code class="docutils literal notranslate"><span class="pre">overlay_layers</span></code> method combines two or more layers into one single layer.
You can think of overlay as peering through a stack of maps and creating a single map containing
all the information found in the stack. In fact, before the advent of GIS, cartographers would
literally copy maps onto clear acetate sheets, overlay these sheets on a light table, and hand
draw a new map from the overlaid data. Overlay is much more than a merging of line work; all the
attributes of the features taking part in the overlay are carried through to the final product.
Overlay is used to answer one of the most basic questions of geography, “what is on top of what?” For example:</p>
<ul class="simple">
<li><p>What parcels are within the 100-year floodplain? (Within is just another way of saying on top of.)</p></li>
<li><p>What roads are within what counties?</p></li>
<li><p>What land use is on top of what soil type?</p></li>
<li><p>What wells are within abandoned military bases?</p></li>
</ul>
<table class="docutils align-default">
<colgroup>
<col style="width: 7%" />
<col style="width: 93%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>input_layer</p></td>
<td><p>Required layer. The point, line, or polygon features that will be
overlayed with the <code class="docutils literal notranslate"><span class="pre">overlay_layer</span></code>. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p>overlay_layer</p></td>
<td><p>Required layer. The features that will be overlaid with the <code class="docutils literal notranslate"><span class="pre">input_layer</span></code> features. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p></td>
</tr>
<tr class="row-even"><td><p>overlay_type</p></td>
<td><p>Optional string. The type of overlay to be performed.</p>
<p>Choice list: [‘Intersect’, ‘Union’, ‘Erase’]</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><img alt="Intersect" src="_images/Intersect.png" /></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Intersect</span></code>-Computes a geometric intersection of the input layers. Features or portions of
features which overlap in both the <code class="docutils literal notranslate"><span class="pre">input_layer</span></code> and <code class="docutils literal notranslate"><span class="pre">overlay_layer</span></code> layer will be written
to the output layer. This is the default.</p></td>
</tr>
<tr class="row-even"><td><p><img alt="Union" src="_images/Union.png" /></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Union</span></code>-Computes a geometric union of the input layers. All features and their attributes will
be written to the output layer. This option is only valid if both the <code class="docutils literal notranslate"><span class="pre">input_layer</span></code> and
the <code class="docutils literal notranslate"><span class="pre">overlay_layer</span></code> contain polygon features.</p></td>
</tr>
<tr class="row-odd"><td><p><img alt="Erase" src="_images/Erase.png" /></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">Erase</span></code>-Only those features or portions of features in the <code class="docutils literal notranslate"><span class="pre">overlay_layer</span></code> that are not within the
features in the <code class="docutils literal notranslate"><span class="pre">input_layer</span></code> layer are written to the output.</p></td>
</tr>
</tbody>
</table>
<p>The default value is ‘Intersect’.</p>
</td>
</tr>
<tr class="row-even"><td><p>snap_to_input</p></td>
<td><p>Optional boolean. A Boolean value indicating if feature vertices in the <code class="docutils literal notranslate"><span class="pre">input_layer</span></code> are allowed to move.
The default is false and means if the distance between features is less than the <code class="docutils literal notranslate"><span class="pre">tolerance</span></code> value, all features from both
layers can move to allow snapping to each other. When set to true, only features in <code class="docutils literal notranslate"><span class="pre">overlay_layer</span></code> can move to snap to the <code class="docutils literal notranslate"><span class="pre">input_layer</span></code> features.</p></td>
</tr>
<tr class="row-odd"><td><p>output_type</p></td>
<td><p>Optional string. The type of intersection you want to find.
This parameter is only valid when the <code class="docutils literal notranslate"><span class="pre">overlay_type</span></code> is Intersect.</p>
<p>Choice list: [‘Input’, ‘Line’, ‘Point’]</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Input</span></code> - The features returned will be the same geometry type as
the <code class="docutils literal notranslate"><span class="pre">input_layer</span></code> or <code class="docutils literal notranslate"><span class="pre">overlay_layer</span></code> with the lowest dimension geometry.
If all inputs are polygons, the output will contain polygons. If one or more of
the inputs are lines and none of the inputs are points, the output will be line.
If one or more of the inputs are points, the output will contain points. This is the default.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Line</span></code> - Line intersections will be returned. This is only valid if none of the inputs are points.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Point</span></code> - Point intersections will be returned. If the inputs are line or polygon, the output will be a multipoint layer.</p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td><p>tolerance</p></td>
<td><p>Optional float. A float value of the minimum distance separating all feature coordinates
as well as the distance a coordinate can move in X or Y (or both). The units of tolerance are the same as the units of the <code class="docutils literal notranslate"><span class="pre">input_layer</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p>output_name</p></td>
<td><p>Optional string. If provided, the task will create a feature service of the results. You define the name of the service. If <code class="docutils literal notranslate"><span class="pre">output_name</span></code> is not supplied, the task will return a feature collection.</p></td>
</tr>
<tr class="row-even"><td><p>context</p></td>
<td><p>Optional string. Context contains additional settings that affect task execution. For <code class="docutils literal notranslate"><span class="pre">overlay_layers</span></code>, there are two settings.</p>
<ol class="arabic simple">
<li><p>Extent (<code class="docutils literal notranslate"><span class="pre">extent</span></code>) - a bounding box that defines the analysis area. Only those features in the <code class="docutils literal notranslate"><span class="pre">input_layer</span></code> and <code class="docutils literal notranslate"><span class="pre">overlay_layer</span></code> and that intersect the bounding box will be overlaid.</p></li>
<li><p>Output Spatial Reference (<code class="docutils literal notranslate"><span class="pre">outSR</span></code>) - the output features will be projected into the output spatial reference.</p></li>
</ol>
</td>
</tr>
<tr class="row-odd"><td><p>gis</p></td>
<td><p>Optional, the GIS on which this tool runs. If not specified, the active GIS is used.</p></td>
</tr>
<tr class="row-even"><td><p>future</p></td>
<td><p>Optional boolean. If True, the result will be a GPJob object and results will be returned asynchronously.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>result_layer : feature layer Item if <code class="docutils literal notranslate"><span class="pre">output_name</span></code> is specified, else Feature Collection.</p>
</dd>
</dl>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#USAGE EXAMPLE: To clip a buffer in the shape of Capitol hill neighborhood.</span>
<span class="n">cliped_buffer</span> <span class="o">=</span> <span class="n">overlay_layers</span><span class="p">(</span><span class="n">buffer</span><span class="p">,</span>
                               <span class="n">neighbourhood</span><span class="p">,</span>
                               <span class="n">output_name</span><span class="o">=</span><span class="s2">&quot;Cliped buffer&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="plan-routes">
<h2>plan_routes<a class="headerlink" href="#plan-routes" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="arcgis.features.analysis.plan_routes">
<code class="sig-prename descclassname">arcgis.features.analysis.</code><code class="sig-name descname">plan_routes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">stops_layer</span></em>, <em class="sig-param"><span class="n">route_count</span></em>, <em class="sig-param"><span class="n">max_stops_per_route</span></em>, <em class="sig-param"><span class="n">route_start_time</span></em>, <em class="sig-param"><span class="n">start_layer</span></em>, <em class="sig-param"><span class="n">start_layer_route_id_field</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">return_to_start</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">end_layer</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">end_layer_route_id_field</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">travel_mode</span><span class="o">=</span><span class="default_value">'Driving Time'</span></em>, <em class="sig-param"><span class="n">stop_service_time</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">max_route_time</span><span class="o">=</span><span class="default_value">525600</span></em>, <em class="sig-param"><span class="n">include_route_layers</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">output_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">context</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">estimate</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">point_barrier_layer</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">line_barrier_layer</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">polygon_barrier_layer</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">future</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.features.analysis.plan_routes" title="Permalink to this definition">¶</a></dt>
<dd><img alt="_images/plan_routes.png" src="_images/plan_routes.png" />
<p>The <code class="docutils literal notranslate"><span class="pre">plan_routes</span></code> method determines how to efficiently divide tasks among a mobile workforce.</p>
<p>You provide the input, which includes a set of stops and the number of vehicles available to
visit the stops, and the tool assigns the stops to vehicles and returns routes showing how each
vehicle can reach their assigned stops in the least amount of time.</p>
<p>With <code class="docutils literal notranslate"><span class="pre">plan_routes</span></code>, mobile workforces reach more jobsites in less time, which increases
productivity and improves customer service. Organizations often use <code class="docutils literal notranslate"><span class="pre">plan_routes</span></code> to:</p>
<ul class="simple">
<li><p>Inspect homes, restaurants, and construction sites</p></li>
<li><p>Provide repair, installation, and technical services</p></li>
<li><p>Deliver items and small packages</p></li>
<li><p>Make sales calls</p></li>
<li><p>Provide van transportation from spectators’ homes to events</p></li>
</ul>
<p>The output from <code class="docutils literal notranslate"><span class="pre">plan_routes</span></code> includes a layer of routes showing the shortest paths to visit
the stops; a layer of the stops assigned to routes, as well as any stops that couldn’t be reached
due to the given parameter settings; and a layer of directions containing the travel itinerary for each route.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Parameter</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>stops_layer</p></td>
<td><p>Required feature layer. The points that the vehicles, drivers, or routes, should visit.
The fields on the input stops are included in the output stops, so if your input
layer has a field such as Name, Address, or ProductDescription, that information
will be available in the results. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p>route_count</p></td>
<td><p>Required integer. The number of vehicles that are available to visit the stops.
The method supports up to 100 vehicles.</p>
<p>The default value is 0.</p>
<p>The method may be able to find and return a solution that uses fewer vehicles than
the number you specify for this parameter. The number of vehicles returned also
depends on four other parameters: the total number of stops in <code class="docutils literal notranslate"><span class="pre">stops_layer</span></code>, the
number of stops per vehicle you allow (<code class="docutils literal notranslate"><span class="pre">max_stops_per_route</span></code>), the travel time between
stops, the time spent at each stop (<code class="docutils literal notranslate"><span class="pre">stop_service_time</span></code>), and any limit you set on the
total route time per vehicle (<code class="docutils literal notranslate"><span class="pre">max_route_time</span></code>).</p>
</td>
</tr>
<tr class="row-even"><td><p>max_stops_per_route</p></td>
<td><p>Required integer. The maximum number of stops a route, or vehicle, is allowed to visit.
The largest value you can specify is 200. The default value is zero.</p>
<p>This is one of two parameters that balance the overall workload across routes.
The other is <code class="docutils literal notranslate"><span class="pre">max_route_time</span></code>.</p>
<p>By lowering the maximum number of stops that can be assigned to each vehicle, the vehicles
are more likely to have an equal number of stops assigned to them. This helps
balance workloads among drivers. The drawback, however, is that it may result in a
solution that is less efficient.</p>
<p>By increasing the stops per vehicle, the tool has more freedom to find more efficient solutions;
however, the workload may be unevenly distributed among drivers and vehicles. Note that you can
balance workloads by time instead of number of stops by specifying a value for the <code class="docutils literal notranslate"><span class="pre">max_route_time</span></code> parameter.</p>
<p>The following examples demonstrate the effects of limiting the maximum stops per vehicle or the
total time per vehicle. In all of these examples, two routes start at the same location
and visit a total of six stops.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 21%" />
<col style="width: 79%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><img alt="balanced" src="_images/balanced.png" /></p></td>
<td><p>Balanced travel times and stops per route:</p>
<p>The stops are more or less uniformly spread apart, so setting <a href="#id5"><span class="problematic" id="id6">``</span></a>max_stops_per_route``=3 to evenly
distribute the workload results in routes that are roughly the same duration.</p>
</td>
</tr>
<tr class="row-even"><td><p><img alt="partially_balanced" src="_images/partially_balanced.png" /></p></td>
<td><p>Balanced stops per route but unbalanced travel times:</p>
<p>Five of the six stops are clustered near the starting location, but one stop is set apart
and requires a much longer drive to be reached. Dividing the stops equally between the two
routes (<a href="#id7"><span class="problematic" id="id8">``</span></a>max_stops_per_route``=3) causes unbalanced travel times.</p>
</td>
</tr>
<tr class="row-odd"><td><p><img alt="unbalanced" src="_images/unbalanced.png" /></p></td>
<td><p>Unbalanced stops per route but balanced travel times:</p>
<p>The stops are in the same location as the previous graphic. By increasing the value of
<code class="docutils literal notranslate"><span class="pre">max_stops_per_route</span></code> to 4, and limiting the total travel time per vehicle (<code class="docutils literal notranslate"><span class="pre">max_route_time</span></code>),
the travel times are balanced even though one route visits more stops.</p>
</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="row-even"><td><p>route_start_time</p></td>
<td><p>Required datetime.datetime. Specify when the vehicles or people start their routes.
The time is specified as datetime.
The starting time value is the same for all routes; that is, all routes start at the same time.</p>
<p>Time zones affect what value you assign to <code class="docutils literal notranslate"><span class="pre">route_start_time</span></code>. The time zone for the start time is
based on the time zone in which the starting point is geographically located. For instance,
if you have one route starting location and it is located in Pacific Standard Time (PST),
the time you specify for <code class="docutils literal notranslate"><span class="pre">route_start_time</span></code> is in PST.</p>
<p>There are a couple of scenarios to beware of given that starting times are based on where
the starting points are located. One situation to be careful of is when you are located in
one time zone but your starting locations are in another times zone. For instance, assume
you are in Pacific Standard Time (UTC-8:00) and the vehicles you are routing are stationed
in Mountain Standard Time (UTC-7:00). If it is currently 9:30 a.m. PST (10:30 a.m. MST)
and your vehicles need to begin their routes in 30 minutes, you would set the start time
to 11:00 a.m. That is, the starting locations for the routes are in the Mountain time zone,
and it is currently 10:30 a.m. there, therefore, a starting time of 30 minutes from now is 11:00 a.m.
Make sure you set the parameter according to the proper time zone.</p>
<p>The other situation that requires caution is where starting locations are spread across
multiple time zones. The time you set for <code class="docutils literal notranslate"><span class="pre">route_start_time</span></code> is specific to the time zone in
which the starting location is regardless of whether there are one or more starting locations
in the problem you submit. For instance, if one route starts from a point in PST and another
route starts from MST, and you enter 11:00 a.m. as the start time, the route in PST will start
at 11:00 a.m. PST and the route in MST will start at 11:00 a.m. MST a one-hour difference. The
starting times are the same in local time, but offset in actual time, or UTC.</p>
<p>The service automatically determines the time zones of the input starting locations (<code class="docutils literal notranslate"><span class="pre">start_layer</span></code>) for you.</p>
<p>Examples:</p>
<ul class="simple">
<li><p>datetime(2014, 10, 22, 8, 0) # 8:00, 22 October 2014. Routes will depart their
starting locations at 8:00 a.m., 22 October. Any routes with starting points in Mountain
Standard Time start at 8:00 a.m., 22 October 2014 MST; any routes with starting points in
Pacific Standard Time start at 8:00 a.m. 22 October 2014 PST, and so on.</p></li>
<li><p>datetime(2015, 3, 18, 10, 20) # 10:20, 18 March 2015.</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>start_layer</p></td>
<td><p>Required feature layer. Provide the locations where the people or vehicles start their routes.
You can specify one or many starting locations.</p>
<p>If specifying one, all routes will start from the one location. If specifying many starting
locations, each route needs exactly one predefined starting location, and the following criteria must be met:</p>
<p>The number of routes (<code class="docutils literal notranslate"><span class="pre">route_count</span></code>) must equal the number of points in <code class="docutils literal notranslate"><span class="pre">start_layer</span></code>. (However,
when only one point is included in <code class="docutils literal notranslate"><span class="pre">start_layer</span></code>, it is assumed that all routes start from
the same location, and the two numbers can be different.)
The starting location for each route must be identified with the <code class="docutils literal notranslate"><span class="pre">start_layer_route_id_field</span></code>
parameter. This implies that the input points in <code class="docutils literal notranslate"><span class="pre">start_layer</span></code> have a unique identifier.
Bear in mind that if you also have many ending locations, those locations need to be
predetermined as well. The predetermined start and end locations of each route are
paired together by matching route ID values.
See the the section of this topic entitled Starting and ending locations of
routes to learn more. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p>
</td>
</tr>
<tr class="row-even"><td><p>start_layer_route_id_field</p></td>
<td><p>Optional string. Choose a field that uniquely identifies points in start_layer.
This parameter is required when <code class="docutils literal notranslate"><span class="pre">start_layer</span></code> has more than one point; it is ignored otherwise.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">start_layer_route_id_field</span></code> parameter helps identify where routes begin and
indicates the names of the output routes.</p>
<p>See the the section of this topic entitled Starting and ending locations
of routes to learn more.</p>
</td>
</tr>
<tr class="row-odd"><td><p>return_to_start</p></td>
<td><p>Optional boolean. A True value indicates each route must end its trip at the same place where
it started. The starting location is defined by the <code class="docutils literal notranslate"><span class="pre">start_layer</span></code> and <code class="docutils literal notranslate"><span class="pre">start_layer_route_id_field</span></code> parameters.</p>
<p>The default value is True.</p>
</td>
</tr>
<tr class="row-even"><td><p>end_layer</p></td>
<td><p>Optional layer. Provide the locations where the people or vehicles end their routes.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">end_layer</span></code> is not specified, <code class="docutils literal notranslate"><span class="pre">return_to_start</span></code> must be set to True.</p>
<p>You can specify one or many ending locations.</p>
<p>If specifying one, all routes will end at the one location. If specifying many ending
locations, each route needs exactly one predefined ending location, and the following criteria must be met:</p>
<ul class="simple">
<li><p>The number of routes (<code class="docutils literal notranslate"><span class="pre">route_count</span></code>) must equal the number of points in <code class="docutils literal notranslate"><span class="pre">end_layer</span></code>.</p></li>
</ul>
<blockquote>
<div><p>(However, when only one point is included in <code class="docutils literal notranslate"><span class="pre">end_layer</span></code>, it is assumed that all routes
end at the same location, and the two numbers can be different.)</p>
</div></blockquote>
<ul class="simple">
<li><p>The ending location for each route must be identified with the <code class="docutils literal notranslate"><span class="pre">start_layer_route_id_field</span></code></p></li>
</ul>
<blockquote>
<div><p>parameter. This implies that the input points in endLayer have a unique identifier.
Bear in mind that if you also have many starting locations, those locations need to be
predetermined as well. The predetermined start and end locations of each route are paired
together by matching route ID values. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p>
</div></blockquote>
</td>
</tr>
<tr class="row-odd"><td><p>end_layer_route_id_field</p></td>
<td><p>Optional string. Choose a field that uniquely identifies points in <code class="docutils literal notranslate"><span class="pre">end_layer</span></code>.
This parameter is required when <code class="docutils literal notranslate"><span class="pre">end_layer</span></code> has more than one point; it is ignored
if there is one point or if <code class="docutils literal notranslate"><span class="pre">return_to_start</span></code> is True.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">end_layer_route_id_field</span></code> parameter helps identify where routes end and indicates the names of the output routes.</p>
<p>See the the section of this topic entitled Starting and ending locations of routes to learn more.</p>
</td>
</tr>
<tr class="row-even"><td><p>travel_mode</p></td>
<td><p>Optional string. Optional string. Specify the mode of transportation for the analysis.</p>
<p>Choice list: [‘Driving Distance’, ‘Driving Time’, ‘Rural Driving Distance’, ‘Rural Driving Time’, ‘Trucking Distance’, ‘Trucking Time’, ‘Walking Distance’, ‘Walking Time’]</p>
</td>
</tr>
<tr class="row-odd"><td><p>stop_service_time</p></td>
<td><p>Optional float. Indicates how much time, in minutes, is spent at each stop.
The units are minutes. All stops are assinged the same service duration from
this parameter unique values for individual stops cannot be specified with this service.</p></td>
</tr>
<tr class="row-even"><td><p>max_route_time</p></td>
<td><p>Optional float. The amount of time you specify here limits the maximum duration of each route.
The maximum route time is an accumulation of travel time and the total service time at visited
stops (<code class="docutils literal notranslate"><span class="pre">stop_service_time</span></code>). This parameter is commonly used to prevent drivers from working
too many hours or to balance workloads across routes or drivers.</p>
<p>The units are ‘minutes’. The default value, which is also the maximum value, is 525600 minutes, or one year.</p>
</td>
</tr>
<tr class="row-odd"><td><p>include_route_layers</p></td>
<td><p>Optional boolean. When <code class="docutils literal notranslate"><span class="pre">include_route_layers</span></code> is set to True, each route from the result is also
saved as a route layer item. A route layer includes all the information for a particular route such as the stops assigned to
the route as well as the travel directions. Creating route layers is useful if you want to share individual routes with other
members in your organization. The route layers use the output feature service name provided in the <code class="docutils literal notranslate"><span class="pre">output_name</span></code> parameter as a
prefix and the route name generated as part of the analysis is added to create a unique name for each route layer.</p></td>
</tr>
<tr class="row-even"><td><p>output_name</p></td>
<td><p>Optional string. If provided, the method will create a feature service of the results. You define
the name of the service. If <code class="docutils literal notranslate"><span class="pre">output_name</span></code> is not supplied, the method will return a feature collection.</p></td>
</tr>
<tr class="row-odd"><td><p>context</p></td>
<td><p>Optional string. Context contains additional settings that affect task execution. For <code class="docutils literal notranslate"><span class="pre">plan_routes</span></code>, there are two settings:</p>
<ol class="arabic simple">
<li><p>Extent (<code class="docutils literal notranslate"><span class="pre">extent</span></code>) - a bounding box that defines the analysis area. Only those points in the inputLayer, start_layer, and endLayer that are within the bounding box can be visited by routes.</p></li>
<li><p>Output Spatial Reference (<code class="docutils literal notranslate"><span class="pre">outSR</span></code>)-If the output is a feature service, the spatial reference will be the same as <code class="docutils literal notranslate"><span class="pre">stops_layer</span></code>. Setting outSR for feature services has no effect.
If the output is a feature collection, the features will be in the spatial reference of the outSR value or the spatial reference of <code class="docutils literal notranslate"><span class="pre">stops_layer</span></code> when outSR is not specified.</p></li>
</ol>
</td>
</tr>
<tr class="row-even"><td><p>gis</p></td>
<td><p>Optional, the GIS on which this tool runs. If not specified, the active GIS is used.</p></td>
</tr>
<tr class="row-odd"><td><p>estimate</p></td>
<td><p>Optional boolean. If True, the number of credits to run the operation will be returned.</p></td>
</tr>
<tr class="row-even"><td><p>point_barrier_layer</p></td>
<td><p>Optional feature layer. Specify one or more point features that act as temporary restrictions (in other words, barriers) when traveling on the underlying streets.</p>
<p>A point barrier can model a fallen tree, an accident, a downed electrical line, or anything that completely blocks traffic at a specific position along the street. Travel is permitted on the street but not through the barrier. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p>
</td>
</tr>
<tr class="row-odd"><td><p>line_barrier_layer</p></td>
<td><p>Optional feature layer. Specify one or more line features that prohibit travel anywhere the lines intersect the streets.</p>
<p>A line barrier prohibits travel anywhere the barrier intersects the streets. For example, a parade or protest that blocks traffic across several street segments can be modeled with a line barrier. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p>
</td>
</tr>
<tr class="row-even"><td><p>polygon_barrier_layer</p></td>
<td><p>Optional feature layer. Specify one or more polygon features that completely restrict travel on the streets intersected by the polygons.</p>
<p>One use of this type of barrier is to model floods covering areas of the street network and making road travel there impossible. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p>
</td>
</tr>
<tr class="row-odd"><td><p>future</p></td>
<td><p>Optional boolean. If True, the result will be a GPJob object and results will be returned asynchronously.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p>feature layer Item if <code class="docutils literal notranslate"><span class="pre">output_name</span></code> is specified, else dict with the following keys:</p>
<p>”routes_layer” : layer (FeatureCollection)</p>
<p>”assigned_stops_layer” : layer (FeatureCollection)</p>
<p>”unassigned_stops_layer” : layer (FeatureCollection)</p>
</p>
</dd>
</dl>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># USAGE EXAMPLE: To plan routes to provide cab from employee residence to office.</span>
<span class="n">route</span> <span class="o">=</span> <span class="n">plan_routes</span><span class="p">(</span><span class="n">stops_layer</span><span class="o">=</span><span class="n">employee_residence</span><span class="p">,</span>
                    <span class="n">route_count</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
                    <span class="n">max_stops_per_route</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
                    <span class="n">route_start_time</span><span class="o">=</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2019</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
                    <span class="n">start_layer</span><span class="o">=</span><span class="n">office_location</span><span class="p">,</span>
                    <span class="n">start_layer_route_id_field</span><span class="o">=</span><span class="s1">&#39;n_office&#39;</span><span class="p">,</span>
                    <span class="n">return_to_start</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                    <span class="n">end_layer</span><span class="o">=</span><span class="n">office_location</span><span class="p">,</span>
                    <span class="n">end_layer_route_id_field</span><span class="o">=</span><span class="s1">&#39;n_office&#39;</span><span class="p">,</span>
                    <span class="n">travel_mode</span><span class="o">=</span><span class="s1">&#39;Driving Time&#39;</span><span class="p">,</span>
                    <span class="n">stop_service_time</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
                    <span class="n">include_route_layers</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                    <span class="n">output_name</span><span class="o">=</span><span class="s1">&#39;plan route for employees&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="summarize-nearby">
<h2>summarize_nearby<a class="headerlink" href="#summarize-nearby" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="arcgis.features.analysis.summarize_nearby">
<code class="sig-prename descclassname">arcgis.features.analysis.</code><code class="sig-name descname">summarize_nearby</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sum_nearby_layer</span></em>, <em class="sig-param"><span class="n">summary_layer</span></em>, <em class="sig-param"><span class="n">near_type</span><span class="o">=</span><span class="default_value">'StraightLine'</span></em>, <em class="sig-param"><span class="n">distances</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">units</span><span class="o">=</span><span class="default_value">'Meters'</span></em>, <em class="sig-param"><span class="n">time_of_day</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">time_zone_for_time_of_day</span><span class="o">=</span><span class="default_value">'GeoLocal'</span></em>, <em class="sig-param"><span class="n">return_boundaries</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">sum_shape</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">shape_units</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">summary_fields</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">group_by_field</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">minority_majority</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">percent_shape</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">output_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">context</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">estimate</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">future</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.features.analysis.summarize_nearby" title="Permalink to this definition">¶</a></dt>
<dd><img alt="_images/summarize_nearby.png" src="_images/summarize_nearby.png" />
<p>The <code class="docutils literal notranslate"><span class="pre">summarize_nearby</span></code> method finds features that are within a specified distance of features in the input layer.
Distance can be measured as a straight-line distance, a drive-time distance (for example, within 10 minutes), or a
drive distance (within 5 kilometers). Statistics are then calculated for the nearby features. For example:</p>
<ul class="simple">
<li><p>Calculate the total population within five minutes of driving time of a proposed new store location.</p></li>
<li><p>Calculate the number of freeway access ramps within a one-mile driving distance of a proposed new store location to use as a measure of
store accessibility.</p></li>
</ul>
<table class="docutils align-default">
<colgroup>
<col style="width: 11%" />
<col style="width: 89%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Parameter</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>sum_nearby_layer</p></td>
<td><p>Required feature layer. Point, line, or polygon features from which distances will be measured to features in the <code class="docutils literal notranslate"><span class="pre">summary_layer</span></code>. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p>summary_layer</p></td>
<td><p>Required layer. Point, line, or polygon features. Features in this layer that are within the specified distance to features in the <code class="docutils literal notranslate"><span class="pre">sum_nearby_layer</span></code> will be summarized. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p></td>
</tr>
<tr class="row-even"><td><p>near_type</p></td>
<td><p>Optional string. Defines what kind of distance measurement you want to use: straight-line distance, or by measuring travel
time or travel distance along a street network using various modes of transportation known as travel modes.</p>
<p>The default is ‘StraightLine’.</p>
<p>Choice list: [‘StraightLine’, ‘Driving Distance’, ‘Driving Time’, ‘Rural Driving Distance’, ‘Rural Driving Time’, ‘Trucking Distance’, ‘Trucking Time’, ‘Walking Distance’, ‘Walking Time’]</p>
</td>
</tr>
<tr class="row-odd"><td><p>distances</p></td>
<td><p>Optional float. Float values that defines the search distance (for ‘StraightLine’ and distance based travel modes) or time (for time based travel modes).
You can enter a single distance value or multiple values, separating each value with a space. Features that are within (or equal to) the distances you
enter will be summarized. The units of the distance values is supplied by the units parameter.</p></td>
</tr>
<tr class="row-even"><td><p>units</p></td>
<td><p>Otional string. If <code class="docutils literal notranslate"><span class="pre">near_type</span></code> is ‘StraightLine’ or a distance-based travel mode, this is the linear unit to be used with the distance value(s) specified in distances.</p>
<p>Choice list: [‘Meters’, ‘Kilometers’, ‘Feet’, ‘Yards’, ‘Miles’]</p>
<p>If <code class="docutils literal notranslate"><span class="pre">near_type</span></code> is a time based travel mode, the following values can be used as units:</p>
<p>Choice list: [‘Seconds’, ‘Minutes’, ‘Hours’]</p>
<p>The default is ‘Meters’.</p>
</td>
</tr>
<tr class="row-odd"><td><p>time_of_day</p></td>
<td><p>Optional datetime.datetime. Specify whether travel times should consider traffic conditions. To use traffic in the analysis,
set <code class="docutils literal notranslate"><span class="pre">near_type</span></code> to a travel mode object whose impedance_attribute_name property is set to travel_time and assign a value
to <code class="docutils literal notranslate"><span class="pre">time_of_day</span></code>. (A travel mode with other impedance_attribute_name values don’t support traffic.) The <code class="docutils literal notranslate"><span class="pre">time_of_day</span></code> value represents
the time at which travel begins, or departs, from the origin points. The time is specified as datetime.datetime.</p>
<p>The service supports two kinds of traffic: typical and live. Typical traffic references travel speeds that are made up of historical
averages for each five-minute interval spanning a week. Live traffic retrieves speeds from a traffic feed that processes phone probe
records, sensors, and other data sources to record actual travel speeds and predict speeds for the near future.</p>
<p>The <a class="reference external" href="http://www.arcgis.com/home/webmap/viewer.html?webmap=b7a893e8e1e04311bd925ea25cb8d7c7">data coverage</a> page shows the countries
Esri currently provides traffic data for.</p>
<p>Typical Traffic:</p>
<p>To ensure the task uses typical traffic in locations where it is available, choose a time and day of the week, and then convert the day
of the week to one of the following dates from 1990:</p>
<ul class="simple">
<li><p>Monday - 1/1/1990</p></li>
<li><p>Tuesday - 1/2/1990</p></li>
<li><p>Wednesday - 1/3/1990</p></li>
<li><p>Thursday - 1/4/1990</p></li>
<li><p>Friday - 1/5/1990</p></li>
<li><p>Saturday - 1/6/1990</p></li>
<li><p>Sunday - 1/7/1990</p></li>
</ul>
<p>Set the time and date as datetime.datetime.</p>
<p>For example, to solve for 1:03 p.m. on Thursdays, set the time and date to 1:03 p.m., 4 January 1990; and convert to
datetime eg. datetime.datetime(1990, 1, 4, 1, 3).</p>
<p>Live Traffic:</p>
<p>To use live traffic when and where it is available, choose a time and date and convert to datetime.</p>
<p>Esri saves live traffic data for 12 hours and references predictive data extending 12 hours into the future. If the time and date you
specify for this parameter is outside the 24-hour time window, or the travel time in the analysis continues past the predictive data window,
the task falls back to typical traffic speeds.</p>
<p>Examples:
from datetime import datetime</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">time_of_day</span></code>- datetime(1990, 1, 4, 1, 3) # 13:03, 4 January 1990. Typical traffic on Thursdays at 1:03 p.m.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">time_of_day</span></code>- datetime(1990, 1, 7, 17, 0) # 17:00, 7 January 1990. Typical traffic on Sundays at 5:00 p.m.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">time_of_day</span></code>- datetime(2014, 10, 22, 8, 0) # 8:00, 22 October 2014. If the current time is between 8:00 p.m., 21 Oct. 2014 and 8:00 p.m., 22 Oct. 2014,
live traffic speeds are referenced in the analysis; otherwise, typical traffic speeds are referenced.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">time_of_day</span></code>- datetime(2015, 3, 18, 10, 20) # 10:20, 18 March 2015. If the current time is between 10:20 p.m., 17 Mar. 2015 and 10:20 p.m., 18 Mar. 2015,
live traffic speeds are referenced in the analysis; otherwise, typical traffic speeds are referenced.</p></li>
</ul>
</td>
</tr>
<tr class="row-even"><td><p>time_zone_for_time_of_day</p></td>
<td><p>Optional string. Specify the time zone or zones of the <code class="docutils literal notranslate"><span class="pre">time_of_day</span></code> parameter.</p>
<p>Choice list: [‘GeoLocal’, ‘UTC’]</p>
<p>GeoLocal-refers to the time zone in which the originsLayer points are located.</p>
<p>UTC-refers to Coordinated Universal Time.</p>
<p>The default is ‘GeoLocal’.</p>
</td>
</tr>
<tr class="row-odd"><td><p>return_boundaries</p></td>
<td><p>Optional boolean. If true, the <code class="docutils literal notranslate"><span class="pre">result_layer</span></code> will contain areas defined by the specified <code class="docutils literal notranslate"><span class="pre">near_type</span></code>. For example, if using ‘StraightLine’ of 5 miles,
the <code class="docutils literal notranslate"><span class="pre">result_layer</span></code> will contain areas with a 5 mile radius around the input <code class="docutils literal notranslate"><span class="pre">sum_nearby_layer</span></code> features.</p>
<p>If False, the <code class="docutils literal notranslate"><span class="pre">result_ayer</span></code> will contain the same features as the <code class="docutils literal notranslate"><span class="pre">sum_nearby_layer</span></code>.</p>
<p>The default is True.</p>
</td>
</tr>
<tr class="row-even"><td><p>sum_shape</p></td>
<td><p>Optional boolean. A boolean value that instructs the task to calculate statistics based on shape type of the <code class="docutils literal notranslate"><span class="pre">summary_layer</span></code>,
such as the length of lines or areas of polygons of the <code class="docutils literal notranslate"><span class="pre">summary_layer</span></code> within each polygon in <code class="docutils literal notranslate"><span class="pre">sum_within_layer</span></code>.</p>
<p>The default is True.</p>
</td>
</tr>
<tr class="row-odd"><td><p>shape_units</p></td>
<td><p>Optional string. If <code class="docutils literal notranslate"><span class="pre">sum_shape</span></code> is true, you must specify the units of the shape summary.
Values:</p>
<p>When <code class="docutils literal notranslate"><span class="pre">summary_layer</span></code> contains polygons: Values: [‘Acres’, ‘Hectares’, ‘SquareMeters’, ‘SquareKilometers’, ‘SquareFeet’, ‘SquareYards’, ‘SquareMiles’]
When <code class="docutils literal notranslate"><span class="pre">summary_layer</span></code> contains lines: Values: [‘Meters’, ‘Kilometers’, ‘Feet’, ‘Yards’, ‘Miles’]</p>
</td>
</tr>
<tr class="row-even"><td><p>summary_fields</p></td>
<td><p>Optional list of strings.A list of field names and statistical summary types that you want to calculate.
Note that the count is always returned by default.</p>
<p>fieldName is the name of one of the numeric fields found in the input join layer.</p>
<p>statisticType is one of the following:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SUM</span></code>-Adds the total value of all the points in each polygon</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MEAN</span></code>-Calculates the average of all the points in each polygon</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MIN</span></code>-Finds the smallest value of all the points in each polygon</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MAX</span></code>-Finds the largest value of all the points in each polygon</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">STDDEV</span></code>-Finds the standard deviation of all the points in each polygon</p></li>
</ul>
<p>Example: [“fieldName summaryType”,”fieldName summaryType”, …]</p>
</td>
</tr>
<tr class="row-odd"><td><p>group_by_field</p></td>
<td><p>Optional string. This is a field of the <code class="docutils literal notranslate"><span class="pre">summary_layer</span></code> features that you can use to calculate statistics separately for each unique attribute value.
For example, suppose the <code class="docutils literal notranslate"><span class="pre">summary_layer</span></code> contains point locations of businesses that store hazardous materials, and one of the fields is HazardClass
containing codes that describe the type of hazardous material stored. To calculate summaries by each unique value of HazardClass, use HazardClass as
the <code class="docutils literal notranslate"><span class="pre">group_by_field</span></code> field.</p></td>
</tr>
<tr class="row-even"><td><p>minority_majority</p></td>
<td><p>Optional boolean. This boolean parameter is applicable only when a <code class="docutils literal notranslate"><span class="pre">group_by_field</span></code> is specified. If true, the minority (least dominant) or the
majority (most dominant) attribute values for each group field within each nearby area are calculated. Two new fields are added to
the <code class="docutils literal notranslate"><span class="pre">result_layer</span></code> prefixed with <a href="#id14"><span class="problematic" id="id15">Majority_</span></a> and <a href="#id16"><span class="problematic" id="id17">Minority_</span></a>.</p>
<p>The default is False.</p>
</td>
</tr>
<tr class="row-odd"><td><p>percent_shape</p></td>
<td><p>Optional boolean. This Boolean parameter is applicable only when a <code class="docutils literal notranslate"><span class="pre">group_by_field</span></code> is specified. If set to true,
the percentage of each unique <code class="docutils literal notranslate"><span class="pre">group_by_field</span></code> value is calculated for each <code class="docutils literal notranslate"><span class="pre">sum_nearby_layer</span></code> feature.</p>
<p>The default is False.</p>
</td>
</tr>
<tr class="row-even"><td><p>output_name</p></td>
<td><p>Optional string. If provided, the task will create a feature service of the results. You define the name of the service.
If <code class="docutils literal notranslate"><span class="pre">output_name</span></code> is not supplied, the task will return a feature collection.</p></td>
</tr>
<tr class="row-odd"><td><p>context</p></td>
<td><p>Optional string. Context contains additional settings that affect task execution. For  <code class="docutils literal notranslate"><span class="pre">summarize_nearby</span></code>, there are two settings.</p>
<ol class="arabic simple">
<li><p>Extent (<code class="docutils literal notranslate"><span class="pre">extent</span></code>) - a bounding box that defines the analysis area. Only those features in the <code class="docutils literal notranslate"><span class="pre">sum_nearby_layer</span></code> and <code class="docutils literal notranslate"><span class="pre">summary_layer</span></code> that intersect the bounding box will be analyzed.</p></li>
<li><p>Output Spatial Reference (<code class="docutils literal notranslate"><span class="pre">outSR</span></code>) - the output features will be projected into the output spatial reference.</p></li>
</ol>
</td>
</tr>
<tr class="row-even"><td><p>estimate</p></td>
<td><p>Optional boolean. Returns the number of credit for the operation.</p></td>
</tr>
<tr class="row-odd"><td><p>future</p></td>
<td><p>Optional boolean. If True, the result will be a GPJob object and results will be returned asynchronously.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p>result_layer : feature layer Item if <code class="docutils literal notranslate"><span class="pre">output_name</span></code> is specified, else Feature Collection.</p>
<p>dict with the following keys:</p>
<blockquote>
<div><p>”result_layer” : layer (FeatureCollection)</p>
<p>”group_by_summary” : layer (FeatureCollection)</p>
</div></blockquote>
</p>
</dd>
</dl>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># USAGE EXAMPLE: To find hospital facilities that are within 5 miles of a school.</span>
<span class="n">summarize_nearby</span><span class="p">(</span><span class="n">sum_nearby_layer</span><span class="o">=</span><span class="n">item2</span><span class="o">.</span><span class="n">layers</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                 <span class="n">summary_layer</span><span class="o">=</span><span class="n">item1</span><span class="o">.</span><span class="n">layers</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                 <span class="n">near_type</span><span class="o">=</span><span class="s1">&#39;StraightLine&#39;</span><span class="p">,</span>
                 <span class="n">distances</span><span class="o">=</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>
                 <span class="n">units</span><span class="o">=</span><span class="s1">&#39;Miles&#39;</span><span class="p">,</span>
                 <span class="n">time_zone_for_time_of_day</span><span class="o">=</span><span class="s1">&#39;GeoLocal&#39;</span><span class="p">,</span>
                 <span class="n">return_boundaries</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
                 <span class="n">sum_shape</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                 <span class="n">shape_units</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">output_name</span><span class="o">=</span><span class="s1">&#39;nearest hospitals to schools&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="summarize-center-and-dispersion">
<h2>summarize_center_and_dispersion<a class="headerlink" href="#summarize-center-and-dispersion" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="arcgis.features.analysis.summarize_center_and_dispersion">
<code class="sig-prename descclassname">arcgis.features.analysis.</code><code class="sig-name descname">summarize_center_and_dispersion</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">analysis_layer</span></em>, <em class="sig-param"><span class="n">summarize_type</span><span class="o">=</span><span class="default_value">['CentralFeature']</span></em>, <em class="sig-param"><span class="n">ellipse_size</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">weight_field</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">group_field</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">output_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">context</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">estimate</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">future</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.features.analysis.summarize_center_and_dispersion" title="Permalink to this definition">¶</a></dt>
<dd><img alt="_images/summarize_center_and_dispersion.png" src="_images/summarize_center_and_dispersion.png" />
<p>The <code class="docutils literal notranslate"><span class="pre">summarize_center_and_dispersion</span></code> method finds central features and directional distributions. It can be used to answer questions such as:</p>
<ul class="simple">
<li><p>Where is the center?</p></li>
<li><p>Which feature is the most accessible from all other features?</p></li>
<li><p>How dispersed, compact, or integrated are the features?</p></li>
<li><p>Are there directional trends?s</p></li>
</ul>
<table class="docutils align-default">
<colgroup>
<col style="width: 11%" />
<col style="width: 89%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>analysis_layer</p></td>
<td><p>Required frature layer. The point, line, or polygon features to be analyzed. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p>summarize_type</p></td>
<td><p>Required list of strings. The method with which to summarize the <code class="docutils literal notranslate"><span class="pre">analysis_layer</span></code>.</p>
<p>Choice list: [“CentralFeature”, “MeanCenter”, “MedianCenter”, “Ellipse”]</p>
</td>
</tr>
<tr class="row-even"><td><p>ellipse_size</p></td>
<td><p>Optional string. The size of the output ellipse in standard deviations.</p>
<p>Choice list: [‘1 standard deviations’, ‘2 standard deviations’, ‘3 standard deviations’]</p>
<p>The default ellipse size is ‘1 standard deviations’.</p>
</td>
</tr>
<tr class="row-odd"><td><p>weight_field</p></td>
<td><p>Optional field. A numeric field in the <code class="docutils literal notranslate"><span class="pre">analysis_layer</span></code> to be used to
weight locations according to their relative importance.</p></td>
</tr>
<tr class="row-even"><td><p>group_field</p></td>
<td><p>Optional field. The field used to group features for separate directional
distribution calculations. The <code class="docutils literal notranslate"><span class="pre">group_field</span></code> can be of
integer, date, or string type.</p></td>
</tr>
<tr class="row-odd"><td><p>output_name</p></td>
<td><p>Optional string. If provided, the method will create a feature service of the results.
You define the name of the service. If <code class="docutils literal notranslate"><span class="pre">output_name</span></code> is not supplied, the method will return a feature collection.</p></td>
</tr>
<tr class="row-even"><td><p>context</p></td>
<td><p>Optional string. Context contains additional settings that affect task execution. For <code class="docutils literal notranslate"><span class="pre">summarize_center_and_dispersion</span></code>, there are two settings.</p>
<ol class="arabic simple">
<li><p>Extent (<code class="docutils literal notranslate"><span class="pre">extent</span></code>) - a bounding box that defines the analysis area. Only those features in the input layer that intersect the bounding box will be buffered.</p></li>
<li><p>Output Spatial Reference (<code class="docutils literal notranslate"><span class="pre">outSR</span></code>) - the output features will be projected into the output spatial reference.</p></li>
</ol>
</td>
</tr>
<tr class="row-odd"><td><p>estimate</p></td>
<td><p>Optional boolean. If True, the number of credits to run the operation will be returned.</p></td>
</tr>
<tr class="row-even"><td><p>future</p></td>
<td><p>Optional boolean. If True, the result will be a GPJob object and results will be returned asynchronously.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of items if <code class="docutils literal notranslate"><span class="pre">output_name</span></code> is supplied else, a Python dictionary with the following keys:
“central_feature_result_layer” : layer (FeatureCollection)
“mean_feature_result_layer” : layer (FeatureCollection)
“median_feature_result_layer” : layer (FeatureCollection)
“ellipse_feature_result_layer” : layer (FeatureCollection)</p>
</dd>
</dl>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># USAGE EXAMPLE: To find central features and mean center of earthquake over past months.</span>
<span class="n">central_features</span> <span class="o">=</span> <span class="n">summarize_center_and_dispersion</span><span class="p">(</span><span class="n">analysis_layer</span><span class="o">=</span><span class="n">earthquakes</span><span class="p">,</span>
                                                   <span class="n">summarize_type</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;CentralFeature&quot;</span><span class="p">,</span><span class="s2">&quot;MeanCenter&quot;</span><span class="p">],</span>
                                                   <span class="n">ellipse_size</span><span class="o">=</span><span class="s1">&#39;2 standard deviations&#39;</span><span class="p">,</span>
                                                   <span class="n">weight_field</span><span class="o">=</span><span class="s1">&#39;mag&#39;</span><span class="p">,</span>
                                                   <span class="n">group_field</span><span class="o">=</span><span class="s1">&#39;magType&#39;</span><span class="p">,</span>
                                                   <span class="n">output_name</span><span class="o">=</span><span class="s1">&#39;find central features and mean center of earthquake over past months&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="summarize-within">
<h2>summarize_within<a class="headerlink" href="#summarize-within" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="arcgis.features.analysis.summarize_within">
<code class="sig-prename descclassname">arcgis.features.analysis.</code><code class="sig-name descname">summarize_within</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sum_within_layer</span></em>, <em class="sig-param"><span class="n">summary_layer</span></em>, <em class="sig-param"><span class="n">sum_shape</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">shape_units</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">summary_fields</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">group_by_field</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">minority_majority</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">percent_shape</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">output_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">context</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">estimate</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">future</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.features.analysis.summarize_within" title="Permalink to this definition">¶</a></dt>
<dd><img alt="_images/summarize_within.png" src="_images/summarize_within.png" />
<p>The <code class="docutils literal notranslate"><span class="pre">summarize_within</span></code> method finds the point, line, or polygon features (or portions of these features)
that are within the boundaries of polygons in another layer. For example:</p>
<blockquote>
<div><ul class="simple">
<li><p>Given a layer of watershed boundaries and a layer of land-use boundaries by land-use type, calculate total acreage of land-use type for each watershed.</p></li>
<li><p>Given a layer of parcels in a county and a layer of city boundaries, summarize the average value of vacant parcels within each city boundary.</p></li>
<li><p>Given a layer of counties and a layer of roads, summarize the total mileage of roads by road type within each county.</p></li>
</ul>
</div></blockquote>
<p>You can think of <code class="docutils literal notranslate"><span class="pre">summarize_within</span></code> as taking two layers and stacking them on top of each other.
One of the layers, the <code class="docutils literal notranslate"><span class="pre">sum_within_layer</span></code> must be a polygon layer, and imagine that these polygon
boundaries are all colored red. The other layer, the <code class="docutils literal notranslate"><span class="pre">summary_layer</span></code>, can be any feature type point,
line, or polygon. After stacking these layers on top of each other, you peer down through the stack
and count the number of features in the <code class="docutils literal notranslate"><span class="pre">summary_layer</span></code> that fall within the polygons with the red
boundaries (the <code class="docutils literal notranslate"><span class="pre">sum_within_layer</span></code>). Not only can you count the number of features, you can calculate
simple statistics about the attributes of the features in the <code class="docutils literal notranslate"><span class="pre">summary_layer</span></code>, such as sum, mean, minimum, maximum, and so on.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 16%" />
<col style="width: 84%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>sum_within_layer</p></td>
<td><p>Required feature layer. The polygon features. Features, or
portions of features, in the <code class="docutils literal notranslate"><span class="pre">summary_layer</span></code> (below) that fall within
the boundaries of these polygons will be summarized. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p>summary_layer</p></td>
<td><p>Required feature layer. Point, line, or polygon features that will be summarized for each polygon in the <code class="docutils literal notranslate"><span class="pre">sum_within_layer</span></code>.
See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p></td>
</tr>
<tr class="row-even"><td><p>sum_shape</p></td>
<td><p>Optional boolean. A boolean value that instructs the task to calculate statistics
based on shape type of the <code class="docutils literal notranslate"><span class="pre">summary_layer</span></code>, such as the length of lines or areas of
polygons of the <code class="docutils literal notranslate"><span class="pre">summary_layer</span></code> within each polygon in <code class="docutils literal notranslate"><span class="pre">sum_within_layer</span></code>.</p>
<p>The default is True.</p>
</td>
</tr>
<tr class="row-odd"><td><p>shape_units</p></td>
<td><p>Optional string. Specify units to summarize the length or areas when <code class="docutils literal notranslate"><span class="pre">sum_shape</span></code> is set to true. Units is not required to summarize
points.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">summary_layer</span></code> contains polygons: [‘Acres’, ‘Hectares’, ‘SquareMeters’, ‘SquareKilometers’, ‘SquareMiles’, ‘SquareYards’, ‘SquareFeet’]</p>
<p>When <code class="docutils literal notranslate"><span class="pre">summary_layer</span></code> contains lines: [‘Meters’, ‘Kilometers’, ‘Feet’, ‘Yards’, ‘Miles’]</p>
</td>
</tr>
<tr class="row-even"><td><p>summary_fields</p></td>
<td><p>Optional list of strings. A list of field names and statistical summary type that you wish
to calculate for all features in the <code class="docutils literal notranslate"><span class="pre">summary_layer</span></code> that are within each polygon in the <code class="docutils literal notranslate"><span class="pre">sum_within_layer</span></code> .</p>
<p>Example: [“fieldname1 summary”, “fieldname2 summary”]</p>
</td>
</tr>
<tr class="row-odd"><td><p>group_by_field</p></td>
<td><p>Optional string. This is a field of the <code class="docutils literal notranslate"><span class="pre">summary_layer</span></code> features that you can use to calculate statistics separately
for each unique attribute value. For example, suppose the <code class="docutils literal notranslate"><span class="pre">sum_within_layer</span></code> contains city boundaries and
the <code class="docutils literal notranslate"><span class="pre">summary_layer</span></code> features are parcels. One of the fields of the parcels is Status which contains
two values: VACANT and OCCUPIED. To calculate the total area of vacant and occupied parcels within the
boundaries of cities, use Status as the <code class="docutils literal notranslate"><span class="pre">group_by_field</span></code> field.</p></td>
</tr>
<tr class="row-even"><td><p>minority_majority</p></td>
<td><p>Optional boolean. This boolean parameter is applicable only when a <code class="docutils literal notranslate"><span class="pre">group_by_field</span></code> is specified.
If true, the minority (least dominant) or the majority (most dominant) attribute values for each group
field are calculated. Two new fields are added to the <code class="docutils literal notranslate"><span class="pre">result_layer</span></code> prefixed with <a href="#id18"><span class="problematic" id="id19">Majority_</span></a> and <a href="#id20"><span class="problematic" id="id21">Minority_</span></a>.</p>
<p>The default is False.</p>
</td>
</tr>
<tr class="row-odd"><td><p>percent_shape</p></td>
<td><p>Optional boolean. This Boolean parameter is applicable only when a <code class="docutils literal notranslate"><span class="pre">group_by_field</span></code> is specified.
If set to true, the percentage of each unique <code class="docutils literal notranslate"><span class="pre">group_by_field</span></code> value is calculated for
each <code class="docutils literal notranslate"><span class="pre">sum_within_layer</span></code> polygon.</p>
<p>The default is False.</p>
</td>
</tr>
<tr class="row-even"><td><p>output_name</p></td>
<td><p>Optional string. If provided, the method will create a feature service of the results.
You define the name of the service. If <code class="docutils literal notranslate"><span class="pre">output_name</span></code> is not supplied, the method will return a feature collection.</p></td>
</tr>
<tr class="row-odd"><td><p>context</p></td>
<td><p>Optional string. Context contains additional settings that affect task execution. For <code class="docutils literal notranslate"><span class="pre">summarize_within</span></code>, there are two settings.</p>
<ol class="arabic simple">
<li><p>Extent (<code class="docutils literal notranslate"><span class="pre">extent</span></code>) - a bounding box that defines the analysis area. Only those features in the <code class="docutils literal notranslate"><span class="pre">sum_within_layer</span></code> and the <code class="docutils literal notranslate"><span class="pre">Summary_layer</span></code> that intersect the bounding box will be summarized.</p></li>
<li><p>Output Spatial Reference (<code class="docutils literal notranslate"><span class="pre">outSR</span></code>) - the output features will be projected into the output spatial reference.</p></li>
</ol>
</td>
</tr>
<tr class="row-even"><td><p>estimate</p></td>
<td><p>Optional boolean. If True, the number of credits to run the operation will be returned.</p></td>
</tr>
<tr class="row-odd"><td><p>future</p></td>
<td><p>Optional boolean. If True, the result will be a GPJob object and results will be returned asynchronously.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p>Item if <code class="docutils literal notranslate"><span class="pre">output_name</span></code> is set. else results in a Python dict with the following keys:</p>
<p>dict with the following keys:</p>
<blockquote>
<div><p>”result_layer” : layer (FeatureCollection)</p>
<p>”group_by_summary” : layer (FeatureCollection)</p>
</div></blockquote>
</p>
</dd>
</dl>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># USAGE EXAMPLE: To summarize traffic accidents within each county and group them by the day of accident.</span>
<span class="n">acc_within_county</span> <span class="o">=</span> <span class="n">summarize_within</span><span class="p">(</span><span class="n">sum_within_layer</span><span class="o">=</span><span class="n">boundaries</span><span class="p">,</span>
                                     <span class="n">summary_layer</span><span class="o">=</span><span class="n">collision_lyr</span><span class="p">,</span>
                                     <span class="n">sum_shape</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                     <span class="n">group_by_field</span><span class="o">=</span><span class="s1">&#39;Day&#39;</span><span class="p">,</span>
                                     <span class="n">minority_majority</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                     <span class="n">percent_shape</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                     <span class="n">output_name</span><span class="o">=</span><span class="s1">&#39;summarize accidents within each county&#39;</span><span class="p">,</span>
                                     <span class="n">context</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;extent&quot;</span><span class="p">:{</span><span class="s2">&quot;xmin&quot;</span><span class="p">:</span><span class="o">-</span><span class="mf">13160690.837046918</span><span class="p">,</span><span class="s2">&quot;ymin&quot;</span><span class="p">:</span><span class="mf">4041586.5461609075</span><span class="p">,</span><span class="s2">&quot;xmax&quot;</span><span class="p">:</span><span class="o">-</span><span class="mf">13132466.464352652</span><span class="p">,</span><span class="s2">&quot;ymax&quot;</span><span class="p">:</span><span class="mf">4058001.397985127</span><span class="p">,</span><span class="s2">&quot;spatialReference&quot;</span><span class="p">:{</span><span class="s2">&quot;wkid&quot;</span><span class="p">:</span><span class="mi">102100</span><span class="p">,</span><span class="s2">&quot;latestWkid&quot;</span><span class="p">:</span><span class="mi">3857</span><span class="p">}}})</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="trace-downstream">
<h2>trace_downstream<a class="headerlink" href="#trace-downstream" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="arcgis.features.analysis.trace_downstream">
<code class="sig-prename descclassname">arcgis.features.analysis.</code><code class="sig-name descname">trace_downstream</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">input_layer</span></em>, <em class="sig-param"><span class="n">split_distance</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">split_units</span><span class="o">=</span><span class="default_value">'Kilometers'</span></em>, <em class="sig-param"><span class="n">max_distance</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">max_distance_units</span><span class="o">=</span><span class="default_value">'Kilometers'</span></em>, <em class="sig-param"><span class="n">bounding_polygon_layer</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">source_database</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">generalize</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">output_name</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">context</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">gis</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">estimate</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">future</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#arcgis.features.analysis.trace_downstream" title="Permalink to this definition">¶</a></dt>
<dd><img alt="_images/trace_downstream.png" src="_images/trace_downstream.png" />
<p>The <code class="docutils literal notranslate"><span class="pre">trace_downstream</span></code> method determines the trace, or flow path, in a downstream direction from the points in your analysis layer.</p>
<p>For example, suppose you have point features representing sources of contamination and you want to determine where in your study
area the contamination will flow. You can use <code class="docutils literal notranslate"><span class="pre">trace_downstream</span></code> to identify the path the contamination will take. This trace
can also be divided into individual line segments by specifying a distance value and units. The line being returned can be the
total length of the flow path, a specified maximum trace length, or clipped to area features such as your study area. In many
cases, if the total length of the trace path is returned, it will be from the source all the way to the ocean.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 22%" />
<col style="width: 78%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><strong>Argument</strong></p></td>
<td><p><strong>Description</strong></p></td>
</tr>
<tr class="row-even"><td><p>input_layer</p></td>
<td><p>Required feature layer. The point features used for the starting location of a downstream trace.
See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p>split_distance</p></td>
<td><p>Optional float. The trace line will be split into multiple lines where each line is of the specified length.
The resulting trace will have multiple line segments, each with fields FromDistance and ToDistance.</p></td>
</tr>
<tr class="row-even"><td><p>split_units</p></td>
<td><p>Optional string. The units used to specify split distance.</p>
<p>Choice list: [‘Meters’, ‘Kilometers’, ‘Feet’ ‘Yards’, ‘Miles’].</p>
<p>The default is ‘Kilometers’.</p>
</td>
</tr>
<tr class="row-odd"><td><p>max_distance</p></td>
<td><p>Optional float. Determines the total length of the line that will be returned. If you provide a
<code class="docutils literal notranslate"><span class="pre">bounding_polygon_layer</span></code> to clip the trace, the result will be clipped to the features in <code class="docutils literal notranslate"><span class="pre">bounding_polygon_layer</span></code>,
regardless of the distance you enter here.</p></td>
</tr>
<tr class="row-even"><td><p>max_distance_units</p></td>
<td><p>Optional string. The units used to specify maximum distance.</p>
<p>Choice list: [‘Meters’, ‘Kilometers’, ‘Feet’ ‘Yards’, ‘Miles’].</p>
<p>The default is ‘Kilometers’.</p>
</td>
</tr>
<tr class="row-odd"><td><p>bounding_polygon_layer</p></td>
<td><p>Optional feature layer. A polygon layer specifying the area(s) where you want the trace
downstreams to be calculated in. For example, if you only want to calculate the trace downstream
with in a county polygon, provide a layer containing the county polygon and the resulting trace
lines will be clipped to the county boundary. See <a class="reference internal" href="#featureinput"><span class="std std-ref">Feature Input</span></a>.</p></td>
</tr>
<tr class="row-even"><td><p>source_database</p></td>
<td><p>Optional string. Keyword indicating the data source resolution that will be used in the analysis.</p>
<p>Choice list: [‘Finest’, ‘30m’, ‘90m’].</p>
<blockquote>
<div><ul class="simple">
<li><p>Finest: Finest resolution available at each location from all possible data sources.</p></li>
<li><p>30m: The hydrologic source was built from 1 arc second - approximately 30 meter resolution, elevation data.</p></li>
<li><p>90m: The hydrologic source was built from 3 arc second - approximately 90 meter resolution, elevation data.</p></li>
</ul>
</div></blockquote>
<p>The default is ‘Finest’.</p>
</td>
</tr>
<tr class="row-odd"><td><p>generalize</p></td>
<td><p>Optional boolean. Determines if the output trace downstream lines will be smoothed
into simpler lines or conform to the cell edges of the original DEM.</p></td>
</tr>
<tr class="row-even"><td><p>output_name</p></td>
<td><p>Optional string. If provided, the task will create a feature service of the results.
You define the name of the service. If <code class="docutils literal notranslate"><span class="pre">output_name</span></code> is not supplied, the task will return a feature collection.</p></td>
</tr>
<tr class="row-odd"><td><p>context</p></td>
<td><p>Optional string. Context contains additional settings that affect task execution. For <code class="docutils literal notranslate"><span class="pre">trace_downstream</span></code>, there are two settings.</p>
<ol class="arabic simple">
<li><p>Extent (<code class="docutils literal notranslate"><span class="pre">extent</span></code>) - a bounding box that defines the analysis area. Only those points</p></li>
</ol>
<blockquote>
<div><p>in the <code class="docutils literal notranslate"><span class="pre">input_layer</span></code> that intersect the bounding box will have a downstream trace generated.</p>
</div></blockquote>
<ol class="arabic simple">
<li><p>Output Spatial Reference (<code class="docutils literal notranslate"><span class="pre">outSR</span></code>) - the output features will be projected into the output spatial reference.</p></li>
</ol>
</td>
</tr>
<tr class="row-even"><td><p>estimate</p></td>
<td><p>Optional boolean. If True, the number of credits to run the operation will be returned.</p></td>
</tr>
<tr class="row-odd"><td><p>future</p></td>
<td><p>Optional boolean. If True, the result will be a GPJob object and results will be returned asynchronously.</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>feature layer collection if <code class="docutils literal notranslate"><span class="pre">output_name</span></code> is set, else feature collection.</p>
</dd>
</dl>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># USAGE EXAMPLE: To identify the path the water contamination  will take.</span>
<span class="n">path</span> <span class="o">=</span> <span class="n">trace_downstream</span><span class="p">(</span><span class="n">input_layer</span><span class="o">=</span><span class="n">water_source_lyr</span><span class="p">,</span>
                        <span class="n">split_distance</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                        <span class="n">split_units</span><span class="o">=</span><span class="s1">&#39;Miles&#39;</span><span class="p">,</span>
                        <span class="n">max_distance</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
                        <span class="n">max_distance_units</span><span class="o">=</span><span class="s1">&#39;Miles&#39;</span><span class="p">,</span>
                        <span class="n">source_database</span><span class="o">=</span><span class="s1">&#39;Finest&#39;</span><span class="p">,</span>
                        <span class="n">generalize</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                        <span class="n">output_name</span><span class="o">=</span><span class="s1">&#39;trace downstream&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>



           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="arcgis.features.analyze_patterns.html" class="btn btn-neutral float-right" title="arcgis.features.analyze_patterns module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="arcgis.features.toc.html" class="btn btn-neutral float-left" title="arcgis.features module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2016-2019, Esri

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>